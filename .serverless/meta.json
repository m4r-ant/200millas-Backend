{
  "/home/ubuntu/200millas-Backend/serverless.yml": {
    "versionFramework": "4.25.0",
    "servicePath": "/home/ubuntu/200millas-Backend/serverless.yml",
    "serviceConfigFileName": "serverless.yml",
    "service": {
      "org": "m4rant",
      "service": "millas-backend",
      "provider": {
        "name": "aws",
        "runtime": "python3.12",
        "memorySize": 1024,
        "timeout": 29,
        "iam": {
          "role": "arn:aws:iam::722204368591:role/LabRole"
        },
        "environment": {
          "ORDERS_TABLE": "dev-Orders",
          "WORKFLOW_TABLE": "dev-Workflow",
          "MENU_TABLE": "dev-Menu",
          "USERS_TABLE": "dev-Users",
          "TENANT_ID": "200millas",
          "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
          "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
          "SERVERLESS_SERVICE": "millas-backend",
          "SERVERLESS_STAGE": "dev",
          "AWS_ACCOUNT_ID": "722204368591"
        },
        "stage": "dev",
        "region": "us-east-1",
        "versionFunctions": true,
        "compiledCloudFormationTemplate": {
          "AWSTemplateFormatVersion": "2010-09-09",
          "Description": "The AWS CloudFormation template for this Serverless application",
          "Resources": {
            "LoginLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/millas-backend-dev-login"
              }
            },
            "RegisterLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/millas-backend-dev-register"
              }
            },
            "AuthorizeLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/millas-backend-dev-authorize"
              }
            },
            "LogoutLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/millas-backend-dev-logout"
              }
            },
            "GetAvailableOrdersLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/millas-backend-dev-getAvailableOrders"
              }
            },
            "GetAssignedOrdersLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/millas-backend-dev-getAssignedOrders"
              }
            },
            "GetOrderDetailLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/millas-backend-dev-getOrderDetail"
              }
            },
            "GetDriverStatsLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/millas-backend-dev-getDriverStats"
              }
            },
            "GetDeliveryTimelineLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/millas-backend-dev-getDeliveryTimeline"
              }
            },
            "CreateOrderLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/millas-backend-dev-createOrder"
              }
            },
            "GetOrdersLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/millas-backend-dev-getOrders"
              }
            },
            "GetOrderLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/millas-backend-dev-getOrder"
              }
            },
            "GetDashboardLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/millas-backend-dev-getDashboard"
              }
            },
            "GetOrderTimelineLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/millas-backend-dev-getOrderTimeline"
              }
            },
            "GetStaffPerformanceLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/millas-backend-dev-getStaffPerformance"
              }
            },
            "GetCategoriesLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/millas-backend-dev-getCategories"
              }
            },
            "GetItemsLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/millas-backend-dev-getItems"
              }
            },
            "UploadMenuImageLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/millas-backend-dev-uploadMenuImage"
              }
            },
            "ConfirmOrderLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/millas-backend-dev-confirmOrder"
              }
            },
            "AssignCookLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/millas-backend-dev-assignCook"
              }
            },
            "CompleteCookingLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/millas-backend-dev-completeCooking"
              }
            },
            "AssignDriverLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/millas-backend-dev-assignDriver"
              }
            },
            "CompleteDeliveryLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/millas-backend-dev-completeDelivery"
              }
            },
            "HandleOrderFailureLogGroup": {
              "Type": "AWS::Logs::LogGroup",
              "Properties": {
                "LogGroupName": "/aws/lambda/millas-backend-dev-handleOrderFailure"
              }
            },
            "LoginLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                  "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
                },
                "Handler": "services/auth/handler.login",
                "Runtime": "python3.12",
                "FunctionName": "millas-backend-dev-login",
                "MemorySize": 1024,
                "Timeout": 29,
                "Environment": {
                  "Variables": {
                    "ORDERS_TABLE": "dev-Orders",
                    "WORKFLOW_TABLE": "dev-Workflow",
                    "MENU_TABLE": "dev-Menu",
                    "USERS_TABLE": "dev-Users",
                    "TENANT_ID": "200millas",
                    "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                    "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                    "SERVERLESS_SERVICE": "millas-backend",
                    "SERVERLESS_STAGE": "dev",
                    "AWS_ACCOUNT_ID": "722204368591"
                  }
                },
                "Role": "arn:aws:iam::722204368591:role/LabRole"
              },
              "DependsOn": [
                "LoginLogGroup"
              ]
            },
            "RegisterLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                  "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
                },
                "Handler": "services/auth/handler.register",
                "Runtime": "python3.12",
                "FunctionName": "millas-backend-dev-register",
                "MemorySize": 1024,
                "Timeout": 29,
                "Environment": {
                  "Variables": {
                    "ORDERS_TABLE": "dev-Orders",
                    "WORKFLOW_TABLE": "dev-Workflow",
                    "MENU_TABLE": "dev-Menu",
                    "USERS_TABLE": "dev-Users",
                    "TENANT_ID": "200millas",
                    "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                    "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                    "SERVERLESS_SERVICE": "millas-backend",
                    "SERVERLESS_STAGE": "dev",
                    "AWS_ACCOUNT_ID": "722204368591"
                  }
                },
                "Role": "arn:aws:iam::722204368591:role/LabRole"
              },
              "DependsOn": [
                "RegisterLogGroup"
              ]
            },
            "AuthorizeLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                  "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
                },
                "Handler": "services/auth/handler.authorize",
                "Runtime": "python3.12",
                "FunctionName": "millas-backend-dev-authorize",
                "MemorySize": 1024,
                "Timeout": 29,
                "Environment": {
                  "Variables": {
                    "ORDERS_TABLE": "dev-Orders",
                    "WORKFLOW_TABLE": "dev-Workflow",
                    "MENU_TABLE": "dev-Menu",
                    "USERS_TABLE": "dev-Users",
                    "TENANT_ID": "200millas",
                    "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                    "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                    "SERVERLESS_SERVICE": "millas-backend",
                    "SERVERLESS_STAGE": "dev",
                    "AWS_ACCOUNT_ID": "722204368591"
                  }
                },
                "Role": "arn:aws:iam::722204368591:role/LabRole"
              },
              "DependsOn": [
                "AuthorizeLogGroup"
              ]
            },
            "LogoutLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                  "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
                },
                "Handler": "services/auth/handler.logout",
                "Runtime": "python3.12",
                "FunctionName": "millas-backend-dev-logout",
                "MemorySize": 1024,
                "Timeout": 29,
                "Environment": {
                  "Variables": {
                    "ORDERS_TABLE": "dev-Orders",
                    "WORKFLOW_TABLE": "dev-Workflow",
                    "MENU_TABLE": "dev-Menu",
                    "USERS_TABLE": "dev-Users",
                    "TENANT_ID": "200millas",
                    "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                    "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                    "SERVERLESS_SERVICE": "millas-backend",
                    "SERVERLESS_STAGE": "dev",
                    "AWS_ACCOUNT_ID": "722204368591"
                  }
                },
                "Role": "arn:aws:iam::722204368591:role/LabRole"
              },
              "DependsOn": [
                "LogoutLogGroup"
              ]
            },
            "GetAvailableOrdersLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                  "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
                },
                "Handler": "services/driver/handler.get_available_orders",
                "Runtime": "python3.12",
                "FunctionName": "millas-backend-dev-getAvailableOrders",
                "MemorySize": 1024,
                "Timeout": 29,
                "Environment": {
                  "Variables": {
                    "ORDERS_TABLE": "dev-Orders",
                    "WORKFLOW_TABLE": "dev-Workflow",
                    "MENU_TABLE": "dev-Menu",
                    "USERS_TABLE": "dev-Users",
                    "TENANT_ID": "200millas",
                    "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                    "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                    "SERVERLESS_SERVICE": "millas-backend",
                    "SERVERLESS_STAGE": "dev",
                    "AWS_ACCOUNT_ID": "722204368591"
                  }
                },
                "Role": "arn:aws:iam::722204368591:role/LabRole"
              },
              "DependsOn": [
                "GetAvailableOrdersLogGroup"
              ]
            },
            "GetAssignedOrdersLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                  "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
                },
                "Handler": "services/driver/handler.get_assigned_orders",
                "Runtime": "python3.12",
                "FunctionName": "millas-backend-dev-getAssignedOrders",
                "MemorySize": 1024,
                "Timeout": 29,
                "Environment": {
                  "Variables": {
                    "ORDERS_TABLE": "dev-Orders",
                    "WORKFLOW_TABLE": "dev-Workflow",
                    "MENU_TABLE": "dev-Menu",
                    "USERS_TABLE": "dev-Users",
                    "TENANT_ID": "200millas",
                    "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                    "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                    "SERVERLESS_SERVICE": "millas-backend",
                    "SERVERLESS_STAGE": "dev",
                    "AWS_ACCOUNT_ID": "722204368591"
                  }
                },
                "Role": "arn:aws:iam::722204368591:role/LabRole"
              },
              "DependsOn": [
                "GetAssignedOrdersLogGroup"
              ]
            },
            "GetOrderDetailLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                  "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
                },
                "Handler": "services/driver/handler.get_order_detail",
                "Runtime": "python3.12",
                "FunctionName": "millas-backend-dev-getOrderDetail",
                "MemorySize": 1024,
                "Timeout": 29,
                "Environment": {
                  "Variables": {
                    "ORDERS_TABLE": "dev-Orders",
                    "WORKFLOW_TABLE": "dev-Workflow",
                    "MENU_TABLE": "dev-Menu",
                    "USERS_TABLE": "dev-Users",
                    "TENANT_ID": "200millas",
                    "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                    "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                    "SERVERLESS_SERVICE": "millas-backend",
                    "SERVERLESS_STAGE": "dev",
                    "AWS_ACCOUNT_ID": "722204368591"
                  }
                },
                "Role": "arn:aws:iam::722204368591:role/LabRole"
              },
              "DependsOn": [
                "GetOrderDetailLogGroup"
              ]
            },
            "GetDriverStatsLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                  "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
                },
                "Handler": "services/driver/handler.get_driver_stats",
                "Runtime": "python3.12",
                "FunctionName": "millas-backend-dev-getDriverStats",
                "MemorySize": 1024,
                "Timeout": 29,
                "Environment": {
                  "Variables": {
                    "ORDERS_TABLE": "dev-Orders",
                    "WORKFLOW_TABLE": "dev-Workflow",
                    "MENU_TABLE": "dev-Menu",
                    "USERS_TABLE": "dev-Users",
                    "TENANT_ID": "200millas",
                    "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                    "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                    "SERVERLESS_SERVICE": "millas-backend",
                    "SERVERLESS_STAGE": "dev",
                    "AWS_ACCOUNT_ID": "722204368591"
                  }
                },
                "Role": "arn:aws:iam::722204368591:role/LabRole"
              },
              "DependsOn": [
                "GetDriverStatsLogGroup"
              ]
            },
            "GetDeliveryTimelineLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                  "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
                },
                "Handler": "services/driver/handler.get_delivery_timeline",
                "Runtime": "python3.12",
                "FunctionName": "millas-backend-dev-getDeliveryTimeline",
                "MemorySize": 1024,
                "Timeout": 29,
                "Environment": {
                  "Variables": {
                    "ORDERS_TABLE": "dev-Orders",
                    "WORKFLOW_TABLE": "dev-Workflow",
                    "MENU_TABLE": "dev-Menu",
                    "USERS_TABLE": "dev-Users",
                    "TENANT_ID": "200millas",
                    "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                    "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                    "SERVERLESS_SERVICE": "millas-backend",
                    "SERVERLESS_STAGE": "dev",
                    "AWS_ACCOUNT_ID": "722204368591"
                  }
                },
                "Role": "arn:aws:iam::722204368591:role/LabRole"
              },
              "DependsOn": [
                "GetDeliveryTimelineLogGroup"
              ]
            },
            "CreateOrderLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                  "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
                },
                "Handler": "services/orders/handler.create_order",
                "Runtime": "python3.12",
                "FunctionName": "millas-backend-dev-createOrder",
                "MemorySize": 1024,
                "Timeout": 29,
                "Environment": {
                  "Variables": {
                    "ORDERS_TABLE": "dev-Orders",
                    "WORKFLOW_TABLE": "dev-Workflow",
                    "MENU_TABLE": "dev-Menu",
                    "USERS_TABLE": "dev-Users",
                    "TENANT_ID": "200millas",
                    "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                    "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                    "SERVERLESS_SERVICE": "millas-backend",
                    "SERVERLESS_STAGE": "dev",
                    "AWS_ACCOUNT_ID": "722204368591"
                  }
                },
                "Role": "arn:aws:iam::722204368591:role/LabRole"
              },
              "DependsOn": [
                "CreateOrderLogGroup"
              ]
            },
            "GetOrdersLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                  "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
                },
                "Handler": "services/orders/handler.get_orders",
                "Runtime": "python3.12",
                "FunctionName": "millas-backend-dev-getOrders",
                "MemorySize": 1024,
                "Timeout": 29,
                "Environment": {
                  "Variables": {
                    "ORDERS_TABLE": "dev-Orders",
                    "WORKFLOW_TABLE": "dev-Workflow",
                    "MENU_TABLE": "dev-Menu",
                    "USERS_TABLE": "dev-Users",
                    "TENANT_ID": "200millas",
                    "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                    "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                    "SERVERLESS_SERVICE": "millas-backend",
                    "SERVERLESS_STAGE": "dev",
                    "AWS_ACCOUNT_ID": "722204368591"
                  }
                },
                "Role": "arn:aws:iam::722204368591:role/LabRole"
              },
              "DependsOn": [
                "GetOrdersLogGroup"
              ]
            },
            "GetOrderLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                  "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
                },
                "Handler": "services/orders/handler.get_order",
                "Runtime": "python3.12",
                "FunctionName": "millas-backend-dev-getOrder",
                "MemorySize": 1024,
                "Timeout": 29,
                "Environment": {
                  "Variables": {
                    "ORDERS_TABLE": "dev-Orders",
                    "WORKFLOW_TABLE": "dev-Workflow",
                    "MENU_TABLE": "dev-Menu",
                    "USERS_TABLE": "dev-Users",
                    "TENANT_ID": "200millas",
                    "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                    "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                    "SERVERLESS_SERVICE": "millas-backend",
                    "SERVERLESS_STAGE": "dev",
                    "AWS_ACCOUNT_ID": "722204368591"
                  }
                },
                "Role": "arn:aws:iam::722204368591:role/LabRole"
              },
              "DependsOn": [
                "GetOrderLogGroup"
              ]
            },
            "GetDashboardLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                  "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
                },
                "Handler": "services/dashboard/handler.get_dashboard",
                "Runtime": "python3.12",
                "FunctionName": "millas-backend-dev-getDashboard",
                "MemorySize": 1024,
                "Timeout": 29,
                "Environment": {
                  "Variables": {
                    "ORDERS_TABLE": "dev-Orders",
                    "WORKFLOW_TABLE": "dev-Workflow",
                    "MENU_TABLE": "dev-Menu",
                    "USERS_TABLE": "dev-Users",
                    "TENANT_ID": "200millas",
                    "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                    "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                    "SERVERLESS_SERVICE": "millas-backend",
                    "SERVERLESS_STAGE": "dev",
                    "AWS_ACCOUNT_ID": "722204368591"
                  }
                },
                "Role": "arn:aws:iam::722204368591:role/LabRole"
              },
              "DependsOn": [
                "GetDashboardLogGroup"
              ]
            },
            "GetOrderTimelineLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                  "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
                },
                "Handler": "services/dashboard/handler.get_order_timeline",
                "Runtime": "python3.12",
                "FunctionName": "millas-backend-dev-getOrderTimeline",
                "MemorySize": 1024,
                "Timeout": 29,
                "Environment": {
                  "Variables": {
                    "ORDERS_TABLE": "dev-Orders",
                    "WORKFLOW_TABLE": "dev-Workflow",
                    "MENU_TABLE": "dev-Menu",
                    "USERS_TABLE": "dev-Users",
                    "TENANT_ID": "200millas",
                    "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                    "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                    "SERVERLESS_SERVICE": "millas-backend",
                    "SERVERLESS_STAGE": "dev",
                    "AWS_ACCOUNT_ID": "722204368591"
                  }
                },
                "Role": "arn:aws:iam::722204368591:role/LabRole"
              },
              "DependsOn": [
                "GetOrderTimelineLogGroup"
              ]
            },
            "GetStaffPerformanceLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                  "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
                },
                "Handler": "services/dashboard/handler.get_staff_performance",
                "Runtime": "python3.12",
                "FunctionName": "millas-backend-dev-getStaffPerformance",
                "MemorySize": 1024,
                "Timeout": 29,
                "Environment": {
                  "Variables": {
                    "ORDERS_TABLE": "dev-Orders",
                    "WORKFLOW_TABLE": "dev-Workflow",
                    "MENU_TABLE": "dev-Menu",
                    "USERS_TABLE": "dev-Users",
                    "TENANT_ID": "200millas",
                    "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                    "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                    "SERVERLESS_SERVICE": "millas-backend",
                    "SERVERLESS_STAGE": "dev",
                    "AWS_ACCOUNT_ID": "722204368591"
                  }
                },
                "Role": "arn:aws:iam::722204368591:role/LabRole"
              },
              "DependsOn": [
                "GetStaffPerformanceLogGroup"
              ]
            },
            "GetCategoriesLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                  "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
                },
                "Handler": "services/menu/handler.get_categories",
                "Runtime": "python3.12",
                "FunctionName": "millas-backend-dev-getCategories",
                "MemorySize": 1024,
                "Timeout": 29,
                "Environment": {
                  "Variables": {
                    "ORDERS_TABLE": "dev-Orders",
                    "WORKFLOW_TABLE": "dev-Workflow",
                    "MENU_TABLE": "dev-Menu",
                    "USERS_TABLE": "dev-Users",
                    "TENANT_ID": "200millas",
                    "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                    "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                    "SERVERLESS_SERVICE": "millas-backend",
                    "SERVERLESS_STAGE": "dev",
                    "AWS_ACCOUNT_ID": "722204368591"
                  }
                },
                "Role": "arn:aws:iam::722204368591:role/LabRole"
              },
              "DependsOn": [
                "GetCategoriesLogGroup"
              ]
            },
            "GetItemsLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                  "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
                },
                "Handler": "services/menu/handler.get_items",
                "Runtime": "python3.12",
                "FunctionName": "millas-backend-dev-getItems",
                "MemorySize": 1024,
                "Timeout": 29,
                "Environment": {
                  "Variables": {
                    "ORDERS_TABLE": "dev-Orders",
                    "WORKFLOW_TABLE": "dev-Workflow",
                    "MENU_TABLE": "dev-Menu",
                    "USERS_TABLE": "dev-Users",
                    "TENANT_ID": "200millas",
                    "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                    "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                    "SERVERLESS_SERVICE": "millas-backend",
                    "SERVERLESS_STAGE": "dev",
                    "AWS_ACCOUNT_ID": "722204368591"
                  }
                },
                "Role": "arn:aws:iam::722204368591:role/LabRole"
              },
              "DependsOn": [
                "GetItemsLogGroup"
              ]
            },
            "UploadMenuImageLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                  "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
                },
                "Handler": "services/menu/upload_image.upload_image",
                "Runtime": "python3.12",
                "FunctionName": "millas-backend-dev-uploadMenuImage",
                "MemorySize": 1024,
                "Timeout": 29,
                "Environment": {
                  "Variables": {
                    "ORDERS_TABLE": "dev-Orders",
                    "WORKFLOW_TABLE": "dev-Workflow",
                    "MENU_TABLE": "dev-Menu",
                    "USERS_TABLE": "dev-Users",
                    "TENANT_ID": "200millas",
                    "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                    "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                    "SERVERLESS_SERVICE": "millas-backend",
                    "SERVERLESS_STAGE": "dev",
                    "AWS_ACCOUNT_ID": "722204368591"
                  }
                },
                "Role": "arn:aws:iam::722204368591:role/LabRole"
              },
              "DependsOn": [
                "UploadMenuImageLogGroup"
              ]
            },
            "ConfirmOrderLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                  "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
                },
                "Handler": "services/workflow/step_functions_handlers.confirm_order",
                "Runtime": "python3.12",
                "FunctionName": "millas-backend-dev-confirmOrder",
                "MemorySize": 1024,
                "Timeout": 30,
                "Environment": {
                  "Variables": {
                    "ORDERS_TABLE": "dev-Orders",
                    "WORKFLOW_TABLE": "dev-Workflow",
                    "MENU_TABLE": "dev-Menu",
                    "USERS_TABLE": "dev-Users",
                    "TENANT_ID": "200millas",
                    "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                    "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                    "SERVERLESS_SERVICE": "millas-backend",
                    "SERVERLESS_STAGE": "dev",
                    "AWS_ACCOUNT_ID": "722204368591"
                  }
                },
                "Role": "arn:aws:iam::722204368591:role/LabRole"
              },
              "DependsOn": [
                "ConfirmOrderLogGroup"
              ]
            },
            "AssignCookLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                  "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
                },
                "Handler": "services/workflow/step_functions_handlers.assign_cook",
                "Runtime": "python3.12",
                "FunctionName": "millas-backend-dev-assignCook",
                "MemorySize": 1024,
                "Timeout": 30,
                "Environment": {
                  "Variables": {
                    "ORDERS_TABLE": "dev-Orders",
                    "WORKFLOW_TABLE": "dev-Workflow",
                    "MENU_TABLE": "dev-Menu",
                    "USERS_TABLE": "dev-Users",
                    "TENANT_ID": "200millas",
                    "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                    "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                    "SERVERLESS_SERVICE": "millas-backend",
                    "SERVERLESS_STAGE": "dev",
                    "AWS_ACCOUNT_ID": "722204368591"
                  }
                },
                "Role": "arn:aws:iam::722204368591:role/LabRole"
              },
              "DependsOn": [
                "AssignCookLogGroup"
              ]
            },
            "CompleteCookingLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                  "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
                },
                "Handler": "services/workflow/step_functions_handlers.complete_cooking",
                "Runtime": "python3.12",
                "FunctionName": "millas-backend-dev-completeCooking",
                "MemorySize": 1024,
                "Timeout": 30,
                "Environment": {
                  "Variables": {
                    "ORDERS_TABLE": "dev-Orders",
                    "WORKFLOW_TABLE": "dev-Workflow",
                    "MENU_TABLE": "dev-Menu",
                    "USERS_TABLE": "dev-Users",
                    "TENANT_ID": "200millas",
                    "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                    "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                    "SERVERLESS_SERVICE": "millas-backend",
                    "SERVERLESS_STAGE": "dev",
                    "AWS_ACCOUNT_ID": "722204368591"
                  }
                },
                "Role": "arn:aws:iam::722204368591:role/LabRole"
              },
              "DependsOn": [
                "CompleteCookingLogGroup"
              ]
            },
            "AssignDriverLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                  "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
                },
                "Handler": "services/workflow/step_functions_handlers.assign_driver",
                "Runtime": "python3.12",
                "FunctionName": "millas-backend-dev-assignDriver",
                "MemorySize": 1024,
                "Timeout": 30,
                "Environment": {
                  "Variables": {
                    "ORDERS_TABLE": "dev-Orders",
                    "WORKFLOW_TABLE": "dev-Workflow",
                    "MENU_TABLE": "dev-Menu",
                    "USERS_TABLE": "dev-Users",
                    "TENANT_ID": "200millas",
                    "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                    "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                    "SERVERLESS_SERVICE": "millas-backend",
                    "SERVERLESS_STAGE": "dev",
                    "AWS_ACCOUNT_ID": "722204368591"
                  }
                },
                "Role": "arn:aws:iam::722204368591:role/LabRole"
              },
              "DependsOn": [
                "AssignDriverLogGroup"
              ]
            },
            "CompleteDeliveryLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                  "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
                },
                "Handler": "services/workflow/step_functions_handlers.complete_delivery",
                "Runtime": "python3.12",
                "FunctionName": "millas-backend-dev-completeDelivery",
                "MemorySize": 1024,
                "Timeout": 30,
                "Environment": {
                  "Variables": {
                    "ORDERS_TABLE": "dev-Orders",
                    "WORKFLOW_TABLE": "dev-Workflow",
                    "MENU_TABLE": "dev-Menu",
                    "USERS_TABLE": "dev-Users",
                    "TENANT_ID": "200millas",
                    "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                    "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                    "SERVERLESS_SERVICE": "millas-backend",
                    "SERVERLESS_STAGE": "dev",
                    "AWS_ACCOUNT_ID": "722204368591"
                  }
                },
                "Role": "arn:aws:iam::722204368591:role/LabRole"
              },
              "DependsOn": [
                "CompleteDeliveryLogGroup"
              ]
            },
            "HandleOrderFailureLambdaFunction": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                "Code": {
                  "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                  "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
                },
                "Handler": "services/workflow/step_functions_handlers.handle_order_failure",
                "Runtime": "python3.12",
                "FunctionName": "millas-backend-dev-handleOrderFailure",
                "MemorySize": 1024,
                "Timeout": 30,
                "Environment": {
                  "Variables": {
                    "ORDERS_TABLE": "dev-Orders",
                    "WORKFLOW_TABLE": "dev-Workflow",
                    "MENU_TABLE": "dev-Menu",
                    "USERS_TABLE": "dev-Users",
                    "TENANT_ID": "200millas",
                    "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                    "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                    "SERVERLESS_SERVICE": "millas-backend",
                    "SERVERLESS_STAGE": "dev",
                    "AWS_ACCOUNT_ID": "722204368591"
                  }
                },
                "Role": "arn:aws:iam::722204368591:role/LabRole"
              },
              "DependsOn": [
                "HandleOrderFailureLogGroup"
              ]
            },
            "LoginLambdaVersionaphQJ9PIkJS7ZrmJk8c1lolToKTbzDO5VrhwjTgFG8": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "LoginLambdaFunction"
                },
                "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
              }
            },
            "RegisterLambdaVersionbtpT0jyBSYjE0RJkHQR2GTwy5gkCU2wvvahYXzsvY": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "RegisterLambdaFunction"
                },
                "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
              }
            },
            "AuthorizeLambdaVersion9kIZfxNyrtkhxR4ezdFExK1MgsGEp6VaaxaWHLFQw": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "AuthorizeLambdaFunction"
                },
                "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
              }
            },
            "LogoutLambdaVersionxfx87mUNWSc4ZtDqjCFh7zgxZwIujel6tvnvY1aQ": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "LogoutLambdaFunction"
                },
                "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
              }
            },
            "GetAvailableOrdersLambdaVersionwg2XpITl6o0z069gQccKnP8URDtfDsgqf7toansZ0": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "GetAvailableOrdersLambdaFunction"
                },
                "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
              }
            },
            "GetAssignedOrdersLambdaVersionEz9of5EIujgXIYroQwX2pz1BQNOPrhNeLYsWTGl8WY": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "GetAssignedOrdersLambdaFunction"
                },
                "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
              }
            },
            "GetOrderDetailLambdaVersionhTIbZeAmcDQIQTzwdEdCrPpG5lI5RS6EzG7dFo5v1A": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "GetOrderDetailLambdaFunction"
                },
                "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
              }
            },
            "GetDriverStatsLambdaVersionZKyMwIuGbR3DYnL3g6cKTifmZJ0BKvZvrOVls4b1k": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "GetDriverStatsLambdaFunction"
                },
                "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
              }
            },
            "GetDeliveryTimelineLambdaVersionogV7zN8ja8e90bjj8bCSixHEhSWfSpP99tgwCCe2I": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "GetDeliveryTimelineLambdaFunction"
                },
                "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
              }
            },
            "CreateOrderLambdaVersion708X0aLFN6zSlouROuJM1wkaIrxbSFLSuL6gGARXqk": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "CreateOrderLambdaFunction"
                },
                "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
              }
            },
            "GetOrdersLambdaVersionvMUX4oNCcSgdrmMPEut0gU4Kb1uPpYLfIGKAmcPwA": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "GetOrdersLambdaFunction"
                },
                "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
              }
            },
            "GetOrderLambdaVersionXyr1z2lOrPcAD4YYEBnoaYOvwvRjRUfhKNZotWkLA8": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "GetOrderLambdaFunction"
                },
                "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
              }
            },
            "GetDashboardLambdaVersionjyQzwC4lCgTQ4QoYkWVBkPBr4mLdAkVRnhgCKkCrs": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "GetDashboardLambdaFunction"
                },
                "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
              }
            },
            "GetOrderTimelineLambdaVersionJCxZFUAw8r5zhbaVdN56fEMdqRptL4mU6zWlAu1oFw": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "GetOrderTimelineLambdaFunction"
                },
                "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
              }
            },
            "GetStaffPerformanceLambdaVersionDLO6SjVc987YLfeCsru4QglAFcgYeXBiGqtCvdNp9sg": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "GetStaffPerformanceLambdaFunction"
                },
                "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
              }
            },
            "GetCategoriesLambdaVersionz4Z4TaF72WGiMTQSpQ34wzLYSoEpIO2xDoTqgxJwiP8": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "GetCategoriesLambdaFunction"
                },
                "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
              }
            },
            "GetItemsLambdaVersionfYjYkcJLP4Pk9FpStypNgsTo69fVkVSY7IhbX8Mc": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "GetItemsLambdaFunction"
                },
                "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
              }
            },
            "UploadMenuImageLambdaVersionEewWJa4Aif27h1pInPa6wilbieIhHuATWuaXabb2FlU": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "UploadMenuImageLambdaFunction"
                },
                "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
              }
            },
            "ConfirmOrderLambdaVersionIaVUZ1aWWcf83x9eK67oYI9cX5MuuRBvjWWKrcUOH8": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "ConfirmOrderLambdaFunction"
                },
                "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
              }
            },
            "AssignCookLambdaVersionotdZlix7ZPMpnCvnPVL9nQOOOopfqfkcuZrrTlJiiRc": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "AssignCookLambdaFunction"
                },
                "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
              }
            },
            "CompleteCookingLambdaVersionhYj0gAxmKtwRKTOCPIayUure0MfTX42aI2EIyejlWc": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "CompleteCookingLambdaFunction"
                },
                "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
              }
            },
            "AssignDriverLambdaVersionBrqsPyY9rztOt28PJHOMFLWzdDUECrnzdkgIXmDH4": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "AssignDriverLambdaFunction"
                },
                "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
              }
            },
            "CompleteDeliveryLambdaVersionqBFkmHtUTpGYhySC6MHfGU3s7UPia3cm0GSTHdubc": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "CompleteDeliveryLambdaFunction"
                },
                "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
              }
            },
            "HandleOrderFailureLambdaVersionF5AelsDCEKAAVXARMiVgifIF0ZuwTgZx3QBsxszHY": {
              "Type": "AWS::Lambda::Version",
              "DeletionPolicy": "Retain",
              "Properties": {
                "FunctionName": {
                  "Ref": "HandleOrderFailureLambdaFunction"
                },
                "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
              }
            },
            "ApiGatewayRestApi": {
              "Type": "AWS::ApiGateway::RestApi",
              "Properties": {
                "Name": "dev-millas-backend",
                "EndpointConfiguration": {
                  "Types": [
                    "EDGE"
                  ]
                },
                "Policy": ""
              }
            },
            "ApiGatewayResourceAuth": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Fn::GetAtt": [
                    "ApiGatewayRestApi",
                    "RootResourceId"
                  ]
                },
                "PathPart": "auth",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceAuthLogin": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceAuth"
                },
                "PathPart": "login",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceAuthRegister": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceAuth"
                },
                "PathPart": "register",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceAuthLogout": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceAuth"
                },
                "PathPart": "logout",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceDriver": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Fn::GetAtt": [
                    "ApiGatewayRestApi",
                    "RootResourceId"
                  ]
                },
                "PathPart": "driver",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceDriverAvailable": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceDriver"
                },
                "PathPart": "available",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceDriverAssigned": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceDriver"
                },
                "PathPart": "assigned",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceDriverOrders": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceDriver"
                },
                "PathPart": "orders",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceDriverOrdersOrderidVar": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceDriverOrders"
                },
                "PathPart": "{order_id}",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceDriverStats": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceDriver"
                },
                "PathPart": "stats",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceDriverTimeline": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceDriver"
                },
                "PathPart": "timeline",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceDriverTimelineOrderidVar": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceDriverTimeline"
                },
                "PathPart": "{order_id}",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceOrders": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Fn::GetAtt": [
                    "ApiGatewayRestApi",
                    "RootResourceId"
                  ]
                },
                "PathPart": "orders",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceOrdersOrderidVar": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceOrders"
                },
                "PathPart": "{order_id}",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceDashboard": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Fn::GetAtt": [
                    "ApiGatewayRestApi",
                    "RootResourceId"
                  ]
                },
                "PathPart": "dashboard",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceDashboardTimeline": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceDashboard"
                },
                "PathPart": "timeline",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceDashboardTimelineOrderidVar": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceDashboardTimeline"
                },
                "PathPart": "{order_id}",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceDashboardStaffDashperformance": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceDashboard"
                },
                "PathPart": "staff-performance",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceMenu": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Fn::GetAtt": [
                    "ApiGatewayRestApi",
                    "RootResourceId"
                  ]
                },
                "PathPart": "menu",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceMenuCategories": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceMenu"
                },
                "PathPart": "categories",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceMenuItems": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceMenu"
                },
                "PathPart": "items",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayResourceMenuUploadDashimage": {
              "Type": "AWS::ApiGateway::Resource",
              "Properties": {
                "ParentId": {
                  "Ref": "ApiGatewayResourceMenu"
                },
                "PathPart": "upload-image",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodAuthLoginOptions": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "AuthorizationType": "NONE",
                "HttpMethod": "OPTIONS",
                "MethodResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true,
                      "method.response.header.Access-Control-Allow-Headers": true,
                      "method.response.header.Access-Control-Allow-Methods": true
                    },
                    "ResponseModels": {}
                  }
                ],
                "RequestParameters": {},
                "Integration": {
                  "Type": "MOCK",
                  "RequestTemplates": {
                    "application/json": "{statusCode:200}"
                  },
                  "ContentHandling": "CONVERT_TO_TEXT",
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,POST'"
                      },
                      "ResponseTemplates": {
                        "application/json": ""
                      }
                    }
                  ]
                },
                "ResourceId": {
                  "Ref": "ApiGatewayResourceAuthLogin"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodAuthRegisterOptions": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "AuthorizationType": "NONE",
                "HttpMethod": "OPTIONS",
                "MethodResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true,
                      "method.response.header.Access-Control-Allow-Headers": true,
                      "method.response.header.Access-Control-Allow-Methods": true
                    },
                    "ResponseModels": {}
                  }
                ],
                "RequestParameters": {},
                "Integration": {
                  "Type": "MOCK",
                  "RequestTemplates": {
                    "application/json": "{statusCode:200}"
                  },
                  "ContentHandling": "CONVERT_TO_TEXT",
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,POST'"
                      },
                      "ResponseTemplates": {
                        "application/json": ""
                      }
                    }
                  ]
                },
                "ResourceId": {
                  "Ref": "ApiGatewayResourceAuthRegister"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodAuthLogoutOptions": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "AuthorizationType": "NONE",
                "HttpMethod": "OPTIONS",
                "MethodResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true,
                      "method.response.header.Access-Control-Allow-Headers": true,
                      "method.response.header.Access-Control-Allow-Methods": true
                    },
                    "ResponseModels": {}
                  }
                ],
                "RequestParameters": {},
                "Integration": {
                  "Type": "MOCK",
                  "RequestTemplates": {
                    "application/json": "{statusCode:200}"
                  },
                  "ContentHandling": "CONVERT_TO_TEXT",
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,POST'"
                      },
                      "ResponseTemplates": {
                        "application/json": ""
                      }
                    }
                  ]
                },
                "ResourceId": {
                  "Ref": "ApiGatewayResourceAuthLogout"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodDriverAvailableOptions": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "AuthorizationType": "NONE",
                "HttpMethod": "OPTIONS",
                "MethodResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true,
                      "method.response.header.Access-Control-Allow-Headers": true,
                      "method.response.header.Access-Control-Allow-Methods": true
                    },
                    "ResponseModels": {}
                  }
                ],
                "RequestParameters": {},
                "Integration": {
                  "Type": "MOCK",
                  "RequestTemplates": {
                    "application/json": "{statusCode:200}"
                  },
                  "ContentHandling": "CONVERT_TO_TEXT",
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                      },
                      "ResponseTemplates": {
                        "application/json": ""
                      }
                    }
                  ]
                },
                "ResourceId": {
                  "Ref": "ApiGatewayResourceDriverAvailable"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodDriverAssignedOptions": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "AuthorizationType": "NONE",
                "HttpMethod": "OPTIONS",
                "MethodResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true,
                      "method.response.header.Access-Control-Allow-Headers": true,
                      "method.response.header.Access-Control-Allow-Methods": true
                    },
                    "ResponseModels": {}
                  }
                ],
                "RequestParameters": {},
                "Integration": {
                  "Type": "MOCK",
                  "RequestTemplates": {
                    "application/json": "{statusCode:200}"
                  },
                  "ContentHandling": "CONVERT_TO_TEXT",
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                      },
                      "ResponseTemplates": {
                        "application/json": ""
                      }
                    }
                  ]
                },
                "ResourceId": {
                  "Ref": "ApiGatewayResourceDriverAssigned"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodDriverOrdersOrderidVarOptions": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "AuthorizationType": "NONE",
                "HttpMethod": "OPTIONS",
                "MethodResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true,
                      "method.response.header.Access-Control-Allow-Headers": true,
                      "method.response.header.Access-Control-Allow-Methods": true
                    },
                    "ResponseModels": {}
                  }
                ],
                "RequestParameters": {},
                "Integration": {
                  "Type": "MOCK",
                  "RequestTemplates": {
                    "application/json": "{statusCode:200}"
                  },
                  "ContentHandling": "CONVERT_TO_TEXT",
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                      },
                      "ResponseTemplates": {
                        "application/json": ""
                      }
                    }
                  ]
                },
                "ResourceId": {
                  "Ref": "ApiGatewayResourceDriverOrdersOrderidVar"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodDriverStatsOptions": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "AuthorizationType": "NONE",
                "HttpMethod": "OPTIONS",
                "MethodResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true,
                      "method.response.header.Access-Control-Allow-Headers": true,
                      "method.response.header.Access-Control-Allow-Methods": true
                    },
                    "ResponseModels": {}
                  }
                ],
                "RequestParameters": {},
                "Integration": {
                  "Type": "MOCK",
                  "RequestTemplates": {
                    "application/json": "{statusCode:200}"
                  },
                  "ContentHandling": "CONVERT_TO_TEXT",
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                      },
                      "ResponseTemplates": {
                        "application/json": ""
                      }
                    }
                  ]
                },
                "ResourceId": {
                  "Ref": "ApiGatewayResourceDriverStats"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodDriverTimelineOrderidVarOptions": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "AuthorizationType": "NONE",
                "HttpMethod": "OPTIONS",
                "MethodResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true,
                      "method.response.header.Access-Control-Allow-Headers": true,
                      "method.response.header.Access-Control-Allow-Methods": true
                    },
                    "ResponseModels": {}
                  }
                ],
                "RequestParameters": {},
                "Integration": {
                  "Type": "MOCK",
                  "RequestTemplates": {
                    "application/json": "{statusCode:200}"
                  },
                  "ContentHandling": "CONVERT_TO_TEXT",
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                      },
                      "ResponseTemplates": {
                        "application/json": ""
                      }
                    }
                  ]
                },
                "ResourceId": {
                  "Ref": "ApiGatewayResourceDriverTimelineOrderidVar"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodOrdersOptions": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "AuthorizationType": "NONE",
                "HttpMethod": "OPTIONS",
                "MethodResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true,
                      "method.response.header.Access-Control-Allow-Headers": true,
                      "method.response.header.Access-Control-Allow-Methods": true
                    },
                    "ResponseModels": {}
                  }
                ],
                "RequestParameters": {},
                "Integration": {
                  "Type": "MOCK",
                  "RequestTemplates": {
                    "application/json": "{statusCode:200}"
                  },
                  "ContentHandling": "CONVERT_TO_TEXT",
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,POST'"
                      },
                      "ResponseTemplates": {
                        "application/json": ""
                      }
                    }
                  ]
                },
                "ResourceId": {
                  "Ref": "ApiGatewayResourceOrders"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodOrdersOrderidVarOptions": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "AuthorizationType": "NONE",
                "HttpMethod": "OPTIONS",
                "MethodResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true,
                      "method.response.header.Access-Control-Allow-Headers": true,
                      "method.response.header.Access-Control-Allow-Methods": true
                    },
                    "ResponseModels": {}
                  }
                ],
                "RequestParameters": {},
                "Integration": {
                  "Type": "MOCK",
                  "RequestTemplates": {
                    "application/json": "{statusCode:200}"
                  },
                  "ContentHandling": "CONVERT_TO_TEXT",
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                      },
                      "ResponseTemplates": {
                        "application/json": ""
                      }
                    }
                  ]
                },
                "ResourceId": {
                  "Ref": "ApiGatewayResourceOrdersOrderidVar"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodDashboardOptions": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "AuthorizationType": "NONE",
                "HttpMethod": "OPTIONS",
                "MethodResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true,
                      "method.response.header.Access-Control-Allow-Headers": true,
                      "method.response.header.Access-Control-Allow-Methods": true
                    },
                    "ResponseModels": {}
                  }
                ],
                "RequestParameters": {},
                "Integration": {
                  "Type": "MOCK",
                  "RequestTemplates": {
                    "application/json": "{statusCode:200}"
                  },
                  "ContentHandling": "CONVERT_TO_TEXT",
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                      },
                      "ResponseTemplates": {
                        "application/json": ""
                      }
                    }
                  ]
                },
                "ResourceId": {
                  "Ref": "ApiGatewayResourceDashboard"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodDashboardTimelineOrderidVarOptions": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "AuthorizationType": "NONE",
                "HttpMethod": "OPTIONS",
                "MethodResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true,
                      "method.response.header.Access-Control-Allow-Headers": true,
                      "method.response.header.Access-Control-Allow-Methods": true
                    },
                    "ResponseModels": {}
                  }
                ],
                "RequestParameters": {},
                "Integration": {
                  "Type": "MOCK",
                  "RequestTemplates": {
                    "application/json": "{statusCode:200}"
                  },
                  "ContentHandling": "CONVERT_TO_TEXT",
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                      },
                      "ResponseTemplates": {
                        "application/json": ""
                      }
                    }
                  ]
                },
                "ResourceId": {
                  "Ref": "ApiGatewayResourceDashboardTimelineOrderidVar"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodDashboardStaffDashperformanceOptions": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "AuthorizationType": "NONE",
                "HttpMethod": "OPTIONS",
                "MethodResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true,
                      "method.response.header.Access-Control-Allow-Headers": true,
                      "method.response.header.Access-Control-Allow-Methods": true
                    },
                    "ResponseModels": {}
                  }
                ],
                "RequestParameters": {},
                "Integration": {
                  "Type": "MOCK",
                  "RequestTemplates": {
                    "application/json": "{statusCode:200}"
                  },
                  "ContentHandling": "CONVERT_TO_TEXT",
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                      },
                      "ResponseTemplates": {
                        "application/json": ""
                      }
                    }
                  ]
                },
                "ResourceId": {
                  "Ref": "ApiGatewayResourceDashboardStaffDashperformance"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodMenuCategoriesOptions": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "AuthorizationType": "NONE",
                "HttpMethod": "OPTIONS",
                "MethodResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true,
                      "method.response.header.Access-Control-Allow-Headers": true,
                      "method.response.header.Access-Control-Allow-Methods": true
                    },
                    "ResponseModels": {}
                  }
                ],
                "RequestParameters": {},
                "Integration": {
                  "Type": "MOCK",
                  "RequestTemplates": {
                    "application/json": "{statusCode:200}"
                  },
                  "ContentHandling": "CONVERT_TO_TEXT",
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                      },
                      "ResponseTemplates": {
                        "application/json": ""
                      }
                    }
                  ]
                },
                "ResourceId": {
                  "Ref": "ApiGatewayResourceMenuCategories"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodMenuItemsOptions": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "AuthorizationType": "NONE",
                "HttpMethod": "OPTIONS",
                "MethodResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true,
                      "method.response.header.Access-Control-Allow-Headers": true,
                      "method.response.header.Access-Control-Allow-Methods": true
                    },
                    "ResponseModels": {}
                  }
                ],
                "RequestParameters": {},
                "Integration": {
                  "Type": "MOCK",
                  "RequestTemplates": {
                    "application/json": "{statusCode:200}"
                  },
                  "ContentHandling": "CONVERT_TO_TEXT",
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                      },
                      "ResponseTemplates": {
                        "application/json": ""
                      }
                    }
                  ]
                },
                "ResourceId": {
                  "Ref": "ApiGatewayResourceMenuItems"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodMenuUploadDashimageOptions": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "AuthorizationType": "NONE",
                "HttpMethod": "OPTIONS",
                "MethodResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true,
                      "method.response.header.Access-Control-Allow-Headers": true,
                      "method.response.header.Access-Control-Allow-Methods": true
                    },
                    "ResponseModels": {}
                  }
                ],
                "RequestParameters": {},
                "Integration": {
                  "Type": "MOCK",
                  "RequestTemplates": {
                    "application/json": "{statusCode:200}"
                  },
                  "ContentHandling": "CONVERT_TO_TEXT",
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,POST'"
                      },
                      "ResponseTemplates": {
                        "application/json": ""
                      }
                    }
                  ]
                },
                "ResourceId": {
                  "Ref": "ApiGatewayResourceMenuUploadDashimage"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                }
              }
            },
            "ApiGatewayMethodAuthLoginPost": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "POST",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceAuthLogin"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "NONE",
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "LoginLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  },
                  "PassthroughBehavior": "NEVER",
                  "RequestTemplates": {
                    "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                    "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                  },
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "SelectionPattern": "",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "400",
                      "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "401",
                      "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "403",
                      "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "404",
                      "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "422",
                      "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "500",
                      "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "502",
                      "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "504",
                      "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    }
                  ]
                },
                "MethodResponses": [
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "200"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "400"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "401"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "403"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "404"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "422"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "500"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "502"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "504"
                  }
                ]
              },
              "DependsOn": [
                "LoginLambdaPermissionApiGateway"
              ]
            },
            "ApiGatewayMethodAuthRegisterPost": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "POST",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceAuthRegister"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "NONE",
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "RegisterLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  },
                  "PassthroughBehavior": "NEVER",
                  "RequestTemplates": {
                    "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                    "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                  },
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "SelectionPattern": "",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "400",
                      "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "401",
                      "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "403",
                      "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "404",
                      "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "422",
                      "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "500",
                      "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "502",
                      "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "504",
                      "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    }
                  ]
                },
                "MethodResponses": [
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "200"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "400"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "401"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "403"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "404"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "422"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "500"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "502"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "504"
                  }
                ]
              },
              "DependsOn": [
                "RegisterLambdaPermissionApiGateway"
              ]
            },
            "ApiGatewayMethodAuthLogoutPost": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "POST",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceAuthLogout"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "CUSTOM",
                "AuthorizerId": {
                  "Ref": "AuthorizeApiGatewayAuthorizer"
                },
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "LogoutLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  },
                  "PassthroughBehavior": "NEVER",
                  "RequestTemplates": {
                    "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                    "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                  },
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "SelectionPattern": "",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "400",
                      "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "401",
                      "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "403",
                      "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "404",
                      "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "422",
                      "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "500",
                      "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "502",
                      "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "504",
                      "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    }
                  ]
                },
                "MethodResponses": [
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "200"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "400"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "401"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "403"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "404"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "422"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "500"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "502"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "504"
                  }
                ]
              },
              "DependsOn": [
                "AuthorizeApiGatewayAuthorizer"
              ]
            },
            "ApiGatewayMethodDriverAvailableGet": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "GET",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceDriverAvailable"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "CUSTOM",
                "AuthorizerId": {
                  "Ref": "AuthorizeApiGatewayAuthorizer"
                },
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "GetAvailableOrdersLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  },
                  "PassthroughBehavior": "NEVER",
                  "RequestTemplates": {
                    "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                    "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                  },
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "SelectionPattern": "",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "400",
                      "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "401",
                      "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "403",
                      "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "404",
                      "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "422",
                      "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "500",
                      "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "502",
                      "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "504",
                      "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    }
                  ]
                },
                "MethodResponses": [
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "200"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "400"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "401"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "403"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "404"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "422"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "500"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "502"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "504"
                  }
                ]
              },
              "DependsOn": [
                "AuthorizeApiGatewayAuthorizer"
              ]
            },
            "ApiGatewayMethodDriverAssignedGet": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "GET",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceDriverAssigned"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "CUSTOM",
                "AuthorizerId": {
                  "Ref": "AuthorizeApiGatewayAuthorizer"
                },
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "GetAssignedOrdersLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  },
                  "PassthroughBehavior": "NEVER",
                  "RequestTemplates": {
                    "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                    "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                  },
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "SelectionPattern": "",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "400",
                      "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "401",
                      "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "403",
                      "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "404",
                      "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "422",
                      "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "500",
                      "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "502",
                      "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "504",
                      "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    }
                  ]
                },
                "MethodResponses": [
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "200"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "400"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "401"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "403"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "404"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "422"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "500"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "502"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "504"
                  }
                ]
              },
              "DependsOn": [
                "AuthorizeApiGatewayAuthorizer"
              ]
            },
            "ApiGatewayMethodDriverOrdersOrderidVarGet": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "GET",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceDriverOrdersOrderidVar"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "CUSTOM",
                "AuthorizerId": {
                  "Ref": "AuthorizeApiGatewayAuthorizer"
                },
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "GetOrderDetailLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  },
                  "PassthroughBehavior": "NEVER",
                  "RequestTemplates": {
                    "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                    "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                  },
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "SelectionPattern": "",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "400",
                      "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "401",
                      "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "403",
                      "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "404",
                      "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "422",
                      "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "500",
                      "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "502",
                      "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "504",
                      "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    }
                  ]
                },
                "MethodResponses": [
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "200"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "400"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "401"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "403"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "404"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "422"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "500"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "502"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "504"
                  }
                ]
              },
              "DependsOn": [
                "AuthorizeApiGatewayAuthorizer"
              ]
            },
            "ApiGatewayMethodDriverStatsGet": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "GET",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceDriverStats"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "CUSTOM",
                "AuthorizerId": {
                  "Ref": "AuthorizeApiGatewayAuthorizer"
                },
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "GetDriverStatsLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  },
                  "PassthroughBehavior": "NEVER",
                  "RequestTemplates": {
                    "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                    "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                  },
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "SelectionPattern": "",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "400",
                      "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "401",
                      "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "403",
                      "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "404",
                      "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "422",
                      "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "500",
                      "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "502",
                      "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "504",
                      "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    }
                  ]
                },
                "MethodResponses": [
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "200"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "400"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "401"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "403"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "404"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "422"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "500"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "502"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "504"
                  }
                ]
              },
              "DependsOn": [
                "AuthorizeApiGatewayAuthorizer"
              ]
            },
            "ApiGatewayMethodDriverTimelineOrderidVarGet": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "GET",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceDriverTimelineOrderidVar"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "CUSTOM",
                "AuthorizerId": {
                  "Ref": "AuthorizeApiGatewayAuthorizer"
                },
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "GetDeliveryTimelineLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  },
                  "PassthroughBehavior": "NEVER",
                  "RequestTemplates": {
                    "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                    "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                  },
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "SelectionPattern": "",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "400",
                      "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "401",
                      "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "403",
                      "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "404",
                      "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "422",
                      "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "500",
                      "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "502",
                      "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "504",
                      "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    }
                  ]
                },
                "MethodResponses": [
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "200"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "400"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "401"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "403"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "404"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "422"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "500"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "502"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "504"
                  }
                ]
              },
              "DependsOn": [
                "AuthorizeApiGatewayAuthorizer"
              ]
            },
            "ApiGatewayMethodOrdersPost": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "POST",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceOrders"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "CUSTOM",
                "AuthorizerId": {
                  "Ref": "AuthorizeApiGatewayAuthorizer"
                },
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "CreateOrderLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  },
                  "PassthroughBehavior": "NEVER",
                  "RequestTemplates": {
                    "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                    "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                  },
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "SelectionPattern": "",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "400",
                      "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "401",
                      "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "403",
                      "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "404",
                      "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "422",
                      "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "500",
                      "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "502",
                      "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "504",
                      "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    }
                  ]
                },
                "MethodResponses": [
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "200"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "400"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "401"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "403"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "404"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "422"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "500"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "502"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "504"
                  }
                ]
              },
              "DependsOn": [
                "AuthorizeApiGatewayAuthorizer"
              ]
            },
            "ApiGatewayMethodOrdersGet": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "GET",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceOrders"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "CUSTOM",
                "AuthorizerId": {
                  "Ref": "AuthorizeApiGatewayAuthorizer"
                },
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "GetOrdersLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  },
                  "PassthroughBehavior": "NEVER",
                  "RequestTemplates": {
                    "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                    "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                  },
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "SelectionPattern": "",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "400",
                      "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "401",
                      "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "403",
                      "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "404",
                      "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "422",
                      "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "500",
                      "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "502",
                      "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "504",
                      "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    }
                  ]
                },
                "MethodResponses": [
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "200"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "400"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "401"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "403"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "404"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "422"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "500"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "502"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "504"
                  }
                ]
              },
              "DependsOn": [
                "AuthorizeApiGatewayAuthorizer"
              ]
            },
            "ApiGatewayMethodOrdersOrderidVarGet": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "GET",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceOrdersOrderidVar"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "CUSTOM",
                "AuthorizerId": {
                  "Ref": "AuthorizeApiGatewayAuthorizer"
                },
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "GetOrderLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  },
                  "PassthroughBehavior": "NEVER",
                  "RequestTemplates": {
                    "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                    "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                  },
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "SelectionPattern": "",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "400",
                      "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "401",
                      "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "403",
                      "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "404",
                      "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "422",
                      "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "500",
                      "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "502",
                      "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "504",
                      "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    }
                  ]
                },
                "MethodResponses": [
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "200"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "400"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "401"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "403"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "404"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "422"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "500"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "502"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "504"
                  }
                ]
              },
              "DependsOn": [
                "AuthorizeApiGatewayAuthorizer"
              ]
            },
            "ApiGatewayMethodDashboardGet": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "GET",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceDashboard"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "CUSTOM",
                "AuthorizerId": {
                  "Ref": "AuthorizeApiGatewayAuthorizer"
                },
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "GetDashboardLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  },
                  "PassthroughBehavior": "NEVER",
                  "RequestTemplates": {
                    "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                    "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                  },
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "SelectionPattern": "",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "400",
                      "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "401",
                      "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "403",
                      "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "404",
                      "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "422",
                      "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "500",
                      "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "502",
                      "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "504",
                      "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    }
                  ]
                },
                "MethodResponses": [
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "200"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "400"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "401"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "403"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "404"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "422"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "500"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "502"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "504"
                  }
                ]
              },
              "DependsOn": [
                "AuthorizeApiGatewayAuthorizer"
              ]
            },
            "ApiGatewayMethodDashboardTimelineOrderidVarGet": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "GET",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceDashboardTimelineOrderidVar"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "CUSTOM",
                "AuthorizerId": {
                  "Ref": "AuthorizeApiGatewayAuthorizer"
                },
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "GetOrderTimelineLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  },
                  "PassthroughBehavior": "NEVER",
                  "RequestTemplates": {
                    "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                    "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                  },
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "SelectionPattern": "",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "400",
                      "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "401",
                      "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "403",
                      "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "404",
                      "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "422",
                      "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "500",
                      "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "502",
                      "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "504",
                      "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    }
                  ]
                },
                "MethodResponses": [
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "200"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "400"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "401"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "403"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "404"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "422"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "500"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "502"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "504"
                  }
                ]
              },
              "DependsOn": [
                "AuthorizeApiGatewayAuthorizer"
              ]
            },
            "ApiGatewayMethodDashboardStaffDashperformanceGet": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "GET",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceDashboardStaffDashperformance"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "CUSTOM",
                "AuthorizerId": {
                  "Ref": "AuthorizeApiGatewayAuthorizer"
                },
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "GetStaffPerformanceLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  },
                  "PassthroughBehavior": "NEVER",
                  "RequestTemplates": {
                    "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                    "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                  },
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "SelectionPattern": "",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "400",
                      "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "401",
                      "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "403",
                      "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "404",
                      "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "422",
                      "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "500",
                      "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "502",
                      "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "504",
                      "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    }
                  ]
                },
                "MethodResponses": [
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "200"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "400"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "401"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "403"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "404"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "422"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "500"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "502"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "504"
                  }
                ]
              },
              "DependsOn": [
                "AuthorizeApiGatewayAuthorizer"
              ]
            },
            "ApiGatewayMethodMenuCategoriesGet": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "GET",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceMenuCategories"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "NONE",
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "GetCategoriesLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  },
                  "PassthroughBehavior": "NEVER",
                  "RequestTemplates": {
                    "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                    "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                  },
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "SelectionPattern": "",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "400",
                      "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "401",
                      "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "403",
                      "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "404",
                      "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "422",
                      "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "500",
                      "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "502",
                      "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "504",
                      "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    }
                  ]
                },
                "MethodResponses": [
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "200"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "400"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "401"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "403"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "404"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "422"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "500"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "502"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "504"
                  }
                ]
              },
              "DependsOn": [
                "GetCategoriesLambdaPermissionApiGateway"
              ]
            },
            "ApiGatewayMethodMenuItemsGet": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "GET",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceMenuItems"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "NONE",
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "GetItemsLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  },
                  "PassthroughBehavior": "NEVER",
                  "RequestTemplates": {
                    "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                    "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                  },
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "SelectionPattern": "",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "400",
                      "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "401",
                      "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "403",
                      "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "404",
                      "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "422",
                      "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "500",
                      "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "502",
                      "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "504",
                      "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    }
                  ]
                },
                "MethodResponses": [
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "200"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "400"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "401"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "403"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "404"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "422"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "500"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "502"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "504"
                  }
                ]
              },
              "DependsOn": [
                "GetItemsLambdaPermissionApiGateway"
              ]
            },
            "ApiGatewayMethodMenuUploadDashimagePost": {
              "Type": "AWS::ApiGateway::Method",
              "Properties": {
                "HttpMethod": "POST",
                "RequestParameters": {},
                "ResourceId": {
                  "Ref": "ApiGatewayResourceMenuUploadDashimage"
                },
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "ApiKeyRequired": "<REDACTED>",
                "AuthorizationType": "CUSTOM",
                "AuthorizerId": {
                  "Ref": "AuthorizeApiGatewayAuthorizer"
                },
                "Integration": {
                  "IntegrationHttpMethod": "POST",
                  "Type": "AWS",
                  "Uri": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":apigateway:",
                        {
                          "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        {
                          "Fn::GetAtt": [
                            "UploadMenuImageLambdaFunction",
                            "Arn"
                          ]
                        },
                        "/invocations"
                      ]
                    ]
                  },
                  "PassthroughBehavior": "NEVER",
                  "RequestTemplates": {
                    "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                    "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                  },
                  "IntegrationResponses": [
                    {
                      "StatusCode": "200",
                      "SelectionPattern": "",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "400",
                      "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "401",
                      "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "403",
                      "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "404",
                      "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "422",
                      "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "500",
                      "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "502",
                      "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    },
                    {
                      "StatusCode": "504",
                      "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                      "ResponseParameters": {
                        "method.response.header.Access-Control-Allow-Origin": "'*'"
                      },
                      "ResponseTemplates": {}
                    }
                  ]
                },
                "MethodResponses": [
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "200"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "400"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "401"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "403"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "404"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "422"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "500"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "502"
                  },
                  {
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": true
                    },
                    "ResponseModels": {},
                    "StatusCode": "504"
                  }
                ]
              },
              "DependsOn": [
                "AuthorizeApiGatewayAuthorizer"
              ]
            },
            "AuthorizeApiGatewayAuthorizer": {
              "Type": "AWS::ApiGateway::Authorizer",
              "Properties": {
                "AuthorizerResultTtlInSeconds": 300,
                "IdentitySource": "method.request.header.Authorization",
                "Name": "authorize",
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "AuthorizerUri": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":apigateway:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":lambda:path/2015-03-31/functions/",
                      {
                        "Fn::GetAtt": [
                          "AuthorizeLambdaFunction",
                          "Arn"
                        ]
                      },
                      "/invocations"
                    ]
                  ]
                },
                "Type": "TOKEN"
              }
            },
            "ApiGatewayDeployment1764544497269": {
              "Type": "AWS::ApiGateway::Deployment",
              "Properties": {
                "RestApiId": {
                  "Ref": "ApiGatewayRestApi"
                },
                "StageName": "dev"
              },
              "DependsOn": [
                "ApiGatewayMethodAuthLoginOptions",
                "ApiGatewayMethodAuthRegisterOptions",
                "ApiGatewayMethodAuthLogoutOptions",
                "ApiGatewayMethodDriverAvailableOptions",
                "ApiGatewayMethodDriverAssignedOptions",
                "ApiGatewayMethodDriverOrdersOrderidVarOptions",
                "ApiGatewayMethodDriverStatsOptions",
                "ApiGatewayMethodDriverTimelineOrderidVarOptions",
                "ApiGatewayMethodOrdersOptions",
                "ApiGatewayMethodOrdersOrderidVarOptions",
                "ApiGatewayMethodDashboardOptions",
                "ApiGatewayMethodDashboardTimelineOrderidVarOptions",
                "ApiGatewayMethodDashboardStaffDashperformanceOptions",
                "ApiGatewayMethodMenuCategoriesOptions",
                "ApiGatewayMethodMenuItemsOptions",
                "ApiGatewayMethodMenuUploadDashimageOptions",
                "ApiGatewayMethodAuthLoginPost",
                "ApiGatewayMethodAuthRegisterPost",
                "ApiGatewayMethodAuthLogoutPost",
                "ApiGatewayMethodDriverAvailableGet",
                "ApiGatewayMethodDriverAssignedGet",
                "ApiGatewayMethodDriverOrdersOrderidVarGet",
                "ApiGatewayMethodDriverStatsGet",
                "ApiGatewayMethodDriverTimelineOrderidVarGet",
                "ApiGatewayMethodOrdersPost",
                "ApiGatewayMethodOrdersGet",
                "ApiGatewayMethodOrdersOrderidVarGet",
                "ApiGatewayMethodDashboardGet",
                "ApiGatewayMethodDashboardTimelineOrderidVarGet",
                "ApiGatewayMethodDashboardStaffDashperformanceGet",
                "ApiGatewayMethodMenuCategoriesGet",
                "ApiGatewayMethodMenuItemsGet",
                "ApiGatewayMethodMenuUploadDashimagePost"
              ]
            },
            "LoginLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "LoginLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "RegisterLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "RegisterLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "LogoutLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "LogoutLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "AuthorizeLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "AuthorizeLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "GetAvailableOrdersLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "GetAvailableOrdersLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "GetAssignedOrdersLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "GetAssignedOrdersLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "GetOrderDetailLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "GetOrderDetailLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "GetDriverStatsLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "GetDriverStatsLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "GetDeliveryTimelineLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "GetDeliveryTimelineLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "CreateOrderLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "CreateOrderLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "GetOrdersLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "GetOrdersLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "GetOrderLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "GetOrderLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "GetDashboardLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "GetDashboardLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "GetOrderTimelineLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "GetOrderTimelineLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "GetStaffPerformanceLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "GetStaffPerformanceLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "GetCategoriesLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "GetCategoriesLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "GetItemsLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "GetItemsLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "UploadMenuImageLambdaPermissionApiGateway": {
              "Type": "AWS::Lambda::Permission",
              "Properties": {
                "FunctionName": {
                  "Fn::GetAtt": [
                    "UploadMenuImageLambdaFunction",
                    "Arn"
                  ]
                },
                "Action": "lambda:InvokeFunction",
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":execute-api:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":",
                      {
                        "Ref": "ApiGatewayRestApi"
                      },
                      "/*/*"
                    ]
                  ]
                }
              }
            },
            "OrdersTable": {
              "Type": "AWS::DynamoDB::Table",
              "Properties": {
                "TableName": "dev-Orders",
                "AttributeDefinitions": [
                  {
                    "AttributeName": "order_id",
                    "AttributeType": "S"
                  },
                  {
                    "AttributeName": "tenant_id",
                    "AttributeType": "S"
                  },
                  {
                    "AttributeName": "created_at",
                    "AttributeType": "N"
                  },
                  {
                    "AttributeName": "customer_id",
                    "AttributeType": "S"
                  },
                  {
                    "AttributeName": "status",
                    "AttributeType": "S"
                  }
                ],
                "KeySchema": [
                  {
                    "AttributeName": "order_id",
                    "KeyType": "HASH"
                  }
                ],
                "GlobalSecondaryIndexes": [
                  {
                    "IndexName": "tenant-created-index",
                    "KeySchema": [
                      {
                        "AttributeName": "tenant_id",
                        "KeyType": "HASH"
                      },
                      {
                        "AttributeName": "created_at",
                        "KeyType": "RANGE"
                      }
                    ],
                    "Projection": {
                      "ProjectionType": "ALL"
                    }
                  },
                  {
                    "IndexName": "customer-orders-index",
                    "KeySchema": [
                      {
                        "AttributeName": "customer_id",
                        "KeyType": "HASH"
                      },
                      {
                        "AttributeName": "created_at",
                        "KeyType": "RANGE"
                      }
                    ],
                    "Projection": {
                      "ProjectionType": "ALL"
                    }
                  },
                  {
                    "IndexName": "tenant-status-index",
                    "KeySchema": [
                      {
                        "AttributeName": "tenant_id",
                        "KeyType": "HASH"
                      },
                      {
                        "AttributeName": "status",
                        "KeyType": "RANGE"
                      }
                    ],
                    "Projection": {
                      "ProjectionType": "ALL"
                    }
                  }
                ],
                "BillingMode": "PAY_PER_REQUEST"
              }
            },
            "WorkflowTable": {
              "Type": "AWS::DynamoDB::Table",
              "Properties": {
                "TableName": "dev-Workflow",
                "AttributeDefinitions": [
                  {
                    "AttributeName": "order_id",
                    "AttributeType": "S"
                  }
                ],
                "KeySchema": [
                  {
                    "AttributeName": "order_id",
                    "KeyType": "HASH"
                  }
                ],
                "BillingMode": "PAY_PER_REQUEST"
              }
            },
            "MenuTable": {
              "Type": "AWS::DynamoDB::Table",
              "Properties": {
                "TableName": "dev-Menu",
                "AttributeDefinitions": [
                  {
                    "AttributeName": "item_id",
                    "AttributeType": "S"
                  },
                  {
                    "AttributeName": "category",
                    "AttributeType": "S"
                  }
                ],
                "KeySchema": [
                  {
                    "AttributeName": "item_id",
                    "KeyType": "HASH"
                  }
                ],
                "GlobalSecondaryIndexes": [
                  {
                    "IndexName": "category-index",
                    "KeySchema": [
                      {
                        "AttributeName": "category",
                        "KeyType": "HASH"
                      }
                    ],
                    "Projection": {
                      "ProjectionType": "ALL"
                    }
                  }
                ],
                "BillingMode": "PAY_PER_REQUEST"
              }
            },
            "UsersTable": {
              "Type": "AWS::DynamoDB::Table",
              "Properties": {
                "TableName": "dev-Users",
                "AttributeDefinitions": [
                  {
                    "AttributeName": "email",
                    "AttributeType": "S"
                  }
                ],
                "KeySchema": [
                  {
                    "AttributeName": "email",
                    "KeyType": "HASH"
                  }
                ],
                "BillingMode": "PAY_PER_REQUEST"
              }
            },
            "MenuImagesBucket": {
              "Type": "AWS::S3::Bucket",
              "Properties": {
                "BucketName": "millas-backend-dev-menu-images",
                "PublicAccessBlockConfiguration": {
                  "BlockPublicAcls": false,
                  "BlockPublicPolicy": false,
                  "IgnorePublicAcls": false,
                  "RestrictPublicBuckets": false
                },
                "CorsConfiguration": {
                  "CorsRules": [
                    {
                      "AllowedHeaders": [
                        "*"
                      ],
                      "AllowedMethods": [
                        "GET",
                        "PUT",
                        "POST",
                        "HEAD"
                      ],
                      "AllowedOrigins": [
                        "*"
                      ],
                      "MaxAge": 3000
                    }
                  ]
                }
              }
            },
            "MenuImagesBucketPolicy": {
              "Type": "AWS::S3::BucketPolicy",
              "Properties": {
                "Bucket": {
                  "Ref": "MenuImagesBucket"
                },
                "PolicyDocument": {
                  "Statement": [
                    {
                      "Sid": "PublicReadGetObject",
                      "Effect": "Allow",
                      "Principal": "*",
                      "Action": [
                        "s3:GetObject"
                      ],
                      "Resource": {
                        "Fn::Sub": [
                          "arn:aws:s3:::${BucketName}/*",
                          {
                            "BucketName": {
                              "Ref": "MenuImagesBucket"
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              }
            },
            "CustomEventBus": {
              "Type": "AWS::Events::EventBus",
              "Properties": {
                "Name": "millas-backend-dev-event-bus"
              }
            },
            "OrderEventsRule": {
              "Type": "AWS::Events::Rule",
              "Properties": {
                "EventBusName": {
                  "Ref": "CustomEventBus"
                },
                "EventPattern": {
                  "source": [
                    "orders.service",
                    "workflow.service"
                  ],
                  "detail-type": [
                    "OrderCreated",
                    "OrderUpdated",
                    "OrderConfirmed",
                    "OrderCooking",
                    "OrderPacking",
                    "OrderInDelivery",
                    "OrderDelivered",
                    "OrderFailed"
                  ]
                },
                "State": "ENABLED",
                "Description": "Captura todos los eventos relacionados con pedidos y workflow"
              }
            },
            "OrderWorkflowStateMachine": {
              "Type": "AWS::StepFunctions::StateMachine",
              "Properties": {
                "StateMachineName": "millas-backend-dev-order-workflow",
                "RoleArn": "arn:aws:iam::722204368591:role/LabRole",
                "DefinitionString": {
                  "Fn::Sub": "{\n  \"Comment\": \"Workflow automatizado para procesamiento de pedidos\",\n  \"StartAt\": \"ConfirmOrder\",\n  \"States\": {\n    \"ConfirmOrder\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"${ConfirmOrderLambdaFunction.Arn}\",\n      \"ResultPath\": \"$.confirmResult\",\n      \"TimeoutSeconds\": 30,\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\"States.TaskFailed\", \"States.Timeout\"],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 3,\n          \"BackoffRate\": 2.0\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\"States.ALL\"],\n          \"ResultPath\": \"$.error\",\n          \"Next\": \"OrderFailed\"\n        }\n      ],\n      \"Next\": \"AssignCook\"\n    },\n    \"AssignCook\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"${AssignCookLambdaFunction.Arn}\",\n      \"ResultPath\": \"$.cookResult\",\n      \"TimeoutSeconds\": 30,\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\"States.TaskFailed\", \"States.Timeout\"],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 3,\n          \"BackoffRate\": 2.0\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\"States.ALL\"],\n          \"ResultPath\": \"$.error\",\n          \"Next\": \"OrderFailed\"\n        }\n      ],\n      \"Next\": \"WaitForCooking\"\n    },\n    \"WaitForCooking\": {\n      \"Type\": \"Wait\",\n      \"Seconds\": 300,\n      \"Comment\": \"Espera simulada de coccin (5 min)\",\n      \"Next\": \"CompleteCooking\"\n    },\n    \"CompleteCooking\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"${CompleteCookingLambdaFunction.Arn}\",\n      \"ResultPath\": \"$.cookingResult\",\n      \"TimeoutSeconds\": 30,\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\"States.TaskFailed\", \"States.Timeout\"],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 3,\n          \"BackoffRate\": 2.0\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\"States.ALL\"],\n          \"ResultPath\": \"$.error\",\n          \"Next\": \"OrderFailed\"\n        }\n      ],\n      \"Next\": \"AssignDriver\"\n    },\n    \"AssignDriver\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"${AssignDriverLambdaFunction.Arn}\",\n      \"ResultPath\": \"$.driverResult\",\n      \"TimeoutSeconds\": 30,\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\"States.TaskFailed\", \"States.Timeout\"],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 3,\n          \"BackoffRate\": 2.0\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\"States.ALL\"],\n          \"ResultPath\": \"$.error\",\n          \"Next\": \"OrderFailed\"\n        }\n      ],\n      \"Next\": \"WaitForDelivery\"\n    },\n    \"WaitForDelivery\": {\n      \"Type\": \"Wait\",\n      \"Seconds\": 600,\n      \"Comment\": \"Espera simulada de entrega (10 min)\",\n      \"Next\": \"CompleteDelivery\"\n    },\n    \"CompleteDelivery\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"${CompleteDeliveryLambdaFunction.Arn}\",\n      \"ResultPath\": \"$.deliveryResult\",\n      \"TimeoutSeconds\": 30,\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\"States.TaskFailed\", \"States.Timeout\"],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 3,\n          \"BackoffRate\": 2.0\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\"States.ALL\"],\n          \"ResultPath\": \"$.error\",\n          \"Next\": \"OrderFailed\"\n        }\n      ],\n      \"End\": true\n    },\n    \"OrderFailed\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"${HandleOrderFailureLambdaFunction.Arn}\",\n      \"ResultPath\": \"$.failureResult\",\n      \"End\": true\n    }\n  }\n}\n"
                }
              }
            }
          },
          "Outputs": {
            "ServerlessDeploymentBucketName": {
              "Value": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
              "Export": {
                "Name": "sls-millas-backend-dev-ServerlessDeploymentBucketName"
              }
            },
            "LoginLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "LoginLambdaVersionaphQJ9PIkJS7ZrmJk8c1lolToKTbzDO5VrhwjTgFG8"
              },
              "Export": {
                "Name": "sls-millas-backend-dev-LoginLambdaFunctionQualifiedArn"
              }
            },
            "RegisterLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "RegisterLambdaVersionbtpT0jyBSYjE0RJkHQR2GTwy5gkCU2wvvahYXzsvY"
              },
              "Export": {
                "Name": "sls-millas-backend-dev-RegisterLambdaFunctionQualifiedArn"
              }
            },
            "AuthorizeLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "AuthorizeLambdaVersion9kIZfxNyrtkhxR4ezdFExK1MgsGEp6VaaxaWHLFQw"
              },
              "Export": {
                "Name": "sls-millas-backend-dev-AuthorizeLambdaFunctionQualifiedArn"
              }
            },
            "LogoutLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "LogoutLambdaVersionxfx87mUNWSc4ZtDqjCFh7zgxZwIujel6tvnvY1aQ"
              },
              "Export": {
                "Name": "sls-millas-backend-dev-LogoutLambdaFunctionQualifiedArn"
              }
            },
            "GetAvailableOrdersLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "GetAvailableOrdersLambdaVersionwg2XpITl6o0z069gQccKnP8URDtfDsgqf7toansZ0"
              },
              "Export": {
                "Name": "sls-millas-backend-dev-GetAvailableOrdersLambdaFunctionQualifiedArn"
              }
            },
            "GetAssignedOrdersLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "GetAssignedOrdersLambdaVersionEz9of5EIujgXIYroQwX2pz1BQNOPrhNeLYsWTGl8WY"
              },
              "Export": {
                "Name": "sls-millas-backend-dev-GetAssignedOrdersLambdaFunctionQualifiedArn"
              }
            },
            "GetOrderDetailLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "GetOrderDetailLambdaVersionhTIbZeAmcDQIQTzwdEdCrPpG5lI5RS6EzG7dFo5v1A"
              },
              "Export": {
                "Name": "sls-millas-backend-dev-GetOrderDetailLambdaFunctionQualifiedArn"
              }
            },
            "GetDriverStatsLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "GetDriverStatsLambdaVersionZKyMwIuGbR3DYnL3g6cKTifmZJ0BKvZvrOVls4b1k"
              },
              "Export": {
                "Name": "sls-millas-backend-dev-GetDriverStatsLambdaFunctionQualifiedArn"
              }
            },
            "GetDeliveryTimelineLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "GetDeliveryTimelineLambdaVersionogV7zN8ja8e90bjj8bCSixHEhSWfSpP99tgwCCe2I"
              },
              "Export": {
                "Name": "sls-millas-backend-dev-GetDeliveryTimelineLambdaFunctionQualifiedArn"
              }
            },
            "CreateOrderLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "CreateOrderLambdaVersion708X0aLFN6zSlouROuJM1wkaIrxbSFLSuL6gGARXqk"
              },
              "Export": {
                "Name": "sls-millas-backend-dev-CreateOrderLambdaFunctionQualifiedArn"
              }
            },
            "GetOrdersLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "GetOrdersLambdaVersionvMUX4oNCcSgdrmMPEut0gU4Kb1uPpYLfIGKAmcPwA"
              },
              "Export": {
                "Name": "sls-millas-backend-dev-GetOrdersLambdaFunctionQualifiedArn"
              }
            },
            "GetOrderLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "GetOrderLambdaVersionXyr1z2lOrPcAD4YYEBnoaYOvwvRjRUfhKNZotWkLA8"
              },
              "Export": {
                "Name": "sls-millas-backend-dev-GetOrderLambdaFunctionQualifiedArn"
              }
            },
            "GetDashboardLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "GetDashboardLambdaVersionjyQzwC4lCgTQ4QoYkWVBkPBr4mLdAkVRnhgCKkCrs"
              },
              "Export": {
                "Name": "sls-millas-backend-dev-GetDashboardLambdaFunctionQualifiedArn"
              }
            },
            "GetOrderTimelineLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "GetOrderTimelineLambdaVersionJCxZFUAw8r5zhbaVdN56fEMdqRptL4mU6zWlAu1oFw"
              },
              "Export": {
                "Name": "sls-millas-backend-dev-GetOrderTimelineLambdaFunctionQualifiedArn"
              }
            },
            "GetStaffPerformanceLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "GetStaffPerformanceLambdaVersionDLO6SjVc987YLfeCsru4QglAFcgYeXBiGqtCvdNp9sg"
              },
              "Export": {
                "Name": "sls-millas-backend-dev-GetStaffPerformanceLambdaFunctionQualifiedArn"
              }
            },
            "GetCategoriesLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "GetCategoriesLambdaVersionz4Z4TaF72WGiMTQSpQ34wzLYSoEpIO2xDoTqgxJwiP8"
              },
              "Export": {
                "Name": "sls-millas-backend-dev-GetCategoriesLambdaFunctionQualifiedArn"
              }
            },
            "GetItemsLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "GetItemsLambdaVersionfYjYkcJLP4Pk9FpStypNgsTo69fVkVSY7IhbX8Mc"
              },
              "Export": {
                "Name": "sls-millas-backend-dev-GetItemsLambdaFunctionQualifiedArn"
              }
            },
            "UploadMenuImageLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "UploadMenuImageLambdaVersionEewWJa4Aif27h1pInPa6wilbieIhHuATWuaXabb2FlU"
              },
              "Export": {
                "Name": "sls-millas-backend-dev-UploadMenuImageLambdaFunctionQualifiedArn"
              }
            },
            "ConfirmOrderLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "ConfirmOrderLambdaVersionIaVUZ1aWWcf83x9eK67oYI9cX5MuuRBvjWWKrcUOH8"
              },
              "Export": {
                "Name": "sls-millas-backend-dev-ConfirmOrderLambdaFunctionQualifiedArn"
              }
            },
            "AssignCookLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "AssignCookLambdaVersionotdZlix7ZPMpnCvnPVL9nQOOOopfqfkcuZrrTlJiiRc"
              },
              "Export": {
                "Name": "sls-millas-backend-dev-AssignCookLambdaFunctionQualifiedArn"
              }
            },
            "CompleteCookingLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "CompleteCookingLambdaVersionhYj0gAxmKtwRKTOCPIayUure0MfTX42aI2EIyejlWc"
              },
              "Export": {
                "Name": "sls-millas-backend-dev-CompleteCookingLambdaFunctionQualifiedArn"
              }
            },
            "AssignDriverLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "AssignDriverLambdaVersionBrqsPyY9rztOt28PJHOMFLWzdDUECrnzdkgIXmDH4"
              },
              "Export": {
                "Name": "sls-millas-backend-dev-AssignDriverLambdaFunctionQualifiedArn"
              }
            },
            "CompleteDeliveryLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "CompleteDeliveryLambdaVersionqBFkmHtUTpGYhySC6MHfGU3s7UPia3cm0GSTHdubc"
              },
              "Export": {
                "Name": "sls-millas-backend-dev-CompleteDeliveryLambdaFunctionQualifiedArn"
              }
            },
            "HandleOrderFailureLambdaFunctionQualifiedArn": {
              "Description": "Current Lambda function version",
              "Value": {
                "Ref": "HandleOrderFailureLambdaVersionF5AelsDCEKAAVXARMiVgifIF0ZuwTgZx3QBsxszHY"
              },
              "Export": {
                "Name": "sls-millas-backend-dev-HandleOrderFailureLambdaFunctionQualifiedArn"
              }
            },
            "ServiceEndpoint": {
              "Description": "URL of the service endpoint",
              "Value": {
                "Fn::Join": [
                  "",
                  [
                    "https://",
                    {
                      "Ref": "ApiGatewayRestApi"
                    },
                    ".execute-api.",
                    {
                      "Ref": "AWS::Region"
                    },
                    ".",
                    {
                      "Ref": "AWS::URLSuffix"
                    },
                    "/dev"
                  ]
                ]
              },
              "Export": {
                "Name": "sls-millas-backend-dev-ServiceEndpoint"
              }
            }
          }
        },
        "vpc": {}
      },
      "custom": {
        "pythonRequirements": {
          "dockerizePip": true,
          "layer": false
        }
      },
      "functions": {
        "login": {
          "handler": "services/auth/handler.login",
          "events": [
            {
              "http": {
                "path": "auth/login",
                "method": "post",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "POST"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS",
                "request": {
                  "passThrough": "NEVER"
                },
                "response": {
                  "statusCodes": {
                    "200": {
                      "pattern": ""
                    },
                    "400": {
                      "pattern": "[\\s\\S]*\\[400\\][\\s\\S]*"
                    },
                    "401": {
                      "pattern": "[\\s\\S]*\\[401\\][\\s\\S]*"
                    },
                    "403": {
                      "pattern": "[\\s\\S]*\\[403\\][\\s\\S]*"
                    },
                    "404": {
                      "pattern": "[\\s\\S]*\\[404\\][\\s\\S]*"
                    },
                    "422": {
                      "pattern": "[\\s\\S]*\\[422\\][\\s\\S]*"
                    },
                    "500": {
                      "pattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*"
                    },
                    "502": {
                      "pattern": "[\\s\\S]*\\[502\\][\\s\\S]*"
                    },
                    "504": {
                      "pattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)"
                    }
                  }
                }
              }
            }
          ],
          "name": "millas-backend-dev-login",
          "module": ".",
          "package": {},
          "memory": 1024,
          "timeout": 29,
          "runtime": "python3.12",
          "vpc": {},
          "versionLogicalId": "LoginLambdaVersionaphQJ9PIkJS7ZrmJk8c1lolToKTbzDO5VrhwjTgFG8"
        },
        "register": {
          "handler": "services/auth/handler.register",
          "events": [
            {
              "http": {
                "path": "auth/register",
                "method": "post",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "POST"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS",
                "request": {
                  "passThrough": "NEVER"
                },
                "response": {
                  "statusCodes": {
                    "200": {
                      "pattern": ""
                    },
                    "400": {
                      "pattern": "[\\s\\S]*\\[400\\][\\s\\S]*"
                    },
                    "401": {
                      "pattern": "[\\s\\S]*\\[401\\][\\s\\S]*"
                    },
                    "403": {
                      "pattern": "[\\s\\S]*\\[403\\][\\s\\S]*"
                    },
                    "404": {
                      "pattern": "[\\s\\S]*\\[404\\][\\s\\S]*"
                    },
                    "422": {
                      "pattern": "[\\s\\S]*\\[422\\][\\s\\S]*"
                    },
                    "500": {
                      "pattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*"
                    },
                    "502": {
                      "pattern": "[\\s\\S]*\\[502\\][\\s\\S]*"
                    },
                    "504": {
                      "pattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)"
                    }
                  }
                }
              }
            }
          ],
          "name": "millas-backend-dev-register",
          "module": ".",
          "package": {},
          "memory": 1024,
          "timeout": 29,
          "runtime": "python3.12",
          "vpc": {},
          "versionLogicalId": "RegisterLambdaVersionbtpT0jyBSYjE0RJkHQR2GTwy5gkCU2wvvahYXzsvY"
        },
        "authorize": {
          "handler": "services/auth/handler.authorize",
          "events": [],
          "name": "millas-backend-dev-authorize",
          "module": ".",
          "package": {},
          "memory": 1024,
          "timeout": 29,
          "runtime": "python3.12",
          "vpc": {},
          "versionLogicalId": "AuthorizeLambdaVersion9kIZfxNyrtkhxR4ezdFExK1MgsGEp6VaaxaWHLFQw"
        },
        "logout": {
          "handler": "services/auth/handler.logout",
          "events": [
            {
              "http": {
                "path": "auth/logout",
                "method": "post",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "POST"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS",
                "authorizer": {
                  "type": "token",
                  "name": "authorize",
                  "arn": {
                    "Fn::GetAtt": [
                      "AuthorizeLambdaFunction",
                      "Arn"
                    ]
                  },
                  "managedExternally": false,
                  "resultTtlInSeconds": 300,
                  "identitySource": "method.request.header.Authorization",
                  "claims": []
                },
                "request": {
                  "passThrough": "NEVER"
                },
                "response": {
                  "statusCodes": {
                    "200": {
                      "pattern": ""
                    },
                    "400": {
                      "pattern": "[\\s\\S]*\\[400\\][\\s\\S]*"
                    },
                    "401": {
                      "pattern": "[\\s\\S]*\\[401\\][\\s\\S]*"
                    },
                    "403": {
                      "pattern": "[\\s\\S]*\\[403\\][\\s\\S]*"
                    },
                    "404": {
                      "pattern": "[\\s\\S]*\\[404\\][\\s\\S]*"
                    },
                    "422": {
                      "pattern": "[\\s\\S]*\\[422\\][\\s\\S]*"
                    },
                    "500": {
                      "pattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*"
                    },
                    "502": {
                      "pattern": "[\\s\\S]*\\[502\\][\\s\\S]*"
                    },
                    "504": {
                      "pattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)"
                    }
                  }
                }
              }
            }
          ],
          "name": "millas-backend-dev-logout",
          "module": ".",
          "package": {},
          "memory": 1024,
          "timeout": 29,
          "runtime": "python3.12",
          "vpc": {},
          "versionLogicalId": "LogoutLambdaVersionxfx87mUNWSc4ZtDqjCFh7zgxZwIujel6tvnvY1aQ"
        },
        "getAvailableOrders": {
          "handler": "services/driver/handler.get_available_orders",
          "events": [
            {
              "http": {
                "path": "driver/available",
                "method": "get",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "GET"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS",
                "authorizer": {
                  "type": "token",
                  "name": "authorize",
                  "arn": {
                    "Fn::GetAtt": [
                      "AuthorizeLambdaFunction",
                      "Arn"
                    ]
                  },
                  "managedExternally": false,
                  "resultTtlInSeconds": 300,
                  "identitySource": "method.request.header.Authorization",
                  "claims": []
                },
                "request": {
                  "passThrough": "NEVER"
                },
                "response": {
                  "statusCodes": {
                    "200": {
                      "pattern": ""
                    },
                    "400": {
                      "pattern": "[\\s\\S]*\\[400\\][\\s\\S]*"
                    },
                    "401": {
                      "pattern": "[\\s\\S]*\\[401\\][\\s\\S]*"
                    },
                    "403": {
                      "pattern": "[\\s\\S]*\\[403\\][\\s\\S]*"
                    },
                    "404": {
                      "pattern": "[\\s\\S]*\\[404\\][\\s\\S]*"
                    },
                    "422": {
                      "pattern": "[\\s\\S]*\\[422\\][\\s\\S]*"
                    },
                    "500": {
                      "pattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*"
                    },
                    "502": {
                      "pattern": "[\\s\\S]*\\[502\\][\\s\\S]*"
                    },
                    "504": {
                      "pattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)"
                    }
                  }
                }
              }
            }
          ],
          "name": "millas-backend-dev-getAvailableOrders",
          "module": ".",
          "package": {},
          "memory": 1024,
          "timeout": 29,
          "runtime": "python3.12",
          "vpc": {},
          "versionLogicalId": "GetAvailableOrdersLambdaVersionwg2XpITl6o0z069gQccKnP8URDtfDsgqf7toansZ0"
        },
        "getAssignedOrders": {
          "handler": "services/driver/handler.get_assigned_orders",
          "events": [
            {
              "http": {
                "path": "driver/assigned",
                "method": "get",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "GET"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS",
                "authorizer": {
                  "type": "token",
                  "name": "authorize",
                  "arn": {
                    "Fn::GetAtt": [
                      "AuthorizeLambdaFunction",
                      "Arn"
                    ]
                  },
                  "managedExternally": false,
                  "resultTtlInSeconds": 300,
                  "identitySource": "method.request.header.Authorization",
                  "claims": []
                },
                "request": {
                  "passThrough": "NEVER"
                },
                "response": {
                  "statusCodes": {
                    "200": {
                      "pattern": ""
                    },
                    "400": {
                      "pattern": "[\\s\\S]*\\[400\\][\\s\\S]*"
                    },
                    "401": {
                      "pattern": "[\\s\\S]*\\[401\\][\\s\\S]*"
                    },
                    "403": {
                      "pattern": "[\\s\\S]*\\[403\\][\\s\\S]*"
                    },
                    "404": {
                      "pattern": "[\\s\\S]*\\[404\\][\\s\\S]*"
                    },
                    "422": {
                      "pattern": "[\\s\\S]*\\[422\\][\\s\\S]*"
                    },
                    "500": {
                      "pattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*"
                    },
                    "502": {
                      "pattern": "[\\s\\S]*\\[502\\][\\s\\S]*"
                    },
                    "504": {
                      "pattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)"
                    }
                  }
                }
              }
            }
          ],
          "name": "millas-backend-dev-getAssignedOrders",
          "module": ".",
          "package": {},
          "memory": 1024,
          "timeout": 29,
          "runtime": "python3.12",
          "vpc": {},
          "versionLogicalId": "GetAssignedOrdersLambdaVersionEz9of5EIujgXIYroQwX2pz1BQNOPrhNeLYsWTGl8WY"
        },
        "getOrderDetail": {
          "handler": "services/driver/handler.get_order_detail",
          "events": [
            {
              "http": {
                "path": "driver/orders/{order_id}",
                "method": "get",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "GET"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS",
                "authorizer": {
                  "type": "token",
                  "name": "authorize",
                  "arn": {
                    "Fn::GetAtt": [
                      "AuthorizeLambdaFunction",
                      "Arn"
                    ]
                  },
                  "managedExternally": false,
                  "resultTtlInSeconds": 300,
                  "identitySource": "method.request.header.Authorization",
                  "claims": []
                },
                "request": {
                  "passThrough": "NEVER"
                },
                "response": {
                  "statusCodes": {
                    "200": {
                      "pattern": ""
                    },
                    "400": {
                      "pattern": "[\\s\\S]*\\[400\\][\\s\\S]*"
                    },
                    "401": {
                      "pattern": "[\\s\\S]*\\[401\\][\\s\\S]*"
                    },
                    "403": {
                      "pattern": "[\\s\\S]*\\[403\\][\\s\\S]*"
                    },
                    "404": {
                      "pattern": "[\\s\\S]*\\[404\\][\\s\\S]*"
                    },
                    "422": {
                      "pattern": "[\\s\\S]*\\[422\\][\\s\\S]*"
                    },
                    "500": {
                      "pattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*"
                    },
                    "502": {
                      "pattern": "[\\s\\S]*\\[502\\][\\s\\S]*"
                    },
                    "504": {
                      "pattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)"
                    }
                  }
                }
              }
            }
          ],
          "name": "millas-backend-dev-getOrderDetail",
          "module": ".",
          "package": {},
          "memory": 1024,
          "timeout": 29,
          "runtime": "python3.12",
          "vpc": {},
          "versionLogicalId": "GetOrderDetailLambdaVersionhTIbZeAmcDQIQTzwdEdCrPpG5lI5RS6EzG7dFo5v1A"
        },
        "getDriverStats": {
          "handler": "services/driver/handler.get_driver_stats",
          "events": [
            {
              "http": {
                "path": "driver/stats",
                "method": "get",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "GET"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS",
                "authorizer": {
                  "type": "token",
                  "name": "authorize",
                  "arn": {
                    "Fn::GetAtt": [
                      "AuthorizeLambdaFunction",
                      "Arn"
                    ]
                  },
                  "managedExternally": false,
                  "resultTtlInSeconds": 300,
                  "identitySource": "method.request.header.Authorization",
                  "claims": []
                },
                "request": {
                  "passThrough": "NEVER"
                },
                "response": {
                  "statusCodes": {
                    "200": {
                      "pattern": ""
                    },
                    "400": {
                      "pattern": "[\\s\\S]*\\[400\\][\\s\\S]*"
                    },
                    "401": {
                      "pattern": "[\\s\\S]*\\[401\\][\\s\\S]*"
                    },
                    "403": {
                      "pattern": "[\\s\\S]*\\[403\\][\\s\\S]*"
                    },
                    "404": {
                      "pattern": "[\\s\\S]*\\[404\\][\\s\\S]*"
                    },
                    "422": {
                      "pattern": "[\\s\\S]*\\[422\\][\\s\\S]*"
                    },
                    "500": {
                      "pattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*"
                    },
                    "502": {
                      "pattern": "[\\s\\S]*\\[502\\][\\s\\S]*"
                    },
                    "504": {
                      "pattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)"
                    }
                  }
                }
              }
            }
          ],
          "name": "millas-backend-dev-getDriverStats",
          "module": ".",
          "package": {},
          "memory": 1024,
          "timeout": 29,
          "runtime": "python3.12",
          "vpc": {},
          "versionLogicalId": "GetDriverStatsLambdaVersionZKyMwIuGbR3DYnL3g6cKTifmZJ0BKvZvrOVls4b1k"
        },
        "getDeliveryTimeline": {
          "handler": "services/driver/handler.get_delivery_timeline",
          "events": [
            {
              "http": {
                "path": "driver/timeline/{order_id}",
                "method": "get",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "GET"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS",
                "authorizer": {
                  "type": "token",
                  "name": "authorize",
                  "arn": {
                    "Fn::GetAtt": [
                      "AuthorizeLambdaFunction",
                      "Arn"
                    ]
                  },
                  "managedExternally": false,
                  "resultTtlInSeconds": 300,
                  "identitySource": "method.request.header.Authorization",
                  "claims": []
                },
                "request": {
                  "passThrough": "NEVER"
                },
                "response": {
                  "statusCodes": {
                    "200": {
                      "pattern": ""
                    },
                    "400": {
                      "pattern": "[\\s\\S]*\\[400\\][\\s\\S]*"
                    },
                    "401": {
                      "pattern": "[\\s\\S]*\\[401\\][\\s\\S]*"
                    },
                    "403": {
                      "pattern": "[\\s\\S]*\\[403\\][\\s\\S]*"
                    },
                    "404": {
                      "pattern": "[\\s\\S]*\\[404\\][\\s\\S]*"
                    },
                    "422": {
                      "pattern": "[\\s\\S]*\\[422\\][\\s\\S]*"
                    },
                    "500": {
                      "pattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*"
                    },
                    "502": {
                      "pattern": "[\\s\\S]*\\[502\\][\\s\\S]*"
                    },
                    "504": {
                      "pattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)"
                    }
                  }
                }
              }
            }
          ],
          "name": "millas-backend-dev-getDeliveryTimeline",
          "module": ".",
          "package": {},
          "memory": 1024,
          "timeout": 29,
          "runtime": "python3.12",
          "vpc": {},
          "versionLogicalId": "GetDeliveryTimelineLambdaVersionogV7zN8ja8e90bjj8bCSixHEhSWfSpP99tgwCCe2I"
        },
        "createOrder": {
          "handler": "services/orders/handler.create_order",
          "events": [
            {
              "http": {
                "path": "orders",
                "method": "post",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "POST"
                  ],
                  "headers": [
                    "Content-Type",
                    "Authorization",
                    "X-Amz-Date",
                    "X-Api-Key",
                    "X-Amz-Security-Token"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS",
                "authorizer": {
                  "type": "token",
                  "name": "authorize",
                  "arn": {
                    "Fn::GetAtt": [
                      "AuthorizeLambdaFunction",
                      "Arn"
                    ]
                  },
                  "managedExternally": false,
                  "resultTtlInSeconds": 300,
                  "identitySource": "method.request.header.Authorization",
                  "claims": []
                },
                "request": {
                  "passThrough": "NEVER"
                },
                "response": {
                  "statusCodes": {
                    "200": {
                      "pattern": ""
                    },
                    "400": {
                      "pattern": "[\\s\\S]*\\[400\\][\\s\\S]*"
                    },
                    "401": {
                      "pattern": "[\\s\\S]*\\[401\\][\\s\\S]*"
                    },
                    "403": {
                      "pattern": "[\\s\\S]*\\[403\\][\\s\\S]*"
                    },
                    "404": {
                      "pattern": "[\\s\\S]*\\[404\\][\\s\\S]*"
                    },
                    "422": {
                      "pattern": "[\\s\\S]*\\[422\\][\\s\\S]*"
                    },
                    "500": {
                      "pattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*"
                    },
                    "502": {
                      "pattern": "[\\s\\S]*\\[502\\][\\s\\S]*"
                    },
                    "504": {
                      "pattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)"
                    }
                  }
                }
              }
            }
          ],
          "name": "millas-backend-dev-createOrder",
          "module": ".",
          "package": {},
          "memory": 1024,
          "timeout": 29,
          "runtime": "python3.12",
          "vpc": {},
          "versionLogicalId": "CreateOrderLambdaVersion708X0aLFN6zSlouROuJM1wkaIrxbSFLSuL6gGARXqk"
        },
        "getOrders": {
          "handler": "services/orders/handler.get_orders",
          "events": [
            {
              "http": {
                "path": "orders",
                "method": "get",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "GET"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS",
                "authorizer": {
                  "type": "token",
                  "name": "authorize",
                  "arn": {
                    "Fn::GetAtt": [
                      "AuthorizeLambdaFunction",
                      "Arn"
                    ]
                  },
                  "managedExternally": false,
                  "resultTtlInSeconds": 300,
                  "identitySource": "method.request.header.Authorization",
                  "claims": []
                },
                "request": {
                  "passThrough": "NEVER"
                },
                "response": {
                  "statusCodes": {
                    "200": {
                      "pattern": ""
                    },
                    "400": {
                      "pattern": "[\\s\\S]*\\[400\\][\\s\\S]*"
                    },
                    "401": {
                      "pattern": "[\\s\\S]*\\[401\\][\\s\\S]*"
                    },
                    "403": {
                      "pattern": "[\\s\\S]*\\[403\\][\\s\\S]*"
                    },
                    "404": {
                      "pattern": "[\\s\\S]*\\[404\\][\\s\\S]*"
                    },
                    "422": {
                      "pattern": "[\\s\\S]*\\[422\\][\\s\\S]*"
                    },
                    "500": {
                      "pattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*"
                    },
                    "502": {
                      "pattern": "[\\s\\S]*\\[502\\][\\s\\S]*"
                    },
                    "504": {
                      "pattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)"
                    }
                  }
                }
              }
            }
          ],
          "name": "millas-backend-dev-getOrders",
          "module": ".",
          "package": {},
          "memory": 1024,
          "timeout": 29,
          "runtime": "python3.12",
          "vpc": {},
          "versionLogicalId": "GetOrdersLambdaVersionvMUX4oNCcSgdrmMPEut0gU4Kb1uPpYLfIGKAmcPwA"
        },
        "getOrder": {
          "handler": "services/orders/handler.get_order",
          "events": [
            {
              "http": {
                "path": "orders/{order_id}",
                "method": "get",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "GET"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS",
                "authorizer": {
                  "type": "token",
                  "name": "authorize",
                  "arn": {
                    "Fn::GetAtt": [
                      "AuthorizeLambdaFunction",
                      "Arn"
                    ]
                  },
                  "managedExternally": false,
                  "resultTtlInSeconds": 300,
                  "identitySource": "method.request.header.Authorization",
                  "claims": []
                },
                "request": {
                  "passThrough": "NEVER"
                },
                "response": {
                  "statusCodes": {
                    "200": {
                      "pattern": ""
                    },
                    "400": {
                      "pattern": "[\\s\\S]*\\[400\\][\\s\\S]*"
                    },
                    "401": {
                      "pattern": "[\\s\\S]*\\[401\\][\\s\\S]*"
                    },
                    "403": {
                      "pattern": "[\\s\\S]*\\[403\\][\\s\\S]*"
                    },
                    "404": {
                      "pattern": "[\\s\\S]*\\[404\\][\\s\\S]*"
                    },
                    "422": {
                      "pattern": "[\\s\\S]*\\[422\\][\\s\\S]*"
                    },
                    "500": {
                      "pattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*"
                    },
                    "502": {
                      "pattern": "[\\s\\S]*\\[502\\][\\s\\S]*"
                    },
                    "504": {
                      "pattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)"
                    }
                  }
                }
              }
            }
          ],
          "name": "millas-backend-dev-getOrder",
          "module": ".",
          "package": {},
          "memory": 1024,
          "timeout": 29,
          "runtime": "python3.12",
          "vpc": {},
          "versionLogicalId": "GetOrderLambdaVersionXyr1z2lOrPcAD4YYEBnoaYOvwvRjRUfhKNZotWkLA8"
        },
        "getDashboard": {
          "handler": "services/dashboard/handler.get_dashboard",
          "events": [
            {
              "http": {
                "path": "dashboard",
                "method": "get",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "GET"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS",
                "authorizer": {
                  "type": "token",
                  "name": "authorize",
                  "arn": {
                    "Fn::GetAtt": [
                      "AuthorizeLambdaFunction",
                      "Arn"
                    ]
                  },
                  "managedExternally": false,
                  "resultTtlInSeconds": 300,
                  "identitySource": "method.request.header.Authorization",
                  "claims": []
                },
                "request": {
                  "passThrough": "NEVER"
                },
                "response": {
                  "statusCodes": {
                    "200": {
                      "pattern": ""
                    },
                    "400": {
                      "pattern": "[\\s\\S]*\\[400\\][\\s\\S]*"
                    },
                    "401": {
                      "pattern": "[\\s\\S]*\\[401\\][\\s\\S]*"
                    },
                    "403": {
                      "pattern": "[\\s\\S]*\\[403\\][\\s\\S]*"
                    },
                    "404": {
                      "pattern": "[\\s\\S]*\\[404\\][\\s\\S]*"
                    },
                    "422": {
                      "pattern": "[\\s\\S]*\\[422\\][\\s\\S]*"
                    },
                    "500": {
                      "pattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*"
                    },
                    "502": {
                      "pattern": "[\\s\\S]*\\[502\\][\\s\\S]*"
                    },
                    "504": {
                      "pattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)"
                    }
                  }
                }
              }
            }
          ],
          "name": "millas-backend-dev-getDashboard",
          "module": ".",
          "package": {},
          "memory": 1024,
          "timeout": 29,
          "runtime": "python3.12",
          "vpc": {},
          "versionLogicalId": "GetDashboardLambdaVersionjyQzwC4lCgTQ4QoYkWVBkPBr4mLdAkVRnhgCKkCrs"
        },
        "getOrderTimeline": {
          "handler": "services/dashboard/handler.get_order_timeline",
          "events": [
            {
              "http": {
                "path": "dashboard/timeline/{order_id}",
                "method": "get",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "GET"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS",
                "authorizer": {
                  "type": "token",
                  "name": "authorize",
                  "arn": {
                    "Fn::GetAtt": [
                      "AuthorizeLambdaFunction",
                      "Arn"
                    ]
                  },
                  "managedExternally": false,
                  "resultTtlInSeconds": 300,
                  "identitySource": "method.request.header.Authorization",
                  "claims": []
                },
                "request": {
                  "passThrough": "NEVER"
                },
                "response": {
                  "statusCodes": {
                    "200": {
                      "pattern": ""
                    },
                    "400": {
                      "pattern": "[\\s\\S]*\\[400\\][\\s\\S]*"
                    },
                    "401": {
                      "pattern": "[\\s\\S]*\\[401\\][\\s\\S]*"
                    },
                    "403": {
                      "pattern": "[\\s\\S]*\\[403\\][\\s\\S]*"
                    },
                    "404": {
                      "pattern": "[\\s\\S]*\\[404\\][\\s\\S]*"
                    },
                    "422": {
                      "pattern": "[\\s\\S]*\\[422\\][\\s\\S]*"
                    },
                    "500": {
                      "pattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*"
                    },
                    "502": {
                      "pattern": "[\\s\\S]*\\[502\\][\\s\\S]*"
                    },
                    "504": {
                      "pattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)"
                    }
                  }
                }
              }
            }
          ],
          "name": "millas-backend-dev-getOrderTimeline",
          "module": ".",
          "package": {},
          "memory": 1024,
          "timeout": 29,
          "runtime": "python3.12",
          "vpc": {},
          "versionLogicalId": "GetOrderTimelineLambdaVersionJCxZFUAw8r5zhbaVdN56fEMdqRptL4mU6zWlAu1oFw"
        },
        "getStaffPerformance": {
          "handler": "services/dashboard/handler.get_staff_performance",
          "events": [
            {
              "http": {
                "path": "dashboard/staff-performance",
                "method": "get",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "GET"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS",
                "authorizer": {
                  "type": "token",
                  "name": "authorize",
                  "arn": {
                    "Fn::GetAtt": [
                      "AuthorizeLambdaFunction",
                      "Arn"
                    ]
                  },
                  "managedExternally": false,
                  "resultTtlInSeconds": 300,
                  "identitySource": "method.request.header.Authorization",
                  "claims": []
                },
                "request": {
                  "passThrough": "NEVER"
                },
                "response": {
                  "statusCodes": {
                    "200": {
                      "pattern": ""
                    },
                    "400": {
                      "pattern": "[\\s\\S]*\\[400\\][\\s\\S]*"
                    },
                    "401": {
                      "pattern": "[\\s\\S]*\\[401\\][\\s\\S]*"
                    },
                    "403": {
                      "pattern": "[\\s\\S]*\\[403\\][\\s\\S]*"
                    },
                    "404": {
                      "pattern": "[\\s\\S]*\\[404\\][\\s\\S]*"
                    },
                    "422": {
                      "pattern": "[\\s\\S]*\\[422\\][\\s\\S]*"
                    },
                    "500": {
                      "pattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*"
                    },
                    "502": {
                      "pattern": "[\\s\\S]*\\[502\\][\\s\\S]*"
                    },
                    "504": {
                      "pattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)"
                    }
                  }
                }
              }
            }
          ],
          "name": "millas-backend-dev-getStaffPerformance",
          "module": ".",
          "package": {},
          "memory": 1024,
          "timeout": 29,
          "runtime": "python3.12",
          "vpc": {},
          "versionLogicalId": "GetStaffPerformanceLambdaVersionDLO6SjVc987YLfeCsru4QglAFcgYeXBiGqtCvdNp9sg"
        },
        "getCategories": {
          "handler": "services/menu/handler.get_categories",
          "events": [
            {
              "http": {
                "path": "menu/categories",
                "method": "get",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "GET"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS",
                "request": {
                  "passThrough": "NEVER"
                },
                "response": {
                  "statusCodes": {
                    "200": {
                      "pattern": ""
                    },
                    "400": {
                      "pattern": "[\\s\\S]*\\[400\\][\\s\\S]*"
                    },
                    "401": {
                      "pattern": "[\\s\\S]*\\[401\\][\\s\\S]*"
                    },
                    "403": {
                      "pattern": "[\\s\\S]*\\[403\\][\\s\\S]*"
                    },
                    "404": {
                      "pattern": "[\\s\\S]*\\[404\\][\\s\\S]*"
                    },
                    "422": {
                      "pattern": "[\\s\\S]*\\[422\\][\\s\\S]*"
                    },
                    "500": {
                      "pattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*"
                    },
                    "502": {
                      "pattern": "[\\s\\S]*\\[502\\][\\s\\S]*"
                    },
                    "504": {
                      "pattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)"
                    }
                  }
                }
              }
            }
          ],
          "name": "millas-backend-dev-getCategories",
          "module": ".",
          "package": {},
          "memory": 1024,
          "timeout": 29,
          "runtime": "python3.12",
          "vpc": {},
          "versionLogicalId": "GetCategoriesLambdaVersionz4Z4TaF72WGiMTQSpQ34wzLYSoEpIO2xDoTqgxJwiP8"
        },
        "getItems": {
          "handler": "services/menu/handler.get_items",
          "events": [
            {
              "http": {
                "path": "menu/items",
                "method": "get",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "GET"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS",
                "request": {
                  "passThrough": "NEVER"
                },
                "response": {
                  "statusCodes": {
                    "200": {
                      "pattern": ""
                    },
                    "400": {
                      "pattern": "[\\s\\S]*\\[400\\][\\s\\S]*"
                    },
                    "401": {
                      "pattern": "[\\s\\S]*\\[401\\][\\s\\S]*"
                    },
                    "403": {
                      "pattern": "[\\s\\S]*\\[403\\][\\s\\S]*"
                    },
                    "404": {
                      "pattern": "[\\s\\S]*\\[404\\][\\s\\S]*"
                    },
                    "422": {
                      "pattern": "[\\s\\S]*\\[422\\][\\s\\S]*"
                    },
                    "500": {
                      "pattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*"
                    },
                    "502": {
                      "pattern": "[\\s\\S]*\\[502\\][\\s\\S]*"
                    },
                    "504": {
                      "pattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)"
                    }
                  }
                }
              }
            }
          ],
          "name": "millas-backend-dev-getItems",
          "module": ".",
          "package": {},
          "memory": 1024,
          "timeout": 29,
          "runtime": "python3.12",
          "vpc": {},
          "versionLogicalId": "GetItemsLambdaVersionfYjYkcJLP4Pk9FpStypNgsTo69fVkVSY7IhbX8Mc"
        },
        "uploadMenuImage": {
          "handler": "services/menu/upload_image.upload_image",
          "events": [
            {
              "http": {
                "path": "menu/upload-image",
                "method": "post",
                "cors": {
                  "origin": "*",
                  "methods": [
                    "OPTIONS",
                    "POST"
                  ],
                  "headers": [
                    "Content-Type",
                    "X-Amz-Date",
                    "Authorization",
                    "X-Api-Key",
                    "X-Amz-Security-Token",
                    "X-Amz-User-Agent",
                    "X-Amzn-Trace-Id"
                  ],
                  "allowCredentials": "<REDACTED>"
                },
                "integration": "AWS",
                "authorizer": {
                  "type": "token",
                  "name": "authorize",
                  "arn": {
                    "Fn::GetAtt": [
                      "AuthorizeLambdaFunction",
                      "Arn"
                    ]
                  },
                  "managedExternally": false,
                  "resultTtlInSeconds": 300,
                  "identitySource": "method.request.header.Authorization",
                  "claims": []
                },
                "request": {
                  "passThrough": "NEVER"
                },
                "response": {
                  "statusCodes": {
                    "200": {
                      "pattern": ""
                    },
                    "400": {
                      "pattern": "[\\s\\S]*\\[400\\][\\s\\S]*"
                    },
                    "401": {
                      "pattern": "[\\s\\S]*\\[401\\][\\s\\S]*"
                    },
                    "403": {
                      "pattern": "[\\s\\S]*\\[403\\][\\s\\S]*"
                    },
                    "404": {
                      "pattern": "[\\s\\S]*\\[404\\][\\s\\S]*"
                    },
                    "422": {
                      "pattern": "[\\s\\S]*\\[422\\][\\s\\S]*"
                    },
                    "500": {
                      "pattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*"
                    },
                    "502": {
                      "pattern": "[\\s\\S]*\\[502\\][\\s\\S]*"
                    },
                    "504": {
                      "pattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)"
                    }
                  }
                }
              }
            }
          ],
          "name": "millas-backend-dev-uploadMenuImage",
          "module": ".",
          "package": {},
          "memory": 1024,
          "timeout": 29,
          "runtime": "python3.12",
          "vpc": {},
          "versionLogicalId": "UploadMenuImageLambdaVersionEewWJa4Aif27h1pInPa6wilbieIhHuATWuaXabb2FlU"
        },
        "confirmOrder": {
          "handler": "services/workflow/step_functions_handlers.confirm_order",
          "timeout": 30,
          "events": [],
          "name": "millas-backend-dev-confirmOrder",
          "module": ".",
          "package": {},
          "memory": 1024,
          "runtime": "python3.12",
          "vpc": {},
          "versionLogicalId": "ConfirmOrderLambdaVersionIaVUZ1aWWcf83x9eK67oYI9cX5MuuRBvjWWKrcUOH8"
        },
        "assignCook": {
          "handler": "services/workflow/step_functions_handlers.assign_cook",
          "timeout": 30,
          "events": [],
          "name": "millas-backend-dev-assignCook",
          "module": ".",
          "package": {},
          "memory": 1024,
          "runtime": "python3.12",
          "vpc": {},
          "versionLogicalId": "AssignCookLambdaVersionotdZlix7ZPMpnCvnPVL9nQOOOopfqfkcuZrrTlJiiRc"
        },
        "completeCooking": {
          "handler": "services/workflow/step_functions_handlers.complete_cooking",
          "timeout": 30,
          "events": [],
          "name": "millas-backend-dev-completeCooking",
          "module": ".",
          "package": {},
          "memory": 1024,
          "runtime": "python3.12",
          "vpc": {},
          "versionLogicalId": "CompleteCookingLambdaVersionhYj0gAxmKtwRKTOCPIayUure0MfTX42aI2EIyejlWc"
        },
        "assignDriver": {
          "handler": "services/workflow/step_functions_handlers.assign_driver",
          "timeout": 30,
          "events": [],
          "name": "millas-backend-dev-assignDriver",
          "module": ".",
          "package": {},
          "memory": 1024,
          "runtime": "python3.12",
          "vpc": {},
          "versionLogicalId": "AssignDriverLambdaVersionBrqsPyY9rztOt28PJHOMFLWzdDUECrnzdkgIXmDH4"
        },
        "completeDelivery": {
          "handler": "services/workflow/step_functions_handlers.complete_delivery",
          "timeout": 30,
          "events": [],
          "name": "millas-backend-dev-completeDelivery",
          "module": ".",
          "package": {},
          "memory": 1024,
          "runtime": "python3.12",
          "vpc": {},
          "versionLogicalId": "CompleteDeliveryLambdaVersionqBFkmHtUTpGYhySC6MHfGU3s7UPia3cm0GSTHdubc"
        },
        "handleOrderFailure": {
          "handler": "services/workflow/step_functions_handlers.handle_order_failure",
          "timeout": 30,
          "events": [],
          "name": "millas-backend-dev-handleOrderFailure",
          "module": ".",
          "package": {},
          "memory": 1024,
          "runtime": "python3.12",
          "vpc": {},
          "versionLogicalId": "HandleOrderFailureLambdaVersionF5AelsDCEKAAVXARMiVgifIF0ZuwTgZx3QBsxszHY"
        }
      },
      "resources": {
        "Resources": {
          "OrdersTable": {
            "Type": "AWS::DynamoDB::Table",
            "Properties": {
              "TableName": "dev-Orders",
              "AttributeDefinitions": [
                {
                  "AttributeName": "order_id",
                  "AttributeType": "S"
                },
                {
                  "AttributeName": "tenant_id",
                  "AttributeType": "S"
                },
                {
                  "AttributeName": "created_at",
                  "AttributeType": "N"
                },
                {
                  "AttributeName": "customer_id",
                  "AttributeType": "S"
                },
                {
                  "AttributeName": "status",
                  "AttributeType": "S"
                }
              ],
              "KeySchema": [
                {
                  "AttributeName": "order_id",
                  "KeyType": "HASH"
                }
              ],
              "GlobalSecondaryIndexes": [
                {
                  "IndexName": "tenant-created-index",
                  "KeySchema": [
                    {
                      "AttributeName": "tenant_id",
                      "KeyType": "HASH"
                    },
                    {
                      "AttributeName": "created_at",
                      "KeyType": "RANGE"
                    }
                  ],
                  "Projection": {
                    "ProjectionType": "ALL"
                  }
                },
                {
                  "IndexName": "customer-orders-index",
                  "KeySchema": [
                    {
                      "AttributeName": "customer_id",
                      "KeyType": "HASH"
                    },
                    {
                      "AttributeName": "created_at",
                      "KeyType": "RANGE"
                    }
                  ],
                  "Projection": {
                    "ProjectionType": "ALL"
                  }
                },
                {
                  "IndexName": "tenant-status-index",
                  "KeySchema": [
                    {
                      "AttributeName": "tenant_id",
                      "KeyType": "HASH"
                    },
                    {
                      "AttributeName": "status",
                      "KeyType": "RANGE"
                    }
                  ],
                  "Projection": {
                    "ProjectionType": "ALL"
                  }
                }
              ],
              "BillingMode": "PAY_PER_REQUEST"
            }
          },
          "WorkflowTable": {
            "Type": "AWS::DynamoDB::Table",
            "Properties": {
              "TableName": "dev-Workflow",
              "AttributeDefinitions": [
                {
                  "AttributeName": "order_id",
                  "AttributeType": "S"
                }
              ],
              "KeySchema": [
                {
                  "AttributeName": "order_id",
                  "KeyType": "HASH"
                }
              ],
              "BillingMode": "PAY_PER_REQUEST"
            }
          },
          "MenuTable": {
            "Type": "AWS::DynamoDB::Table",
            "Properties": {
              "TableName": "dev-Menu",
              "AttributeDefinitions": [
                {
                  "AttributeName": "item_id",
                  "AttributeType": "S"
                },
                {
                  "AttributeName": "category",
                  "AttributeType": "S"
                }
              ],
              "KeySchema": [
                {
                  "AttributeName": "item_id",
                  "KeyType": "HASH"
                }
              ],
              "GlobalSecondaryIndexes": [
                {
                  "IndexName": "category-index",
                  "KeySchema": [
                    {
                      "AttributeName": "category",
                      "KeyType": "HASH"
                    }
                  ],
                  "Projection": {
                    "ProjectionType": "ALL"
                  }
                }
              ],
              "BillingMode": "PAY_PER_REQUEST"
            }
          },
          "UsersTable": {
            "Type": "AWS::DynamoDB::Table",
            "Properties": {
              "TableName": "dev-Users",
              "AttributeDefinitions": [
                {
                  "AttributeName": "email",
                  "AttributeType": "S"
                }
              ],
              "KeySchema": [
                {
                  "AttributeName": "email",
                  "KeyType": "HASH"
                }
              ],
              "BillingMode": "PAY_PER_REQUEST"
            }
          },
          "MenuImagesBucket": {
            "Type": "AWS::S3::Bucket",
            "Properties": {
              "BucketName": "millas-backend-dev-menu-images",
              "PublicAccessBlockConfiguration": {
                "BlockPublicAcls": false,
                "BlockPublicPolicy": false,
                "IgnorePublicAcls": false,
                "RestrictPublicBuckets": false
              },
              "CorsConfiguration": {
                "CorsRules": [
                  {
                    "AllowedHeaders": [
                      "*"
                    ],
                    "AllowedMethods": [
                      "GET",
                      "PUT",
                      "POST",
                      "HEAD"
                    ],
                    "AllowedOrigins": [
                      "*"
                    ],
                    "MaxAge": 3000
                  }
                ]
              }
            }
          },
          "MenuImagesBucketPolicy": {
            "Type": "AWS::S3::BucketPolicy",
            "Properties": {
              "Bucket": {
                "Ref": "MenuImagesBucket"
              },
              "PolicyDocument": {
                "Statement": [
                  {
                    "Sid": "PublicReadGetObject",
                    "Effect": "Allow",
                    "Principal": "*",
                    "Action": [
                      "s3:GetObject"
                    ],
                    "Resource": {
                      "Fn::Sub": [
                        "arn:aws:s3:::${BucketName}/*",
                        {
                          "BucketName": {
                            "Ref": "MenuImagesBucket"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          },
          "CustomEventBus": {
            "Type": "AWS::Events::EventBus",
            "Properties": {
              "Name": "millas-backend-dev-event-bus"
            }
          },
          "OrderEventsRule": {
            "Type": "AWS::Events::Rule",
            "Properties": {
              "EventBusName": {
                "Ref": "CustomEventBus"
              },
              "EventPattern": {
                "source": [
                  "orders.service",
                  "workflow.service"
                ],
                "detail-type": [
                  "OrderCreated",
                  "OrderUpdated",
                  "OrderConfirmed",
                  "OrderCooking",
                  "OrderPacking",
                  "OrderInDelivery",
                  "OrderDelivered",
                  "OrderFailed"
                ]
              },
              "State": "ENABLED",
              "Description": "Captura todos los eventos relacionados con pedidos y workflow"
            }
          },
          "OrderWorkflowStateMachine": {
            "Type": "AWS::StepFunctions::StateMachine",
            "Properties": {
              "StateMachineName": "millas-backend-dev-order-workflow",
              "RoleArn": "arn:aws:iam::722204368591:role/LabRole",
              "DefinitionString": {
                "Fn::Sub": "{\n  \"Comment\": \"Workflow automatizado para procesamiento de pedidos\",\n  \"StartAt\": \"ConfirmOrder\",\n  \"States\": {\n    \"ConfirmOrder\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"${ConfirmOrderLambdaFunction.Arn}\",\n      \"ResultPath\": \"$.confirmResult\",\n      \"TimeoutSeconds\": 30,\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\"States.TaskFailed\", \"States.Timeout\"],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 3,\n          \"BackoffRate\": 2.0\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\"States.ALL\"],\n          \"ResultPath\": \"$.error\",\n          \"Next\": \"OrderFailed\"\n        }\n      ],\n      \"Next\": \"AssignCook\"\n    },\n    \"AssignCook\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"${AssignCookLambdaFunction.Arn}\",\n      \"ResultPath\": \"$.cookResult\",\n      \"TimeoutSeconds\": 30,\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\"States.TaskFailed\", \"States.Timeout\"],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 3,\n          \"BackoffRate\": 2.0\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\"States.ALL\"],\n          \"ResultPath\": \"$.error\",\n          \"Next\": \"OrderFailed\"\n        }\n      ],\n      \"Next\": \"WaitForCooking\"\n    },\n    \"WaitForCooking\": {\n      \"Type\": \"Wait\",\n      \"Seconds\": 300,\n      \"Comment\": \"Espera simulada de coccin (5 min)\",\n      \"Next\": \"CompleteCooking\"\n    },\n    \"CompleteCooking\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"${CompleteCookingLambdaFunction.Arn}\",\n      \"ResultPath\": \"$.cookingResult\",\n      \"TimeoutSeconds\": 30,\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\"States.TaskFailed\", \"States.Timeout\"],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 3,\n          \"BackoffRate\": 2.0\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\"States.ALL\"],\n          \"ResultPath\": \"$.error\",\n          \"Next\": \"OrderFailed\"\n        }\n      ],\n      \"Next\": \"AssignDriver\"\n    },\n    \"AssignDriver\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"${AssignDriverLambdaFunction.Arn}\",\n      \"ResultPath\": \"$.driverResult\",\n      \"TimeoutSeconds\": 30,\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\"States.TaskFailed\", \"States.Timeout\"],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 3,\n          \"BackoffRate\": 2.0\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\"States.ALL\"],\n          \"ResultPath\": \"$.error\",\n          \"Next\": \"OrderFailed\"\n        }\n      ],\n      \"Next\": \"WaitForDelivery\"\n    },\n    \"WaitForDelivery\": {\n      \"Type\": \"Wait\",\n      \"Seconds\": 600,\n      \"Comment\": \"Espera simulada de entrega (10 min)\",\n      \"Next\": \"CompleteDelivery\"\n    },\n    \"CompleteDelivery\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"${CompleteDeliveryLambdaFunction.Arn}\",\n      \"ResultPath\": \"$.deliveryResult\",\n      \"TimeoutSeconds\": 30,\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\"States.TaskFailed\", \"States.Timeout\"],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 3,\n          \"BackoffRate\": 2.0\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\"States.ALL\"],\n          \"ResultPath\": \"$.error\",\n          \"Next\": \"OrderFailed\"\n        }\n      ],\n      \"End\": true\n    },\n    \"OrderFailed\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"${HandleOrderFailureLambdaFunction.Arn}\",\n      \"ResultPath\": \"$.failureResult\",\n      \"End\": true\n    }\n  }\n}\n"
              }
            }
          }
        },
        "Outputs": {}
      },
      "outputs": {
        "ApiGatewayRestApiId": {
          "Description": "API Gateway REST API ID",
          "Value": {
            "Ref": "ApiGatewayRestApi"
          },
          "Export": {
            "Name": "millas-backend-dev-ApiGatewayId"
          }
        },
        "ApiGatewayRestApiUrl": {
          "Description": "URL base de la API Gateway",
          "Value": {
            "Fn::Sub": "https://${ApiGatewayRestApi}.execute-api.${AWS::Region}.amazonaws.com/dev"
          },
          "Export": {
            "Name": "millas-backend-dev-ApiGatewayUrl"
          }
        },
        "OrderWorkflowStateMachineArn": {
          "Description": "ARN de la Step Function para workflow de pedidos",
          "Value": {
            "Ref": "OrderWorkflowStateMachine"
          },
          "Export": {
            "Name": "millas-backend-dev-OrderWorkflowArn"
          }
        },
        "CustomEventBusName": {
          "Description": "Nombre del Event Bus personalizado",
          "Value": {
            "Ref": "CustomEventBus"
          },
          "Export": {
            "Name": "millas-backend-dev-EventBusName"
          }
        }
      }
    },
    "provider": {
      "name": "aws",
      "runtime": "python3.12",
      "memorySize": 1024,
      "timeout": 29,
      "iam": {
        "role": "arn:aws:iam::722204368591:role/LabRole"
      },
      "environment": {
        "ORDERS_TABLE": "dev-Orders",
        "WORKFLOW_TABLE": "dev-Workflow",
        "MENU_TABLE": "dev-Menu",
        "USERS_TABLE": "dev-Users",
        "TENANT_ID": "200millas",
        "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
        "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
        "SERVERLESS_SERVICE": "millas-backend",
        "SERVERLESS_STAGE": "dev",
        "AWS_ACCOUNT_ID": "722204368591"
      },
      "stage": "dev",
      "region": "us-east-1",
      "versionFunctions": true,
      "compiledCloudFormationTemplate": {
        "AWSTemplateFormatVersion": "2010-09-09",
        "Description": "The AWS CloudFormation template for this Serverless application",
        "Resources": {
          "LoginLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/millas-backend-dev-login"
            }
          },
          "RegisterLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/millas-backend-dev-register"
            }
          },
          "AuthorizeLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/millas-backend-dev-authorize"
            }
          },
          "LogoutLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/millas-backend-dev-logout"
            }
          },
          "GetAvailableOrdersLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/millas-backend-dev-getAvailableOrders"
            }
          },
          "GetAssignedOrdersLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/millas-backend-dev-getAssignedOrders"
            }
          },
          "GetOrderDetailLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/millas-backend-dev-getOrderDetail"
            }
          },
          "GetDriverStatsLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/millas-backend-dev-getDriverStats"
            }
          },
          "GetDeliveryTimelineLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/millas-backend-dev-getDeliveryTimeline"
            }
          },
          "CreateOrderLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/millas-backend-dev-createOrder"
            }
          },
          "GetOrdersLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/millas-backend-dev-getOrders"
            }
          },
          "GetOrderLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/millas-backend-dev-getOrder"
            }
          },
          "GetDashboardLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/millas-backend-dev-getDashboard"
            }
          },
          "GetOrderTimelineLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/millas-backend-dev-getOrderTimeline"
            }
          },
          "GetStaffPerformanceLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/millas-backend-dev-getStaffPerformance"
            }
          },
          "GetCategoriesLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/millas-backend-dev-getCategories"
            }
          },
          "GetItemsLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/millas-backend-dev-getItems"
            }
          },
          "UploadMenuImageLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/millas-backend-dev-uploadMenuImage"
            }
          },
          "ConfirmOrderLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/millas-backend-dev-confirmOrder"
            }
          },
          "AssignCookLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/millas-backend-dev-assignCook"
            }
          },
          "CompleteCookingLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/millas-backend-dev-completeCooking"
            }
          },
          "AssignDriverLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/millas-backend-dev-assignDriver"
            }
          },
          "CompleteDeliveryLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/millas-backend-dev-completeDelivery"
            }
          },
          "HandleOrderFailureLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/millas-backend-dev-handleOrderFailure"
            }
          },
          "LoginLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
              },
              "Handler": "services/auth/handler.login",
              "Runtime": "python3.12",
              "FunctionName": "millas-backend-dev-login",
              "MemorySize": 1024,
              "Timeout": 29,
              "Environment": {
                "Variables": {
                  "ORDERS_TABLE": "dev-Orders",
                  "WORKFLOW_TABLE": "dev-Workflow",
                  "MENU_TABLE": "dev-Menu",
                  "USERS_TABLE": "dev-Users",
                  "TENANT_ID": "200millas",
                  "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                  "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                  "SERVERLESS_SERVICE": "millas-backend",
                  "SERVERLESS_STAGE": "dev",
                  "AWS_ACCOUNT_ID": "722204368591"
                }
              },
              "Role": "arn:aws:iam::722204368591:role/LabRole"
            },
            "DependsOn": [
              "LoginLogGroup"
            ]
          },
          "RegisterLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
              },
              "Handler": "services/auth/handler.register",
              "Runtime": "python3.12",
              "FunctionName": "millas-backend-dev-register",
              "MemorySize": 1024,
              "Timeout": 29,
              "Environment": {
                "Variables": {
                  "ORDERS_TABLE": "dev-Orders",
                  "WORKFLOW_TABLE": "dev-Workflow",
                  "MENU_TABLE": "dev-Menu",
                  "USERS_TABLE": "dev-Users",
                  "TENANT_ID": "200millas",
                  "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                  "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                  "SERVERLESS_SERVICE": "millas-backend",
                  "SERVERLESS_STAGE": "dev",
                  "AWS_ACCOUNT_ID": "722204368591"
                }
              },
              "Role": "arn:aws:iam::722204368591:role/LabRole"
            },
            "DependsOn": [
              "RegisterLogGroup"
            ]
          },
          "AuthorizeLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
              },
              "Handler": "services/auth/handler.authorize",
              "Runtime": "python3.12",
              "FunctionName": "millas-backend-dev-authorize",
              "MemorySize": 1024,
              "Timeout": 29,
              "Environment": {
                "Variables": {
                  "ORDERS_TABLE": "dev-Orders",
                  "WORKFLOW_TABLE": "dev-Workflow",
                  "MENU_TABLE": "dev-Menu",
                  "USERS_TABLE": "dev-Users",
                  "TENANT_ID": "200millas",
                  "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                  "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                  "SERVERLESS_SERVICE": "millas-backend",
                  "SERVERLESS_STAGE": "dev",
                  "AWS_ACCOUNT_ID": "722204368591"
                }
              },
              "Role": "arn:aws:iam::722204368591:role/LabRole"
            },
            "DependsOn": [
              "AuthorizeLogGroup"
            ]
          },
          "LogoutLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
              },
              "Handler": "services/auth/handler.logout",
              "Runtime": "python3.12",
              "FunctionName": "millas-backend-dev-logout",
              "MemorySize": 1024,
              "Timeout": 29,
              "Environment": {
                "Variables": {
                  "ORDERS_TABLE": "dev-Orders",
                  "WORKFLOW_TABLE": "dev-Workflow",
                  "MENU_TABLE": "dev-Menu",
                  "USERS_TABLE": "dev-Users",
                  "TENANT_ID": "200millas",
                  "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                  "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                  "SERVERLESS_SERVICE": "millas-backend",
                  "SERVERLESS_STAGE": "dev",
                  "AWS_ACCOUNT_ID": "722204368591"
                }
              },
              "Role": "arn:aws:iam::722204368591:role/LabRole"
            },
            "DependsOn": [
              "LogoutLogGroup"
            ]
          },
          "GetAvailableOrdersLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
              },
              "Handler": "services/driver/handler.get_available_orders",
              "Runtime": "python3.12",
              "FunctionName": "millas-backend-dev-getAvailableOrders",
              "MemorySize": 1024,
              "Timeout": 29,
              "Environment": {
                "Variables": {
                  "ORDERS_TABLE": "dev-Orders",
                  "WORKFLOW_TABLE": "dev-Workflow",
                  "MENU_TABLE": "dev-Menu",
                  "USERS_TABLE": "dev-Users",
                  "TENANT_ID": "200millas",
                  "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                  "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                  "SERVERLESS_SERVICE": "millas-backend",
                  "SERVERLESS_STAGE": "dev",
                  "AWS_ACCOUNT_ID": "722204368591"
                }
              },
              "Role": "arn:aws:iam::722204368591:role/LabRole"
            },
            "DependsOn": [
              "GetAvailableOrdersLogGroup"
            ]
          },
          "GetAssignedOrdersLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
              },
              "Handler": "services/driver/handler.get_assigned_orders",
              "Runtime": "python3.12",
              "FunctionName": "millas-backend-dev-getAssignedOrders",
              "MemorySize": 1024,
              "Timeout": 29,
              "Environment": {
                "Variables": {
                  "ORDERS_TABLE": "dev-Orders",
                  "WORKFLOW_TABLE": "dev-Workflow",
                  "MENU_TABLE": "dev-Menu",
                  "USERS_TABLE": "dev-Users",
                  "TENANT_ID": "200millas",
                  "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                  "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                  "SERVERLESS_SERVICE": "millas-backend",
                  "SERVERLESS_STAGE": "dev",
                  "AWS_ACCOUNT_ID": "722204368591"
                }
              },
              "Role": "arn:aws:iam::722204368591:role/LabRole"
            },
            "DependsOn": [
              "GetAssignedOrdersLogGroup"
            ]
          },
          "GetOrderDetailLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
              },
              "Handler": "services/driver/handler.get_order_detail",
              "Runtime": "python3.12",
              "FunctionName": "millas-backend-dev-getOrderDetail",
              "MemorySize": 1024,
              "Timeout": 29,
              "Environment": {
                "Variables": {
                  "ORDERS_TABLE": "dev-Orders",
                  "WORKFLOW_TABLE": "dev-Workflow",
                  "MENU_TABLE": "dev-Menu",
                  "USERS_TABLE": "dev-Users",
                  "TENANT_ID": "200millas",
                  "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                  "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                  "SERVERLESS_SERVICE": "millas-backend",
                  "SERVERLESS_STAGE": "dev",
                  "AWS_ACCOUNT_ID": "722204368591"
                }
              },
              "Role": "arn:aws:iam::722204368591:role/LabRole"
            },
            "DependsOn": [
              "GetOrderDetailLogGroup"
            ]
          },
          "GetDriverStatsLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
              },
              "Handler": "services/driver/handler.get_driver_stats",
              "Runtime": "python3.12",
              "FunctionName": "millas-backend-dev-getDriverStats",
              "MemorySize": 1024,
              "Timeout": 29,
              "Environment": {
                "Variables": {
                  "ORDERS_TABLE": "dev-Orders",
                  "WORKFLOW_TABLE": "dev-Workflow",
                  "MENU_TABLE": "dev-Menu",
                  "USERS_TABLE": "dev-Users",
                  "TENANT_ID": "200millas",
                  "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                  "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                  "SERVERLESS_SERVICE": "millas-backend",
                  "SERVERLESS_STAGE": "dev",
                  "AWS_ACCOUNT_ID": "722204368591"
                }
              },
              "Role": "arn:aws:iam::722204368591:role/LabRole"
            },
            "DependsOn": [
              "GetDriverStatsLogGroup"
            ]
          },
          "GetDeliveryTimelineLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
              },
              "Handler": "services/driver/handler.get_delivery_timeline",
              "Runtime": "python3.12",
              "FunctionName": "millas-backend-dev-getDeliveryTimeline",
              "MemorySize": 1024,
              "Timeout": 29,
              "Environment": {
                "Variables": {
                  "ORDERS_TABLE": "dev-Orders",
                  "WORKFLOW_TABLE": "dev-Workflow",
                  "MENU_TABLE": "dev-Menu",
                  "USERS_TABLE": "dev-Users",
                  "TENANT_ID": "200millas",
                  "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                  "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                  "SERVERLESS_SERVICE": "millas-backend",
                  "SERVERLESS_STAGE": "dev",
                  "AWS_ACCOUNT_ID": "722204368591"
                }
              },
              "Role": "arn:aws:iam::722204368591:role/LabRole"
            },
            "DependsOn": [
              "GetDeliveryTimelineLogGroup"
            ]
          },
          "CreateOrderLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
              },
              "Handler": "services/orders/handler.create_order",
              "Runtime": "python3.12",
              "FunctionName": "millas-backend-dev-createOrder",
              "MemorySize": 1024,
              "Timeout": 29,
              "Environment": {
                "Variables": {
                  "ORDERS_TABLE": "dev-Orders",
                  "WORKFLOW_TABLE": "dev-Workflow",
                  "MENU_TABLE": "dev-Menu",
                  "USERS_TABLE": "dev-Users",
                  "TENANT_ID": "200millas",
                  "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                  "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                  "SERVERLESS_SERVICE": "millas-backend",
                  "SERVERLESS_STAGE": "dev",
                  "AWS_ACCOUNT_ID": "722204368591"
                }
              },
              "Role": "arn:aws:iam::722204368591:role/LabRole"
            },
            "DependsOn": [
              "CreateOrderLogGroup"
            ]
          },
          "GetOrdersLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
              },
              "Handler": "services/orders/handler.get_orders",
              "Runtime": "python3.12",
              "FunctionName": "millas-backend-dev-getOrders",
              "MemorySize": 1024,
              "Timeout": 29,
              "Environment": {
                "Variables": {
                  "ORDERS_TABLE": "dev-Orders",
                  "WORKFLOW_TABLE": "dev-Workflow",
                  "MENU_TABLE": "dev-Menu",
                  "USERS_TABLE": "dev-Users",
                  "TENANT_ID": "200millas",
                  "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                  "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                  "SERVERLESS_SERVICE": "millas-backend",
                  "SERVERLESS_STAGE": "dev",
                  "AWS_ACCOUNT_ID": "722204368591"
                }
              },
              "Role": "arn:aws:iam::722204368591:role/LabRole"
            },
            "DependsOn": [
              "GetOrdersLogGroup"
            ]
          },
          "GetOrderLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
              },
              "Handler": "services/orders/handler.get_order",
              "Runtime": "python3.12",
              "FunctionName": "millas-backend-dev-getOrder",
              "MemorySize": 1024,
              "Timeout": 29,
              "Environment": {
                "Variables": {
                  "ORDERS_TABLE": "dev-Orders",
                  "WORKFLOW_TABLE": "dev-Workflow",
                  "MENU_TABLE": "dev-Menu",
                  "USERS_TABLE": "dev-Users",
                  "TENANT_ID": "200millas",
                  "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                  "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                  "SERVERLESS_SERVICE": "millas-backend",
                  "SERVERLESS_STAGE": "dev",
                  "AWS_ACCOUNT_ID": "722204368591"
                }
              },
              "Role": "arn:aws:iam::722204368591:role/LabRole"
            },
            "DependsOn": [
              "GetOrderLogGroup"
            ]
          },
          "GetDashboardLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
              },
              "Handler": "services/dashboard/handler.get_dashboard",
              "Runtime": "python3.12",
              "FunctionName": "millas-backend-dev-getDashboard",
              "MemorySize": 1024,
              "Timeout": 29,
              "Environment": {
                "Variables": {
                  "ORDERS_TABLE": "dev-Orders",
                  "WORKFLOW_TABLE": "dev-Workflow",
                  "MENU_TABLE": "dev-Menu",
                  "USERS_TABLE": "dev-Users",
                  "TENANT_ID": "200millas",
                  "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                  "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                  "SERVERLESS_SERVICE": "millas-backend",
                  "SERVERLESS_STAGE": "dev",
                  "AWS_ACCOUNT_ID": "722204368591"
                }
              },
              "Role": "arn:aws:iam::722204368591:role/LabRole"
            },
            "DependsOn": [
              "GetDashboardLogGroup"
            ]
          },
          "GetOrderTimelineLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
              },
              "Handler": "services/dashboard/handler.get_order_timeline",
              "Runtime": "python3.12",
              "FunctionName": "millas-backend-dev-getOrderTimeline",
              "MemorySize": 1024,
              "Timeout": 29,
              "Environment": {
                "Variables": {
                  "ORDERS_TABLE": "dev-Orders",
                  "WORKFLOW_TABLE": "dev-Workflow",
                  "MENU_TABLE": "dev-Menu",
                  "USERS_TABLE": "dev-Users",
                  "TENANT_ID": "200millas",
                  "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                  "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                  "SERVERLESS_SERVICE": "millas-backend",
                  "SERVERLESS_STAGE": "dev",
                  "AWS_ACCOUNT_ID": "722204368591"
                }
              },
              "Role": "arn:aws:iam::722204368591:role/LabRole"
            },
            "DependsOn": [
              "GetOrderTimelineLogGroup"
            ]
          },
          "GetStaffPerformanceLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
              },
              "Handler": "services/dashboard/handler.get_staff_performance",
              "Runtime": "python3.12",
              "FunctionName": "millas-backend-dev-getStaffPerformance",
              "MemorySize": 1024,
              "Timeout": 29,
              "Environment": {
                "Variables": {
                  "ORDERS_TABLE": "dev-Orders",
                  "WORKFLOW_TABLE": "dev-Workflow",
                  "MENU_TABLE": "dev-Menu",
                  "USERS_TABLE": "dev-Users",
                  "TENANT_ID": "200millas",
                  "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                  "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                  "SERVERLESS_SERVICE": "millas-backend",
                  "SERVERLESS_STAGE": "dev",
                  "AWS_ACCOUNT_ID": "722204368591"
                }
              },
              "Role": "arn:aws:iam::722204368591:role/LabRole"
            },
            "DependsOn": [
              "GetStaffPerformanceLogGroup"
            ]
          },
          "GetCategoriesLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
              },
              "Handler": "services/menu/handler.get_categories",
              "Runtime": "python3.12",
              "FunctionName": "millas-backend-dev-getCategories",
              "MemorySize": 1024,
              "Timeout": 29,
              "Environment": {
                "Variables": {
                  "ORDERS_TABLE": "dev-Orders",
                  "WORKFLOW_TABLE": "dev-Workflow",
                  "MENU_TABLE": "dev-Menu",
                  "USERS_TABLE": "dev-Users",
                  "TENANT_ID": "200millas",
                  "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                  "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                  "SERVERLESS_SERVICE": "millas-backend",
                  "SERVERLESS_STAGE": "dev",
                  "AWS_ACCOUNT_ID": "722204368591"
                }
              },
              "Role": "arn:aws:iam::722204368591:role/LabRole"
            },
            "DependsOn": [
              "GetCategoriesLogGroup"
            ]
          },
          "GetItemsLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
              },
              "Handler": "services/menu/handler.get_items",
              "Runtime": "python3.12",
              "FunctionName": "millas-backend-dev-getItems",
              "MemorySize": 1024,
              "Timeout": 29,
              "Environment": {
                "Variables": {
                  "ORDERS_TABLE": "dev-Orders",
                  "WORKFLOW_TABLE": "dev-Workflow",
                  "MENU_TABLE": "dev-Menu",
                  "USERS_TABLE": "dev-Users",
                  "TENANT_ID": "200millas",
                  "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                  "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                  "SERVERLESS_SERVICE": "millas-backend",
                  "SERVERLESS_STAGE": "dev",
                  "AWS_ACCOUNT_ID": "722204368591"
                }
              },
              "Role": "arn:aws:iam::722204368591:role/LabRole"
            },
            "DependsOn": [
              "GetItemsLogGroup"
            ]
          },
          "UploadMenuImageLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
              },
              "Handler": "services/menu/upload_image.upload_image",
              "Runtime": "python3.12",
              "FunctionName": "millas-backend-dev-uploadMenuImage",
              "MemorySize": 1024,
              "Timeout": 29,
              "Environment": {
                "Variables": {
                  "ORDERS_TABLE": "dev-Orders",
                  "WORKFLOW_TABLE": "dev-Workflow",
                  "MENU_TABLE": "dev-Menu",
                  "USERS_TABLE": "dev-Users",
                  "TENANT_ID": "200millas",
                  "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                  "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                  "SERVERLESS_SERVICE": "millas-backend",
                  "SERVERLESS_STAGE": "dev",
                  "AWS_ACCOUNT_ID": "722204368591"
                }
              },
              "Role": "arn:aws:iam::722204368591:role/LabRole"
            },
            "DependsOn": [
              "UploadMenuImageLogGroup"
            ]
          },
          "ConfirmOrderLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
              },
              "Handler": "services/workflow/step_functions_handlers.confirm_order",
              "Runtime": "python3.12",
              "FunctionName": "millas-backend-dev-confirmOrder",
              "MemorySize": 1024,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "ORDERS_TABLE": "dev-Orders",
                  "WORKFLOW_TABLE": "dev-Workflow",
                  "MENU_TABLE": "dev-Menu",
                  "USERS_TABLE": "dev-Users",
                  "TENANT_ID": "200millas",
                  "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                  "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                  "SERVERLESS_SERVICE": "millas-backend",
                  "SERVERLESS_STAGE": "dev",
                  "AWS_ACCOUNT_ID": "722204368591"
                }
              },
              "Role": "arn:aws:iam::722204368591:role/LabRole"
            },
            "DependsOn": [
              "ConfirmOrderLogGroup"
            ]
          },
          "AssignCookLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
              },
              "Handler": "services/workflow/step_functions_handlers.assign_cook",
              "Runtime": "python3.12",
              "FunctionName": "millas-backend-dev-assignCook",
              "MemorySize": 1024,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "ORDERS_TABLE": "dev-Orders",
                  "WORKFLOW_TABLE": "dev-Workflow",
                  "MENU_TABLE": "dev-Menu",
                  "USERS_TABLE": "dev-Users",
                  "TENANT_ID": "200millas",
                  "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                  "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                  "SERVERLESS_SERVICE": "millas-backend",
                  "SERVERLESS_STAGE": "dev",
                  "AWS_ACCOUNT_ID": "722204368591"
                }
              },
              "Role": "arn:aws:iam::722204368591:role/LabRole"
            },
            "DependsOn": [
              "AssignCookLogGroup"
            ]
          },
          "CompleteCookingLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
              },
              "Handler": "services/workflow/step_functions_handlers.complete_cooking",
              "Runtime": "python3.12",
              "FunctionName": "millas-backend-dev-completeCooking",
              "MemorySize": 1024,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "ORDERS_TABLE": "dev-Orders",
                  "WORKFLOW_TABLE": "dev-Workflow",
                  "MENU_TABLE": "dev-Menu",
                  "USERS_TABLE": "dev-Users",
                  "TENANT_ID": "200millas",
                  "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                  "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                  "SERVERLESS_SERVICE": "millas-backend",
                  "SERVERLESS_STAGE": "dev",
                  "AWS_ACCOUNT_ID": "722204368591"
                }
              },
              "Role": "arn:aws:iam::722204368591:role/LabRole"
            },
            "DependsOn": [
              "CompleteCookingLogGroup"
            ]
          },
          "AssignDriverLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
              },
              "Handler": "services/workflow/step_functions_handlers.assign_driver",
              "Runtime": "python3.12",
              "FunctionName": "millas-backend-dev-assignDriver",
              "MemorySize": 1024,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "ORDERS_TABLE": "dev-Orders",
                  "WORKFLOW_TABLE": "dev-Workflow",
                  "MENU_TABLE": "dev-Menu",
                  "USERS_TABLE": "dev-Users",
                  "TENANT_ID": "200millas",
                  "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                  "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                  "SERVERLESS_SERVICE": "millas-backend",
                  "SERVERLESS_STAGE": "dev",
                  "AWS_ACCOUNT_ID": "722204368591"
                }
              },
              "Role": "arn:aws:iam::722204368591:role/LabRole"
            },
            "DependsOn": [
              "AssignDriverLogGroup"
            ]
          },
          "CompleteDeliveryLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
              },
              "Handler": "services/workflow/step_functions_handlers.complete_delivery",
              "Runtime": "python3.12",
              "FunctionName": "millas-backend-dev-completeDelivery",
              "MemorySize": 1024,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "ORDERS_TABLE": "dev-Orders",
                  "WORKFLOW_TABLE": "dev-Workflow",
                  "MENU_TABLE": "dev-Menu",
                  "USERS_TABLE": "dev-Users",
                  "TENANT_ID": "200millas",
                  "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                  "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                  "SERVERLESS_SERVICE": "millas-backend",
                  "SERVERLESS_STAGE": "dev",
                  "AWS_ACCOUNT_ID": "722204368591"
                }
              },
              "Role": "arn:aws:iam::722204368591:role/LabRole"
            },
            "DependsOn": [
              "CompleteDeliveryLogGroup"
            ]
          },
          "HandleOrderFailureLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
                "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
              },
              "Handler": "services/workflow/step_functions_handlers.handle_order_failure",
              "Runtime": "python3.12",
              "FunctionName": "millas-backend-dev-handleOrderFailure",
              "MemorySize": 1024,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "ORDERS_TABLE": "dev-Orders",
                  "WORKFLOW_TABLE": "dev-Workflow",
                  "MENU_TABLE": "dev-Menu",
                  "USERS_TABLE": "dev-Users",
                  "TENANT_ID": "200millas",
                  "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                  "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                  "SERVERLESS_SERVICE": "millas-backend",
                  "SERVERLESS_STAGE": "dev",
                  "AWS_ACCOUNT_ID": "722204368591"
                }
              },
              "Role": "arn:aws:iam::722204368591:role/LabRole"
            },
            "DependsOn": [
              "HandleOrderFailureLogGroup"
            ]
          },
          "LoginLambdaVersionaphQJ9PIkJS7ZrmJk8c1lolToKTbzDO5VrhwjTgFG8": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "LoginLambdaFunction"
              },
              "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
            }
          },
          "RegisterLambdaVersionbtpT0jyBSYjE0RJkHQR2GTwy5gkCU2wvvahYXzsvY": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "RegisterLambdaFunction"
              },
              "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
            }
          },
          "AuthorizeLambdaVersion9kIZfxNyrtkhxR4ezdFExK1MgsGEp6VaaxaWHLFQw": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "AuthorizeLambdaFunction"
              },
              "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
            }
          },
          "LogoutLambdaVersionxfx87mUNWSc4ZtDqjCFh7zgxZwIujel6tvnvY1aQ": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "LogoutLambdaFunction"
              },
              "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
            }
          },
          "GetAvailableOrdersLambdaVersionwg2XpITl6o0z069gQccKnP8URDtfDsgqf7toansZ0": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetAvailableOrdersLambdaFunction"
              },
              "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
            }
          },
          "GetAssignedOrdersLambdaVersionEz9of5EIujgXIYroQwX2pz1BQNOPrhNeLYsWTGl8WY": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetAssignedOrdersLambdaFunction"
              },
              "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
            }
          },
          "GetOrderDetailLambdaVersionhTIbZeAmcDQIQTzwdEdCrPpG5lI5RS6EzG7dFo5v1A": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetOrderDetailLambdaFunction"
              },
              "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
            }
          },
          "GetDriverStatsLambdaVersionZKyMwIuGbR3DYnL3g6cKTifmZJ0BKvZvrOVls4b1k": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetDriverStatsLambdaFunction"
              },
              "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
            }
          },
          "GetDeliveryTimelineLambdaVersionogV7zN8ja8e90bjj8bCSixHEhSWfSpP99tgwCCe2I": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetDeliveryTimelineLambdaFunction"
              },
              "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
            }
          },
          "CreateOrderLambdaVersion708X0aLFN6zSlouROuJM1wkaIrxbSFLSuL6gGARXqk": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "CreateOrderLambdaFunction"
              },
              "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
            }
          },
          "GetOrdersLambdaVersionvMUX4oNCcSgdrmMPEut0gU4Kb1uPpYLfIGKAmcPwA": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetOrdersLambdaFunction"
              },
              "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
            }
          },
          "GetOrderLambdaVersionXyr1z2lOrPcAD4YYEBnoaYOvwvRjRUfhKNZotWkLA8": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetOrderLambdaFunction"
              },
              "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
            }
          },
          "GetDashboardLambdaVersionjyQzwC4lCgTQ4QoYkWVBkPBr4mLdAkVRnhgCKkCrs": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetDashboardLambdaFunction"
              },
              "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
            }
          },
          "GetOrderTimelineLambdaVersionJCxZFUAw8r5zhbaVdN56fEMdqRptL4mU6zWlAu1oFw": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetOrderTimelineLambdaFunction"
              },
              "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
            }
          },
          "GetStaffPerformanceLambdaVersionDLO6SjVc987YLfeCsru4QglAFcgYeXBiGqtCvdNp9sg": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetStaffPerformanceLambdaFunction"
              },
              "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
            }
          },
          "GetCategoriesLambdaVersionz4Z4TaF72WGiMTQSpQ34wzLYSoEpIO2xDoTqgxJwiP8": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetCategoriesLambdaFunction"
              },
              "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
            }
          },
          "GetItemsLambdaVersionfYjYkcJLP4Pk9FpStypNgsTo69fVkVSY7IhbX8Mc": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetItemsLambdaFunction"
              },
              "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
            }
          },
          "UploadMenuImageLambdaVersionEewWJa4Aif27h1pInPa6wilbieIhHuATWuaXabb2FlU": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "UploadMenuImageLambdaFunction"
              },
              "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
            }
          },
          "ConfirmOrderLambdaVersionIaVUZ1aWWcf83x9eK67oYI9cX5MuuRBvjWWKrcUOH8": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "ConfirmOrderLambdaFunction"
              },
              "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
            }
          },
          "AssignCookLambdaVersionotdZlix7ZPMpnCvnPVL9nQOOOopfqfkcuZrrTlJiiRc": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "AssignCookLambdaFunction"
              },
              "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
            }
          },
          "CompleteCookingLambdaVersionhYj0gAxmKtwRKTOCPIayUure0MfTX42aI2EIyejlWc": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "CompleteCookingLambdaFunction"
              },
              "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
            }
          },
          "AssignDriverLambdaVersionBrqsPyY9rztOt28PJHOMFLWzdDUECrnzdkgIXmDH4": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "AssignDriverLambdaFunction"
              },
              "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
            }
          },
          "CompleteDeliveryLambdaVersionqBFkmHtUTpGYhySC6MHfGU3s7UPia3cm0GSTHdubc": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "CompleteDeliveryLambdaFunction"
              },
              "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
            }
          },
          "HandleOrderFailureLambdaVersionF5AelsDCEKAAVXARMiVgifIF0ZuwTgZx3QBsxszHY": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "HandleOrderFailureLambdaFunction"
              },
              "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
            }
          },
          "ApiGatewayRestApi": {
            "Type": "AWS::ApiGateway::RestApi",
            "Properties": {
              "Name": "dev-millas-backend",
              "EndpointConfiguration": {
                "Types": [
                  "EDGE"
                ]
              },
              "Policy": ""
            }
          },
          "ApiGatewayResourceAuth": {
            "Type": "AWS::ApiGateway::Resource",
            "Properties": {
              "ParentId": {
                "Fn::GetAtt": [
                  "ApiGatewayRestApi",
                  "RootResourceId"
                ]
              },
              "PathPart": "auth",
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayResourceAuthLogin": {
            "Type": "AWS::ApiGateway::Resource",
            "Properties": {
              "ParentId": {
                "Ref": "ApiGatewayResourceAuth"
              },
              "PathPart": "login",
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayResourceAuthRegister": {
            "Type": "AWS::ApiGateway::Resource",
            "Properties": {
              "ParentId": {
                "Ref": "ApiGatewayResourceAuth"
              },
              "PathPart": "register",
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayResourceAuthLogout": {
            "Type": "AWS::ApiGateway::Resource",
            "Properties": {
              "ParentId": {
                "Ref": "ApiGatewayResourceAuth"
              },
              "PathPart": "logout",
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayResourceDriver": {
            "Type": "AWS::ApiGateway::Resource",
            "Properties": {
              "ParentId": {
                "Fn::GetAtt": [
                  "ApiGatewayRestApi",
                  "RootResourceId"
                ]
              },
              "PathPart": "driver",
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayResourceDriverAvailable": {
            "Type": "AWS::ApiGateway::Resource",
            "Properties": {
              "ParentId": {
                "Ref": "ApiGatewayResourceDriver"
              },
              "PathPart": "available",
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayResourceDriverAssigned": {
            "Type": "AWS::ApiGateway::Resource",
            "Properties": {
              "ParentId": {
                "Ref": "ApiGatewayResourceDriver"
              },
              "PathPart": "assigned",
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayResourceDriverOrders": {
            "Type": "AWS::ApiGateway::Resource",
            "Properties": {
              "ParentId": {
                "Ref": "ApiGatewayResourceDriver"
              },
              "PathPart": "orders",
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayResourceDriverOrdersOrderidVar": {
            "Type": "AWS::ApiGateway::Resource",
            "Properties": {
              "ParentId": {
                "Ref": "ApiGatewayResourceDriverOrders"
              },
              "PathPart": "{order_id}",
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayResourceDriverStats": {
            "Type": "AWS::ApiGateway::Resource",
            "Properties": {
              "ParentId": {
                "Ref": "ApiGatewayResourceDriver"
              },
              "PathPart": "stats",
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayResourceDriverTimeline": {
            "Type": "AWS::ApiGateway::Resource",
            "Properties": {
              "ParentId": {
                "Ref": "ApiGatewayResourceDriver"
              },
              "PathPart": "timeline",
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayResourceDriverTimelineOrderidVar": {
            "Type": "AWS::ApiGateway::Resource",
            "Properties": {
              "ParentId": {
                "Ref": "ApiGatewayResourceDriverTimeline"
              },
              "PathPart": "{order_id}",
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayResourceOrders": {
            "Type": "AWS::ApiGateway::Resource",
            "Properties": {
              "ParentId": {
                "Fn::GetAtt": [
                  "ApiGatewayRestApi",
                  "RootResourceId"
                ]
              },
              "PathPart": "orders",
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayResourceOrdersOrderidVar": {
            "Type": "AWS::ApiGateway::Resource",
            "Properties": {
              "ParentId": {
                "Ref": "ApiGatewayResourceOrders"
              },
              "PathPart": "{order_id}",
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayResourceDashboard": {
            "Type": "AWS::ApiGateway::Resource",
            "Properties": {
              "ParentId": {
                "Fn::GetAtt": [
                  "ApiGatewayRestApi",
                  "RootResourceId"
                ]
              },
              "PathPart": "dashboard",
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayResourceDashboardTimeline": {
            "Type": "AWS::ApiGateway::Resource",
            "Properties": {
              "ParentId": {
                "Ref": "ApiGatewayResourceDashboard"
              },
              "PathPart": "timeline",
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayResourceDashboardTimelineOrderidVar": {
            "Type": "AWS::ApiGateway::Resource",
            "Properties": {
              "ParentId": {
                "Ref": "ApiGatewayResourceDashboardTimeline"
              },
              "PathPart": "{order_id}",
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayResourceDashboardStaffDashperformance": {
            "Type": "AWS::ApiGateway::Resource",
            "Properties": {
              "ParentId": {
                "Ref": "ApiGatewayResourceDashboard"
              },
              "PathPart": "staff-performance",
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayResourceMenu": {
            "Type": "AWS::ApiGateway::Resource",
            "Properties": {
              "ParentId": {
                "Fn::GetAtt": [
                  "ApiGatewayRestApi",
                  "RootResourceId"
                ]
              },
              "PathPart": "menu",
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayResourceMenuCategories": {
            "Type": "AWS::ApiGateway::Resource",
            "Properties": {
              "ParentId": {
                "Ref": "ApiGatewayResourceMenu"
              },
              "PathPart": "categories",
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayResourceMenuItems": {
            "Type": "AWS::ApiGateway::Resource",
            "Properties": {
              "ParentId": {
                "Ref": "ApiGatewayResourceMenu"
              },
              "PathPart": "items",
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayResourceMenuUploadDashimage": {
            "Type": "AWS::ApiGateway::Resource",
            "Properties": {
              "ParentId": {
                "Ref": "ApiGatewayResourceMenu"
              },
              "PathPart": "upload-image",
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayMethodAuthLoginOptions": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "AuthorizationType": "NONE",
              "HttpMethod": "OPTIONS",
              "MethodResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true,
                    "method.response.header.Access-Control-Allow-Headers": true,
                    "method.response.header.Access-Control-Allow-Methods": true
                  },
                  "ResponseModels": {}
                }
              ],
              "RequestParameters": {},
              "Integration": {
                "Type": "MOCK",
                "RequestTemplates": {
                  "application/json": "{statusCode:200}"
                },
                "ContentHandling": "CONVERT_TO_TEXT",
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'",
                      "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                      "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,POST'"
                    },
                    "ResponseTemplates": {
                      "application/json": ""
                    }
                  }
                ]
              },
              "ResourceId": {
                "Ref": "ApiGatewayResourceAuthLogin"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayMethodAuthRegisterOptions": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "AuthorizationType": "NONE",
              "HttpMethod": "OPTIONS",
              "MethodResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true,
                    "method.response.header.Access-Control-Allow-Headers": true,
                    "method.response.header.Access-Control-Allow-Methods": true
                  },
                  "ResponseModels": {}
                }
              ],
              "RequestParameters": {},
              "Integration": {
                "Type": "MOCK",
                "RequestTemplates": {
                  "application/json": "{statusCode:200}"
                },
                "ContentHandling": "CONVERT_TO_TEXT",
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'",
                      "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                      "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,POST'"
                    },
                    "ResponseTemplates": {
                      "application/json": ""
                    }
                  }
                ]
              },
              "ResourceId": {
                "Ref": "ApiGatewayResourceAuthRegister"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayMethodAuthLogoutOptions": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "AuthorizationType": "NONE",
              "HttpMethod": "OPTIONS",
              "MethodResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true,
                    "method.response.header.Access-Control-Allow-Headers": true,
                    "method.response.header.Access-Control-Allow-Methods": true
                  },
                  "ResponseModels": {}
                }
              ],
              "RequestParameters": {},
              "Integration": {
                "Type": "MOCK",
                "RequestTemplates": {
                  "application/json": "{statusCode:200}"
                },
                "ContentHandling": "CONVERT_TO_TEXT",
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'",
                      "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                      "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,POST'"
                    },
                    "ResponseTemplates": {
                      "application/json": ""
                    }
                  }
                ]
              },
              "ResourceId": {
                "Ref": "ApiGatewayResourceAuthLogout"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayMethodDriverAvailableOptions": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "AuthorizationType": "NONE",
              "HttpMethod": "OPTIONS",
              "MethodResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true,
                    "method.response.header.Access-Control-Allow-Headers": true,
                    "method.response.header.Access-Control-Allow-Methods": true
                  },
                  "ResponseModels": {}
                }
              ],
              "RequestParameters": {},
              "Integration": {
                "Type": "MOCK",
                "RequestTemplates": {
                  "application/json": "{statusCode:200}"
                },
                "ContentHandling": "CONVERT_TO_TEXT",
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'",
                      "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                      "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                    },
                    "ResponseTemplates": {
                      "application/json": ""
                    }
                  }
                ]
              },
              "ResourceId": {
                "Ref": "ApiGatewayResourceDriverAvailable"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayMethodDriverAssignedOptions": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "AuthorizationType": "NONE",
              "HttpMethod": "OPTIONS",
              "MethodResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true,
                    "method.response.header.Access-Control-Allow-Headers": true,
                    "method.response.header.Access-Control-Allow-Methods": true
                  },
                  "ResponseModels": {}
                }
              ],
              "RequestParameters": {},
              "Integration": {
                "Type": "MOCK",
                "RequestTemplates": {
                  "application/json": "{statusCode:200}"
                },
                "ContentHandling": "CONVERT_TO_TEXT",
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'",
                      "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                      "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                    },
                    "ResponseTemplates": {
                      "application/json": ""
                    }
                  }
                ]
              },
              "ResourceId": {
                "Ref": "ApiGatewayResourceDriverAssigned"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayMethodDriverOrdersOrderidVarOptions": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "AuthorizationType": "NONE",
              "HttpMethod": "OPTIONS",
              "MethodResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true,
                    "method.response.header.Access-Control-Allow-Headers": true,
                    "method.response.header.Access-Control-Allow-Methods": true
                  },
                  "ResponseModels": {}
                }
              ],
              "RequestParameters": {},
              "Integration": {
                "Type": "MOCK",
                "RequestTemplates": {
                  "application/json": "{statusCode:200}"
                },
                "ContentHandling": "CONVERT_TO_TEXT",
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'",
                      "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                      "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                    },
                    "ResponseTemplates": {
                      "application/json": ""
                    }
                  }
                ]
              },
              "ResourceId": {
                "Ref": "ApiGatewayResourceDriverOrdersOrderidVar"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayMethodDriverStatsOptions": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "AuthorizationType": "NONE",
              "HttpMethod": "OPTIONS",
              "MethodResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true,
                    "method.response.header.Access-Control-Allow-Headers": true,
                    "method.response.header.Access-Control-Allow-Methods": true
                  },
                  "ResponseModels": {}
                }
              ],
              "RequestParameters": {},
              "Integration": {
                "Type": "MOCK",
                "RequestTemplates": {
                  "application/json": "{statusCode:200}"
                },
                "ContentHandling": "CONVERT_TO_TEXT",
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'",
                      "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                      "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                    },
                    "ResponseTemplates": {
                      "application/json": ""
                    }
                  }
                ]
              },
              "ResourceId": {
                "Ref": "ApiGatewayResourceDriverStats"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayMethodDriverTimelineOrderidVarOptions": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "AuthorizationType": "NONE",
              "HttpMethod": "OPTIONS",
              "MethodResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true,
                    "method.response.header.Access-Control-Allow-Headers": true,
                    "method.response.header.Access-Control-Allow-Methods": true
                  },
                  "ResponseModels": {}
                }
              ],
              "RequestParameters": {},
              "Integration": {
                "Type": "MOCK",
                "RequestTemplates": {
                  "application/json": "{statusCode:200}"
                },
                "ContentHandling": "CONVERT_TO_TEXT",
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'",
                      "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                      "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                    },
                    "ResponseTemplates": {
                      "application/json": ""
                    }
                  }
                ]
              },
              "ResourceId": {
                "Ref": "ApiGatewayResourceDriverTimelineOrderidVar"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayMethodOrdersOptions": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "AuthorizationType": "NONE",
              "HttpMethod": "OPTIONS",
              "MethodResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true,
                    "method.response.header.Access-Control-Allow-Headers": true,
                    "method.response.header.Access-Control-Allow-Methods": true
                  },
                  "ResponseModels": {}
                }
              ],
              "RequestParameters": {},
              "Integration": {
                "Type": "MOCK",
                "RequestTemplates": {
                  "application/json": "{statusCode:200}"
                },
                "ContentHandling": "CONVERT_TO_TEXT",
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'",
                      "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                      "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,POST'"
                    },
                    "ResponseTemplates": {
                      "application/json": ""
                    }
                  }
                ]
              },
              "ResourceId": {
                "Ref": "ApiGatewayResourceOrders"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayMethodOrdersOrderidVarOptions": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "AuthorizationType": "NONE",
              "HttpMethod": "OPTIONS",
              "MethodResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true,
                    "method.response.header.Access-Control-Allow-Headers": true,
                    "method.response.header.Access-Control-Allow-Methods": true
                  },
                  "ResponseModels": {}
                }
              ],
              "RequestParameters": {},
              "Integration": {
                "Type": "MOCK",
                "RequestTemplates": {
                  "application/json": "{statusCode:200}"
                },
                "ContentHandling": "CONVERT_TO_TEXT",
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'",
                      "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                      "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                    },
                    "ResponseTemplates": {
                      "application/json": ""
                    }
                  }
                ]
              },
              "ResourceId": {
                "Ref": "ApiGatewayResourceOrdersOrderidVar"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayMethodDashboardOptions": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "AuthorizationType": "NONE",
              "HttpMethod": "OPTIONS",
              "MethodResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true,
                    "method.response.header.Access-Control-Allow-Headers": true,
                    "method.response.header.Access-Control-Allow-Methods": true
                  },
                  "ResponseModels": {}
                }
              ],
              "RequestParameters": {},
              "Integration": {
                "Type": "MOCK",
                "RequestTemplates": {
                  "application/json": "{statusCode:200}"
                },
                "ContentHandling": "CONVERT_TO_TEXT",
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'",
                      "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                      "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                    },
                    "ResponseTemplates": {
                      "application/json": ""
                    }
                  }
                ]
              },
              "ResourceId": {
                "Ref": "ApiGatewayResourceDashboard"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayMethodDashboardTimelineOrderidVarOptions": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "AuthorizationType": "NONE",
              "HttpMethod": "OPTIONS",
              "MethodResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true,
                    "method.response.header.Access-Control-Allow-Headers": true,
                    "method.response.header.Access-Control-Allow-Methods": true
                  },
                  "ResponseModels": {}
                }
              ],
              "RequestParameters": {},
              "Integration": {
                "Type": "MOCK",
                "RequestTemplates": {
                  "application/json": "{statusCode:200}"
                },
                "ContentHandling": "CONVERT_TO_TEXT",
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'",
                      "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                      "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                    },
                    "ResponseTemplates": {
                      "application/json": ""
                    }
                  }
                ]
              },
              "ResourceId": {
                "Ref": "ApiGatewayResourceDashboardTimelineOrderidVar"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayMethodDashboardStaffDashperformanceOptions": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "AuthorizationType": "NONE",
              "HttpMethod": "OPTIONS",
              "MethodResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true,
                    "method.response.header.Access-Control-Allow-Headers": true,
                    "method.response.header.Access-Control-Allow-Methods": true
                  },
                  "ResponseModels": {}
                }
              ],
              "RequestParameters": {},
              "Integration": {
                "Type": "MOCK",
                "RequestTemplates": {
                  "application/json": "{statusCode:200}"
                },
                "ContentHandling": "CONVERT_TO_TEXT",
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'",
                      "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                      "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                    },
                    "ResponseTemplates": {
                      "application/json": ""
                    }
                  }
                ]
              },
              "ResourceId": {
                "Ref": "ApiGatewayResourceDashboardStaffDashperformance"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayMethodMenuCategoriesOptions": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "AuthorizationType": "NONE",
              "HttpMethod": "OPTIONS",
              "MethodResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true,
                    "method.response.header.Access-Control-Allow-Headers": true,
                    "method.response.header.Access-Control-Allow-Methods": true
                  },
                  "ResponseModels": {}
                }
              ],
              "RequestParameters": {},
              "Integration": {
                "Type": "MOCK",
                "RequestTemplates": {
                  "application/json": "{statusCode:200}"
                },
                "ContentHandling": "CONVERT_TO_TEXT",
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'",
                      "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                      "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                    },
                    "ResponseTemplates": {
                      "application/json": ""
                    }
                  }
                ]
              },
              "ResourceId": {
                "Ref": "ApiGatewayResourceMenuCategories"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayMethodMenuItemsOptions": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "AuthorizationType": "NONE",
              "HttpMethod": "OPTIONS",
              "MethodResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true,
                    "method.response.header.Access-Control-Allow-Headers": true,
                    "method.response.header.Access-Control-Allow-Methods": true
                  },
                  "ResponseModels": {}
                }
              ],
              "RequestParameters": {},
              "Integration": {
                "Type": "MOCK",
                "RequestTemplates": {
                  "application/json": "{statusCode:200}"
                },
                "ContentHandling": "CONVERT_TO_TEXT",
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'",
                      "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                      "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                    },
                    "ResponseTemplates": {
                      "application/json": ""
                    }
                  }
                ]
              },
              "ResourceId": {
                "Ref": "ApiGatewayResourceMenuItems"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayMethodMenuUploadDashimageOptions": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "AuthorizationType": "NONE",
              "HttpMethod": "OPTIONS",
              "MethodResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true,
                    "method.response.header.Access-Control-Allow-Headers": true,
                    "method.response.header.Access-Control-Allow-Methods": true
                  },
                  "ResponseModels": {}
                }
              ],
              "RequestParameters": {},
              "Integration": {
                "Type": "MOCK",
                "RequestTemplates": {
                  "application/json": "{statusCode:200}"
                },
                "ContentHandling": "CONVERT_TO_TEXT",
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'",
                      "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                      "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,POST'"
                    },
                    "ResponseTemplates": {
                      "application/json": ""
                    }
                  }
                ]
              },
              "ResourceId": {
                "Ref": "ApiGatewayResourceMenuUploadDashimage"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              }
            }
          },
          "ApiGatewayMethodAuthLoginPost": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "HttpMethod": "POST",
              "RequestParameters": {},
              "ResourceId": {
                "Ref": "ApiGatewayResourceAuthLogin"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              },
              "ApiKeyRequired": "<REDACTED>",
              "AuthorizationType": "NONE",
              "Integration": {
                "IntegrationHttpMethod": "POST",
                "Type": "AWS",
                "Uri": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":apigateway:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":lambda:path/2015-03-31/functions/",
                      {
                        "Fn::GetAtt": [
                          "LoginLambdaFunction",
                          "Arn"
                        ]
                      },
                      "/invocations"
                    ]
                  ]
                },
                "PassthroughBehavior": "NEVER",
                "RequestTemplates": {
                  "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                  "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                },
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "SelectionPattern": "",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "400",
                    "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "401",
                    "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "403",
                    "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "404",
                    "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "422",
                    "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "500",
                    "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "502",
                    "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "504",
                    "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  }
                ]
              },
              "MethodResponses": [
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "200"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "400"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "401"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "403"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "404"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "422"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "500"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "502"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "504"
                }
              ]
            },
            "DependsOn": [
              "LoginLambdaPermissionApiGateway"
            ]
          },
          "ApiGatewayMethodAuthRegisterPost": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "HttpMethod": "POST",
              "RequestParameters": {},
              "ResourceId": {
                "Ref": "ApiGatewayResourceAuthRegister"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              },
              "ApiKeyRequired": "<REDACTED>",
              "AuthorizationType": "NONE",
              "Integration": {
                "IntegrationHttpMethod": "POST",
                "Type": "AWS",
                "Uri": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":apigateway:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":lambda:path/2015-03-31/functions/",
                      {
                        "Fn::GetAtt": [
                          "RegisterLambdaFunction",
                          "Arn"
                        ]
                      },
                      "/invocations"
                    ]
                  ]
                },
                "PassthroughBehavior": "NEVER",
                "RequestTemplates": {
                  "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                  "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                },
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "SelectionPattern": "",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "400",
                    "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "401",
                    "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "403",
                    "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "404",
                    "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "422",
                    "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "500",
                    "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "502",
                    "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "504",
                    "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  }
                ]
              },
              "MethodResponses": [
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "200"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "400"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "401"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "403"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "404"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "422"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "500"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "502"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "504"
                }
              ]
            },
            "DependsOn": [
              "RegisterLambdaPermissionApiGateway"
            ]
          },
          "ApiGatewayMethodAuthLogoutPost": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "HttpMethod": "POST",
              "RequestParameters": {},
              "ResourceId": {
                "Ref": "ApiGatewayResourceAuthLogout"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              },
              "ApiKeyRequired": "<REDACTED>",
              "AuthorizationType": "CUSTOM",
              "AuthorizerId": {
                "Ref": "AuthorizeApiGatewayAuthorizer"
              },
              "Integration": {
                "IntegrationHttpMethod": "POST",
                "Type": "AWS",
                "Uri": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":apigateway:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":lambda:path/2015-03-31/functions/",
                      {
                        "Fn::GetAtt": [
                          "LogoutLambdaFunction",
                          "Arn"
                        ]
                      },
                      "/invocations"
                    ]
                  ]
                },
                "PassthroughBehavior": "NEVER",
                "RequestTemplates": {
                  "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                  "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                },
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "SelectionPattern": "",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "400",
                    "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "401",
                    "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "403",
                    "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "404",
                    "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "422",
                    "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "500",
                    "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "502",
                    "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "504",
                    "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  }
                ]
              },
              "MethodResponses": [
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "200"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "400"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "401"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "403"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "404"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "422"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "500"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "502"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "504"
                }
              ]
            },
            "DependsOn": [
              "AuthorizeApiGatewayAuthorizer"
            ]
          },
          "ApiGatewayMethodDriverAvailableGet": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "HttpMethod": "GET",
              "RequestParameters": {},
              "ResourceId": {
                "Ref": "ApiGatewayResourceDriverAvailable"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              },
              "ApiKeyRequired": "<REDACTED>",
              "AuthorizationType": "CUSTOM",
              "AuthorizerId": {
                "Ref": "AuthorizeApiGatewayAuthorizer"
              },
              "Integration": {
                "IntegrationHttpMethod": "POST",
                "Type": "AWS",
                "Uri": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":apigateway:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":lambda:path/2015-03-31/functions/",
                      {
                        "Fn::GetAtt": [
                          "GetAvailableOrdersLambdaFunction",
                          "Arn"
                        ]
                      },
                      "/invocations"
                    ]
                  ]
                },
                "PassthroughBehavior": "NEVER",
                "RequestTemplates": {
                  "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                  "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                },
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "SelectionPattern": "",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "400",
                    "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "401",
                    "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "403",
                    "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "404",
                    "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "422",
                    "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "500",
                    "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "502",
                    "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "504",
                    "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  }
                ]
              },
              "MethodResponses": [
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "200"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "400"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "401"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "403"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "404"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "422"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "500"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "502"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "504"
                }
              ]
            },
            "DependsOn": [
              "AuthorizeApiGatewayAuthorizer"
            ]
          },
          "ApiGatewayMethodDriverAssignedGet": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "HttpMethod": "GET",
              "RequestParameters": {},
              "ResourceId": {
                "Ref": "ApiGatewayResourceDriverAssigned"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              },
              "ApiKeyRequired": "<REDACTED>",
              "AuthorizationType": "CUSTOM",
              "AuthorizerId": {
                "Ref": "AuthorizeApiGatewayAuthorizer"
              },
              "Integration": {
                "IntegrationHttpMethod": "POST",
                "Type": "AWS",
                "Uri": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":apigateway:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":lambda:path/2015-03-31/functions/",
                      {
                        "Fn::GetAtt": [
                          "GetAssignedOrdersLambdaFunction",
                          "Arn"
                        ]
                      },
                      "/invocations"
                    ]
                  ]
                },
                "PassthroughBehavior": "NEVER",
                "RequestTemplates": {
                  "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                  "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                },
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "SelectionPattern": "",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "400",
                    "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "401",
                    "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "403",
                    "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "404",
                    "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "422",
                    "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "500",
                    "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "502",
                    "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "504",
                    "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  }
                ]
              },
              "MethodResponses": [
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "200"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "400"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "401"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "403"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "404"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "422"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "500"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "502"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "504"
                }
              ]
            },
            "DependsOn": [
              "AuthorizeApiGatewayAuthorizer"
            ]
          },
          "ApiGatewayMethodDriverOrdersOrderidVarGet": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "HttpMethod": "GET",
              "RequestParameters": {},
              "ResourceId": {
                "Ref": "ApiGatewayResourceDriverOrdersOrderidVar"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              },
              "ApiKeyRequired": "<REDACTED>",
              "AuthorizationType": "CUSTOM",
              "AuthorizerId": {
                "Ref": "AuthorizeApiGatewayAuthorizer"
              },
              "Integration": {
                "IntegrationHttpMethod": "POST",
                "Type": "AWS",
                "Uri": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":apigateway:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":lambda:path/2015-03-31/functions/",
                      {
                        "Fn::GetAtt": [
                          "GetOrderDetailLambdaFunction",
                          "Arn"
                        ]
                      },
                      "/invocations"
                    ]
                  ]
                },
                "PassthroughBehavior": "NEVER",
                "RequestTemplates": {
                  "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                  "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                },
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "SelectionPattern": "",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "400",
                    "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "401",
                    "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "403",
                    "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "404",
                    "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "422",
                    "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "500",
                    "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "502",
                    "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "504",
                    "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  }
                ]
              },
              "MethodResponses": [
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "200"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "400"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "401"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "403"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "404"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "422"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "500"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "502"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "504"
                }
              ]
            },
            "DependsOn": [
              "AuthorizeApiGatewayAuthorizer"
            ]
          },
          "ApiGatewayMethodDriverStatsGet": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "HttpMethod": "GET",
              "RequestParameters": {},
              "ResourceId": {
                "Ref": "ApiGatewayResourceDriverStats"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              },
              "ApiKeyRequired": "<REDACTED>",
              "AuthorizationType": "CUSTOM",
              "AuthorizerId": {
                "Ref": "AuthorizeApiGatewayAuthorizer"
              },
              "Integration": {
                "IntegrationHttpMethod": "POST",
                "Type": "AWS",
                "Uri": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":apigateway:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":lambda:path/2015-03-31/functions/",
                      {
                        "Fn::GetAtt": [
                          "GetDriverStatsLambdaFunction",
                          "Arn"
                        ]
                      },
                      "/invocations"
                    ]
                  ]
                },
                "PassthroughBehavior": "NEVER",
                "RequestTemplates": {
                  "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                  "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                },
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "SelectionPattern": "",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "400",
                    "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "401",
                    "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "403",
                    "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "404",
                    "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "422",
                    "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "500",
                    "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "502",
                    "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "504",
                    "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  }
                ]
              },
              "MethodResponses": [
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "200"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "400"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "401"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "403"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "404"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "422"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "500"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "502"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "504"
                }
              ]
            },
            "DependsOn": [
              "AuthorizeApiGatewayAuthorizer"
            ]
          },
          "ApiGatewayMethodDriverTimelineOrderidVarGet": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "HttpMethod": "GET",
              "RequestParameters": {},
              "ResourceId": {
                "Ref": "ApiGatewayResourceDriverTimelineOrderidVar"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              },
              "ApiKeyRequired": "<REDACTED>",
              "AuthorizationType": "CUSTOM",
              "AuthorizerId": {
                "Ref": "AuthorizeApiGatewayAuthorizer"
              },
              "Integration": {
                "IntegrationHttpMethod": "POST",
                "Type": "AWS",
                "Uri": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":apigateway:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":lambda:path/2015-03-31/functions/",
                      {
                        "Fn::GetAtt": [
                          "GetDeliveryTimelineLambdaFunction",
                          "Arn"
                        ]
                      },
                      "/invocations"
                    ]
                  ]
                },
                "PassthroughBehavior": "NEVER",
                "RequestTemplates": {
                  "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                  "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                },
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "SelectionPattern": "",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "400",
                    "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "401",
                    "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "403",
                    "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "404",
                    "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "422",
                    "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "500",
                    "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "502",
                    "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "504",
                    "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  }
                ]
              },
              "MethodResponses": [
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "200"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "400"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "401"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "403"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "404"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "422"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "500"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "502"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "504"
                }
              ]
            },
            "DependsOn": [
              "AuthorizeApiGatewayAuthorizer"
            ]
          },
          "ApiGatewayMethodOrdersPost": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "HttpMethod": "POST",
              "RequestParameters": {},
              "ResourceId": {
                "Ref": "ApiGatewayResourceOrders"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              },
              "ApiKeyRequired": "<REDACTED>",
              "AuthorizationType": "CUSTOM",
              "AuthorizerId": {
                "Ref": "AuthorizeApiGatewayAuthorizer"
              },
              "Integration": {
                "IntegrationHttpMethod": "POST",
                "Type": "AWS",
                "Uri": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":apigateway:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":lambda:path/2015-03-31/functions/",
                      {
                        "Fn::GetAtt": [
                          "CreateOrderLambdaFunction",
                          "Arn"
                        ]
                      },
                      "/invocations"
                    ]
                  ]
                },
                "PassthroughBehavior": "NEVER",
                "RequestTemplates": {
                  "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                  "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                },
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "SelectionPattern": "",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "400",
                    "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "401",
                    "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "403",
                    "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "404",
                    "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "422",
                    "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "500",
                    "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "502",
                    "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "504",
                    "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  }
                ]
              },
              "MethodResponses": [
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "200"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "400"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "401"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "403"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "404"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "422"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "500"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "502"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "504"
                }
              ]
            },
            "DependsOn": [
              "AuthorizeApiGatewayAuthorizer"
            ]
          },
          "ApiGatewayMethodOrdersGet": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "HttpMethod": "GET",
              "RequestParameters": {},
              "ResourceId": {
                "Ref": "ApiGatewayResourceOrders"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              },
              "ApiKeyRequired": "<REDACTED>",
              "AuthorizationType": "CUSTOM",
              "AuthorizerId": {
                "Ref": "AuthorizeApiGatewayAuthorizer"
              },
              "Integration": {
                "IntegrationHttpMethod": "POST",
                "Type": "AWS",
                "Uri": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":apigateway:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":lambda:path/2015-03-31/functions/",
                      {
                        "Fn::GetAtt": [
                          "GetOrdersLambdaFunction",
                          "Arn"
                        ]
                      },
                      "/invocations"
                    ]
                  ]
                },
                "PassthroughBehavior": "NEVER",
                "RequestTemplates": {
                  "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                  "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                },
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "SelectionPattern": "",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "400",
                    "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "401",
                    "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "403",
                    "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "404",
                    "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "422",
                    "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "500",
                    "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "502",
                    "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "504",
                    "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  }
                ]
              },
              "MethodResponses": [
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "200"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "400"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "401"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "403"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "404"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "422"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "500"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "502"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "504"
                }
              ]
            },
            "DependsOn": [
              "AuthorizeApiGatewayAuthorizer"
            ]
          },
          "ApiGatewayMethodOrdersOrderidVarGet": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "HttpMethod": "GET",
              "RequestParameters": {},
              "ResourceId": {
                "Ref": "ApiGatewayResourceOrdersOrderidVar"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              },
              "ApiKeyRequired": "<REDACTED>",
              "AuthorizationType": "CUSTOM",
              "AuthorizerId": {
                "Ref": "AuthorizeApiGatewayAuthorizer"
              },
              "Integration": {
                "IntegrationHttpMethod": "POST",
                "Type": "AWS",
                "Uri": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":apigateway:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":lambda:path/2015-03-31/functions/",
                      {
                        "Fn::GetAtt": [
                          "GetOrderLambdaFunction",
                          "Arn"
                        ]
                      },
                      "/invocations"
                    ]
                  ]
                },
                "PassthroughBehavior": "NEVER",
                "RequestTemplates": {
                  "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                  "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                },
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "SelectionPattern": "",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "400",
                    "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "401",
                    "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "403",
                    "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "404",
                    "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "422",
                    "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "500",
                    "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "502",
                    "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "504",
                    "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  }
                ]
              },
              "MethodResponses": [
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "200"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "400"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "401"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "403"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "404"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "422"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "500"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "502"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "504"
                }
              ]
            },
            "DependsOn": [
              "AuthorizeApiGatewayAuthorizer"
            ]
          },
          "ApiGatewayMethodDashboardGet": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "HttpMethod": "GET",
              "RequestParameters": {},
              "ResourceId": {
                "Ref": "ApiGatewayResourceDashboard"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              },
              "ApiKeyRequired": "<REDACTED>",
              "AuthorizationType": "CUSTOM",
              "AuthorizerId": {
                "Ref": "AuthorizeApiGatewayAuthorizer"
              },
              "Integration": {
                "IntegrationHttpMethod": "POST",
                "Type": "AWS",
                "Uri": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":apigateway:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":lambda:path/2015-03-31/functions/",
                      {
                        "Fn::GetAtt": [
                          "GetDashboardLambdaFunction",
                          "Arn"
                        ]
                      },
                      "/invocations"
                    ]
                  ]
                },
                "PassthroughBehavior": "NEVER",
                "RequestTemplates": {
                  "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                  "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                },
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "SelectionPattern": "",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "400",
                    "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "401",
                    "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "403",
                    "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "404",
                    "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "422",
                    "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "500",
                    "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "502",
                    "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "504",
                    "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  }
                ]
              },
              "MethodResponses": [
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "200"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "400"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "401"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "403"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "404"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "422"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "500"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "502"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "504"
                }
              ]
            },
            "DependsOn": [
              "AuthorizeApiGatewayAuthorizer"
            ]
          },
          "ApiGatewayMethodDashboardTimelineOrderidVarGet": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "HttpMethod": "GET",
              "RequestParameters": {},
              "ResourceId": {
                "Ref": "ApiGatewayResourceDashboardTimelineOrderidVar"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              },
              "ApiKeyRequired": "<REDACTED>",
              "AuthorizationType": "CUSTOM",
              "AuthorizerId": {
                "Ref": "AuthorizeApiGatewayAuthorizer"
              },
              "Integration": {
                "IntegrationHttpMethod": "POST",
                "Type": "AWS",
                "Uri": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":apigateway:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":lambda:path/2015-03-31/functions/",
                      {
                        "Fn::GetAtt": [
                          "GetOrderTimelineLambdaFunction",
                          "Arn"
                        ]
                      },
                      "/invocations"
                    ]
                  ]
                },
                "PassthroughBehavior": "NEVER",
                "RequestTemplates": {
                  "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                  "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                },
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "SelectionPattern": "",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "400",
                    "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "401",
                    "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "403",
                    "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "404",
                    "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "422",
                    "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "500",
                    "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "502",
                    "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "504",
                    "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  }
                ]
              },
              "MethodResponses": [
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "200"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "400"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "401"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "403"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "404"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "422"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "500"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "502"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "504"
                }
              ]
            },
            "DependsOn": [
              "AuthorizeApiGatewayAuthorizer"
            ]
          },
          "ApiGatewayMethodDashboardStaffDashperformanceGet": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "HttpMethod": "GET",
              "RequestParameters": {},
              "ResourceId": {
                "Ref": "ApiGatewayResourceDashboardStaffDashperformance"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              },
              "ApiKeyRequired": "<REDACTED>",
              "AuthorizationType": "CUSTOM",
              "AuthorizerId": {
                "Ref": "AuthorizeApiGatewayAuthorizer"
              },
              "Integration": {
                "IntegrationHttpMethod": "POST",
                "Type": "AWS",
                "Uri": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":apigateway:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":lambda:path/2015-03-31/functions/",
                      {
                        "Fn::GetAtt": [
                          "GetStaffPerformanceLambdaFunction",
                          "Arn"
                        ]
                      },
                      "/invocations"
                    ]
                  ]
                },
                "PassthroughBehavior": "NEVER",
                "RequestTemplates": {
                  "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                  "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                },
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "SelectionPattern": "",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "400",
                    "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "401",
                    "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "403",
                    "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "404",
                    "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "422",
                    "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "500",
                    "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "502",
                    "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "504",
                    "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  }
                ]
              },
              "MethodResponses": [
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "200"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "400"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "401"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "403"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "404"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "422"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "500"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "502"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "504"
                }
              ]
            },
            "DependsOn": [
              "AuthorizeApiGatewayAuthorizer"
            ]
          },
          "ApiGatewayMethodMenuCategoriesGet": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "HttpMethod": "GET",
              "RequestParameters": {},
              "ResourceId": {
                "Ref": "ApiGatewayResourceMenuCategories"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              },
              "ApiKeyRequired": "<REDACTED>",
              "AuthorizationType": "NONE",
              "Integration": {
                "IntegrationHttpMethod": "POST",
                "Type": "AWS",
                "Uri": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":apigateway:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":lambda:path/2015-03-31/functions/",
                      {
                        "Fn::GetAtt": [
                          "GetCategoriesLambdaFunction",
                          "Arn"
                        ]
                      },
                      "/invocations"
                    ]
                  ]
                },
                "PassthroughBehavior": "NEVER",
                "RequestTemplates": {
                  "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                  "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                },
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "SelectionPattern": "",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "400",
                    "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "401",
                    "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "403",
                    "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "404",
                    "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "422",
                    "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "500",
                    "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "502",
                    "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "504",
                    "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  }
                ]
              },
              "MethodResponses": [
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "200"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "400"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "401"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "403"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "404"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "422"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "500"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "502"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "504"
                }
              ]
            },
            "DependsOn": [
              "GetCategoriesLambdaPermissionApiGateway"
            ]
          },
          "ApiGatewayMethodMenuItemsGet": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "HttpMethod": "GET",
              "RequestParameters": {},
              "ResourceId": {
                "Ref": "ApiGatewayResourceMenuItems"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              },
              "ApiKeyRequired": "<REDACTED>",
              "AuthorizationType": "NONE",
              "Integration": {
                "IntegrationHttpMethod": "POST",
                "Type": "AWS",
                "Uri": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":apigateway:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":lambda:path/2015-03-31/functions/",
                      {
                        "Fn::GetAtt": [
                          "GetItemsLambdaFunction",
                          "Arn"
                        ]
                      },
                      "/invocations"
                    ]
                  ]
                },
                "PassthroughBehavior": "NEVER",
                "RequestTemplates": {
                  "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                  "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                },
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "SelectionPattern": "",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "400",
                    "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "401",
                    "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "403",
                    "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "404",
                    "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "422",
                    "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "500",
                    "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "502",
                    "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "504",
                    "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  }
                ]
              },
              "MethodResponses": [
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "200"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "400"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "401"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "403"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "404"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "422"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "500"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "502"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "504"
                }
              ]
            },
            "DependsOn": [
              "GetItemsLambdaPermissionApiGateway"
            ]
          },
          "ApiGatewayMethodMenuUploadDashimagePost": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
              "HttpMethod": "POST",
              "RequestParameters": {},
              "ResourceId": {
                "Ref": "ApiGatewayResourceMenuUploadDashimage"
              },
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              },
              "ApiKeyRequired": "<REDACTED>",
              "AuthorizationType": "CUSTOM",
              "AuthorizerId": {
                "Ref": "AuthorizeApiGatewayAuthorizer"
              },
              "Integration": {
                "IntegrationHttpMethod": "POST",
                "Type": "AWS",
                "Uri": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":apigateway:",
                      {
                        "Ref": "AWS::Region"
                      },
                      ":lambda:path/2015-03-31/functions/",
                      {
                        "Fn::GetAtt": [
                          "UploadMenuImageLambdaFunction",
                          "Arn"
                        ]
                      },
                      "/invocations"
                    ]
                  ]
                },
                "PassthroughBehavior": "NEVER",
                "RequestTemplates": {
                  "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                  "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
                },
                "IntegrationResponses": [
                  {
                    "StatusCode": "200",
                    "SelectionPattern": "",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "400",
                    "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "401",
                    "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "403",
                    "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "404",
                    "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "422",
                    "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "500",
                    "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "502",
                    "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  },
                  {
                    "StatusCode": "504",
                    "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                    "ResponseParameters": {
                      "method.response.header.Access-Control-Allow-Origin": "'*'"
                    },
                    "ResponseTemplates": {}
                  }
                ]
              },
              "MethodResponses": [
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "200"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "400"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "401"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "403"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "404"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "422"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "500"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "502"
                },
                {
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": true
                  },
                  "ResponseModels": {},
                  "StatusCode": "504"
                }
              ]
            },
            "DependsOn": [
              "AuthorizeApiGatewayAuthorizer"
            ]
          },
          "AuthorizeApiGatewayAuthorizer": {
            "Type": "AWS::ApiGateway::Authorizer",
            "Properties": {
              "AuthorizerResultTtlInSeconds": 300,
              "IdentitySource": "method.request.header.Authorization",
              "Name": "authorize",
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              },
              "AuthorizerUri": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":apigateway:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":lambda:path/2015-03-31/functions/",
                    {
                      "Fn::GetAtt": [
                        "AuthorizeLambdaFunction",
                        "Arn"
                      ]
                    },
                    "/invocations"
                  ]
                ]
              },
              "Type": "TOKEN"
            }
          },
          "ApiGatewayDeployment1764544497269": {
            "Type": "AWS::ApiGateway::Deployment",
            "Properties": {
              "RestApiId": {
                "Ref": "ApiGatewayRestApi"
              },
              "StageName": "dev"
            },
            "DependsOn": [
              "ApiGatewayMethodAuthLoginOptions",
              "ApiGatewayMethodAuthRegisterOptions",
              "ApiGatewayMethodAuthLogoutOptions",
              "ApiGatewayMethodDriverAvailableOptions",
              "ApiGatewayMethodDriverAssignedOptions",
              "ApiGatewayMethodDriverOrdersOrderidVarOptions",
              "ApiGatewayMethodDriverStatsOptions",
              "ApiGatewayMethodDriverTimelineOrderidVarOptions",
              "ApiGatewayMethodOrdersOptions",
              "ApiGatewayMethodOrdersOrderidVarOptions",
              "ApiGatewayMethodDashboardOptions",
              "ApiGatewayMethodDashboardTimelineOrderidVarOptions",
              "ApiGatewayMethodDashboardStaffDashperformanceOptions",
              "ApiGatewayMethodMenuCategoriesOptions",
              "ApiGatewayMethodMenuItemsOptions",
              "ApiGatewayMethodMenuUploadDashimageOptions",
              "ApiGatewayMethodAuthLoginPost",
              "ApiGatewayMethodAuthRegisterPost",
              "ApiGatewayMethodAuthLogoutPost",
              "ApiGatewayMethodDriverAvailableGet",
              "ApiGatewayMethodDriverAssignedGet",
              "ApiGatewayMethodDriverOrdersOrderidVarGet",
              "ApiGatewayMethodDriverStatsGet",
              "ApiGatewayMethodDriverTimelineOrderidVarGet",
              "ApiGatewayMethodOrdersPost",
              "ApiGatewayMethodOrdersGet",
              "ApiGatewayMethodOrdersOrderidVarGet",
              "ApiGatewayMethodDashboardGet",
              "ApiGatewayMethodDashboardTimelineOrderidVarGet",
              "ApiGatewayMethodDashboardStaffDashperformanceGet",
              "ApiGatewayMethodMenuCategoriesGet",
              "ApiGatewayMethodMenuItemsGet",
              "ApiGatewayMethodMenuUploadDashimagePost"
            ]
          },
          "LoginLambdaPermissionApiGateway": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "LoginLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "ApiGatewayRestApi"
                    },
                    "/*/*"
                  ]
                ]
              }
            }
          },
          "RegisterLambdaPermissionApiGateway": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "RegisterLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "ApiGatewayRestApi"
                    },
                    "/*/*"
                  ]
                ]
              }
            }
          },
          "LogoutLambdaPermissionApiGateway": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "LogoutLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "ApiGatewayRestApi"
                    },
                    "/*/*"
                  ]
                ]
              }
            }
          },
          "AuthorizeLambdaPermissionApiGateway": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "AuthorizeLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "ApiGatewayRestApi"
                    },
                    "/*/*"
                  ]
                ]
              }
            }
          },
          "GetAvailableOrdersLambdaPermissionApiGateway": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetAvailableOrdersLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "ApiGatewayRestApi"
                    },
                    "/*/*"
                  ]
                ]
              }
            }
          },
          "GetAssignedOrdersLambdaPermissionApiGateway": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetAssignedOrdersLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "ApiGatewayRestApi"
                    },
                    "/*/*"
                  ]
                ]
              }
            }
          },
          "GetOrderDetailLambdaPermissionApiGateway": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetOrderDetailLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "ApiGatewayRestApi"
                    },
                    "/*/*"
                  ]
                ]
              }
            }
          },
          "GetDriverStatsLambdaPermissionApiGateway": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetDriverStatsLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "ApiGatewayRestApi"
                    },
                    "/*/*"
                  ]
                ]
              }
            }
          },
          "GetDeliveryTimelineLambdaPermissionApiGateway": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetDeliveryTimelineLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "ApiGatewayRestApi"
                    },
                    "/*/*"
                  ]
                ]
              }
            }
          },
          "CreateOrderLambdaPermissionApiGateway": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "CreateOrderLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "ApiGatewayRestApi"
                    },
                    "/*/*"
                  ]
                ]
              }
            }
          },
          "GetOrdersLambdaPermissionApiGateway": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetOrdersLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "ApiGatewayRestApi"
                    },
                    "/*/*"
                  ]
                ]
              }
            }
          },
          "GetOrderLambdaPermissionApiGateway": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetOrderLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "ApiGatewayRestApi"
                    },
                    "/*/*"
                  ]
                ]
              }
            }
          },
          "GetDashboardLambdaPermissionApiGateway": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetDashboardLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "ApiGatewayRestApi"
                    },
                    "/*/*"
                  ]
                ]
              }
            }
          },
          "GetOrderTimelineLambdaPermissionApiGateway": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetOrderTimelineLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "ApiGatewayRestApi"
                    },
                    "/*/*"
                  ]
                ]
              }
            }
          },
          "GetStaffPerformanceLambdaPermissionApiGateway": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetStaffPerformanceLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "ApiGatewayRestApi"
                    },
                    "/*/*"
                  ]
                ]
              }
            }
          },
          "GetCategoriesLambdaPermissionApiGateway": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetCategoriesLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "ApiGatewayRestApi"
                    },
                    "/*/*"
                  ]
                ]
              }
            }
          },
          "GetItemsLambdaPermissionApiGateway": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetItemsLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "ApiGatewayRestApi"
                    },
                    "/*/*"
                  ]
                ]
              }
            }
          },
          "UploadMenuImageLambdaPermissionApiGateway": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "UploadMenuImageLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "ApiGatewayRestApi"
                    },
                    "/*/*"
                  ]
                ]
              }
            }
          },
          "OrdersTable": {
            "Type": "AWS::DynamoDB::Table",
            "Properties": {
              "TableName": "dev-Orders",
              "AttributeDefinitions": [
                {
                  "AttributeName": "order_id",
                  "AttributeType": "S"
                },
                {
                  "AttributeName": "tenant_id",
                  "AttributeType": "S"
                },
                {
                  "AttributeName": "created_at",
                  "AttributeType": "N"
                },
                {
                  "AttributeName": "customer_id",
                  "AttributeType": "S"
                },
                {
                  "AttributeName": "status",
                  "AttributeType": "S"
                }
              ],
              "KeySchema": [
                {
                  "AttributeName": "order_id",
                  "KeyType": "HASH"
                }
              ],
              "GlobalSecondaryIndexes": [
                {
                  "IndexName": "tenant-created-index",
                  "KeySchema": [
                    {
                      "AttributeName": "tenant_id",
                      "KeyType": "HASH"
                    },
                    {
                      "AttributeName": "created_at",
                      "KeyType": "RANGE"
                    }
                  ],
                  "Projection": {
                    "ProjectionType": "ALL"
                  }
                },
                {
                  "IndexName": "customer-orders-index",
                  "KeySchema": [
                    {
                      "AttributeName": "customer_id",
                      "KeyType": "HASH"
                    },
                    {
                      "AttributeName": "created_at",
                      "KeyType": "RANGE"
                    }
                  ],
                  "Projection": {
                    "ProjectionType": "ALL"
                  }
                },
                {
                  "IndexName": "tenant-status-index",
                  "KeySchema": [
                    {
                      "AttributeName": "tenant_id",
                      "KeyType": "HASH"
                    },
                    {
                      "AttributeName": "status",
                      "KeyType": "RANGE"
                    }
                  ],
                  "Projection": {
                    "ProjectionType": "ALL"
                  }
                }
              ],
              "BillingMode": "PAY_PER_REQUEST"
            }
          },
          "WorkflowTable": {
            "Type": "AWS::DynamoDB::Table",
            "Properties": {
              "TableName": "dev-Workflow",
              "AttributeDefinitions": [
                {
                  "AttributeName": "order_id",
                  "AttributeType": "S"
                }
              ],
              "KeySchema": [
                {
                  "AttributeName": "order_id",
                  "KeyType": "HASH"
                }
              ],
              "BillingMode": "PAY_PER_REQUEST"
            }
          },
          "MenuTable": {
            "Type": "AWS::DynamoDB::Table",
            "Properties": {
              "TableName": "dev-Menu",
              "AttributeDefinitions": [
                {
                  "AttributeName": "item_id",
                  "AttributeType": "S"
                },
                {
                  "AttributeName": "category",
                  "AttributeType": "S"
                }
              ],
              "KeySchema": [
                {
                  "AttributeName": "item_id",
                  "KeyType": "HASH"
                }
              ],
              "GlobalSecondaryIndexes": [
                {
                  "IndexName": "category-index",
                  "KeySchema": [
                    {
                      "AttributeName": "category",
                      "KeyType": "HASH"
                    }
                  ],
                  "Projection": {
                    "ProjectionType": "ALL"
                  }
                }
              ],
              "BillingMode": "PAY_PER_REQUEST"
            }
          },
          "UsersTable": {
            "Type": "AWS::DynamoDB::Table",
            "Properties": {
              "TableName": "dev-Users",
              "AttributeDefinitions": [
                {
                  "AttributeName": "email",
                  "AttributeType": "S"
                }
              ],
              "KeySchema": [
                {
                  "AttributeName": "email",
                  "KeyType": "HASH"
                }
              ],
              "BillingMode": "PAY_PER_REQUEST"
            }
          },
          "MenuImagesBucket": {
            "Type": "AWS::S3::Bucket",
            "Properties": {
              "BucketName": "millas-backend-dev-menu-images",
              "PublicAccessBlockConfiguration": {
                "BlockPublicAcls": false,
                "BlockPublicPolicy": false,
                "IgnorePublicAcls": false,
                "RestrictPublicBuckets": false
              },
              "CorsConfiguration": {
                "CorsRules": [
                  {
                    "AllowedHeaders": [
                      "*"
                    ],
                    "AllowedMethods": [
                      "GET",
                      "PUT",
                      "POST",
                      "HEAD"
                    ],
                    "AllowedOrigins": [
                      "*"
                    ],
                    "MaxAge": 3000
                  }
                ]
              }
            }
          },
          "MenuImagesBucketPolicy": {
            "Type": "AWS::S3::BucketPolicy",
            "Properties": {
              "Bucket": {
                "Ref": "MenuImagesBucket"
              },
              "PolicyDocument": {
                "Statement": [
                  {
                    "Sid": "PublicReadGetObject",
                    "Effect": "Allow",
                    "Principal": "*",
                    "Action": [
                      "s3:GetObject"
                    ],
                    "Resource": {
                      "Fn::Sub": [
                        "arn:aws:s3:::${BucketName}/*",
                        {
                          "BucketName": {
                            "Ref": "MenuImagesBucket"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          },
          "CustomEventBus": {
            "Type": "AWS::Events::EventBus",
            "Properties": {
              "Name": "millas-backend-dev-event-bus"
            }
          },
          "OrderEventsRule": {
            "Type": "AWS::Events::Rule",
            "Properties": {
              "EventBusName": {
                "Ref": "CustomEventBus"
              },
              "EventPattern": {
                "source": [
                  "orders.service",
                  "workflow.service"
                ],
                "detail-type": [
                  "OrderCreated",
                  "OrderUpdated",
                  "OrderConfirmed",
                  "OrderCooking",
                  "OrderPacking",
                  "OrderInDelivery",
                  "OrderDelivered",
                  "OrderFailed"
                ]
              },
              "State": "ENABLED",
              "Description": "Captura todos los eventos relacionados con pedidos y workflow"
            }
          },
          "OrderWorkflowStateMachine": {
            "Type": "AWS::StepFunctions::StateMachine",
            "Properties": {
              "StateMachineName": "millas-backend-dev-order-workflow",
              "RoleArn": "arn:aws:iam::722204368591:role/LabRole",
              "DefinitionString": {
                "Fn::Sub": "{\n  \"Comment\": \"Workflow automatizado para procesamiento de pedidos\",\n  \"StartAt\": \"ConfirmOrder\",\n  \"States\": {\n    \"ConfirmOrder\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"${ConfirmOrderLambdaFunction.Arn}\",\n      \"ResultPath\": \"$.confirmResult\",\n      \"TimeoutSeconds\": 30,\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\"States.TaskFailed\", \"States.Timeout\"],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 3,\n          \"BackoffRate\": 2.0\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\"States.ALL\"],\n          \"ResultPath\": \"$.error\",\n          \"Next\": \"OrderFailed\"\n        }\n      ],\n      \"Next\": \"AssignCook\"\n    },\n    \"AssignCook\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"${AssignCookLambdaFunction.Arn}\",\n      \"ResultPath\": \"$.cookResult\",\n      \"TimeoutSeconds\": 30,\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\"States.TaskFailed\", \"States.Timeout\"],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 3,\n          \"BackoffRate\": 2.0\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\"States.ALL\"],\n          \"ResultPath\": \"$.error\",\n          \"Next\": \"OrderFailed\"\n        }\n      ],\n      \"Next\": \"WaitForCooking\"\n    },\n    \"WaitForCooking\": {\n      \"Type\": \"Wait\",\n      \"Seconds\": 300,\n      \"Comment\": \"Espera simulada de coccin (5 min)\",\n      \"Next\": \"CompleteCooking\"\n    },\n    \"CompleteCooking\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"${CompleteCookingLambdaFunction.Arn}\",\n      \"ResultPath\": \"$.cookingResult\",\n      \"TimeoutSeconds\": 30,\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\"States.TaskFailed\", \"States.Timeout\"],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 3,\n          \"BackoffRate\": 2.0\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\"States.ALL\"],\n          \"ResultPath\": \"$.error\",\n          \"Next\": \"OrderFailed\"\n        }\n      ],\n      \"Next\": \"AssignDriver\"\n    },\n    \"AssignDriver\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"${AssignDriverLambdaFunction.Arn}\",\n      \"ResultPath\": \"$.driverResult\",\n      \"TimeoutSeconds\": 30,\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\"States.TaskFailed\", \"States.Timeout\"],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 3,\n          \"BackoffRate\": 2.0\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\"States.ALL\"],\n          \"ResultPath\": \"$.error\",\n          \"Next\": \"OrderFailed\"\n        }\n      ],\n      \"Next\": \"WaitForDelivery\"\n    },\n    \"WaitForDelivery\": {\n      \"Type\": \"Wait\",\n      \"Seconds\": 600,\n      \"Comment\": \"Espera simulada de entrega (10 min)\",\n      \"Next\": \"CompleteDelivery\"\n    },\n    \"CompleteDelivery\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"${CompleteDeliveryLambdaFunction.Arn}\",\n      \"ResultPath\": \"$.deliveryResult\",\n      \"TimeoutSeconds\": 30,\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\"States.TaskFailed\", \"States.Timeout\"],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 3,\n          \"BackoffRate\": 2.0\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\"States.ALL\"],\n          \"ResultPath\": \"$.error\",\n          \"Next\": \"OrderFailed\"\n        }\n      ],\n      \"End\": true\n    },\n    \"OrderFailed\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"${HandleOrderFailureLambdaFunction.Arn}\",\n      \"ResultPath\": \"$.failureResult\",\n      \"End\": true\n    }\n  }\n}\n"
              }
            }
          }
        },
        "Outputs": {
          "ServerlessDeploymentBucketName": {
            "Value": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
            "Export": {
              "Name": "sls-millas-backend-dev-ServerlessDeploymentBucketName"
            }
          },
          "LoginLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "LoginLambdaVersionaphQJ9PIkJS7ZrmJk8c1lolToKTbzDO5VrhwjTgFG8"
            },
            "Export": {
              "Name": "sls-millas-backend-dev-LoginLambdaFunctionQualifiedArn"
            }
          },
          "RegisterLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "RegisterLambdaVersionbtpT0jyBSYjE0RJkHQR2GTwy5gkCU2wvvahYXzsvY"
            },
            "Export": {
              "Name": "sls-millas-backend-dev-RegisterLambdaFunctionQualifiedArn"
            }
          },
          "AuthorizeLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "AuthorizeLambdaVersion9kIZfxNyrtkhxR4ezdFExK1MgsGEp6VaaxaWHLFQw"
            },
            "Export": {
              "Name": "sls-millas-backend-dev-AuthorizeLambdaFunctionQualifiedArn"
            }
          },
          "LogoutLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "LogoutLambdaVersionxfx87mUNWSc4ZtDqjCFh7zgxZwIujel6tvnvY1aQ"
            },
            "Export": {
              "Name": "sls-millas-backend-dev-LogoutLambdaFunctionQualifiedArn"
            }
          },
          "GetAvailableOrdersLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetAvailableOrdersLambdaVersionwg2XpITl6o0z069gQccKnP8URDtfDsgqf7toansZ0"
            },
            "Export": {
              "Name": "sls-millas-backend-dev-GetAvailableOrdersLambdaFunctionQualifiedArn"
            }
          },
          "GetAssignedOrdersLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetAssignedOrdersLambdaVersionEz9of5EIujgXIYroQwX2pz1BQNOPrhNeLYsWTGl8WY"
            },
            "Export": {
              "Name": "sls-millas-backend-dev-GetAssignedOrdersLambdaFunctionQualifiedArn"
            }
          },
          "GetOrderDetailLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetOrderDetailLambdaVersionhTIbZeAmcDQIQTzwdEdCrPpG5lI5RS6EzG7dFo5v1A"
            },
            "Export": {
              "Name": "sls-millas-backend-dev-GetOrderDetailLambdaFunctionQualifiedArn"
            }
          },
          "GetDriverStatsLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetDriverStatsLambdaVersionZKyMwIuGbR3DYnL3g6cKTifmZJ0BKvZvrOVls4b1k"
            },
            "Export": {
              "Name": "sls-millas-backend-dev-GetDriverStatsLambdaFunctionQualifiedArn"
            }
          },
          "GetDeliveryTimelineLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetDeliveryTimelineLambdaVersionogV7zN8ja8e90bjj8bCSixHEhSWfSpP99tgwCCe2I"
            },
            "Export": {
              "Name": "sls-millas-backend-dev-GetDeliveryTimelineLambdaFunctionQualifiedArn"
            }
          },
          "CreateOrderLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "CreateOrderLambdaVersion708X0aLFN6zSlouROuJM1wkaIrxbSFLSuL6gGARXqk"
            },
            "Export": {
              "Name": "sls-millas-backend-dev-CreateOrderLambdaFunctionQualifiedArn"
            }
          },
          "GetOrdersLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetOrdersLambdaVersionvMUX4oNCcSgdrmMPEut0gU4Kb1uPpYLfIGKAmcPwA"
            },
            "Export": {
              "Name": "sls-millas-backend-dev-GetOrdersLambdaFunctionQualifiedArn"
            }
          },
          "GetOrderLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetOrderLambdaVersionXyr1z2lOrPcAD4YYEBnoaYOvwvRjRUfhKNZotWkLA8"
            },
            "Export": {
              "Name": "sls-millas-backend-dev-GetOrderLambdaFunctionQualifiedArn"
            }
          },
          "GetDashboardLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetDashboardLambdaVersionjyQzwC4lCgTQ4QoYkWVBkPBr4mLdAkVRnhgCKkCrs"
            },
            "Export": {
              "Name": "sls-millas-backend-dev-GetDashboardLambdaFunctionQualifiedArn"
            }
          },
          "GetOrderTimelineLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetOrderTimelineLambdaVersionJCxZFUAw8r5zhbaVdN56fEMdqRptL4mU6zWlAu1oFw"
            },
            "Export": {
              "Name": "sls-millas-backend-dev-GetOrderTimelineLambdaFunctionQualifiedArn"
            }
          },
          "GetStaffPerformanceLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetStaffPerformanceLambdaVersionDLO6SjVc987YLfeCsru4QglAFcgYeXBiGqtCvdNp9sg"
            },
            "Export": {
              "Name": "sls-millas-backend-dev-GetStaffPerformanceLambdaFunctionQualifiedArn"
            }
          },
          "GetCategoriesLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetCategoriesLambdaVersionz4Z4TaF72WGiMTQSpQ34wzLYSoEpIO2xDoTqgxJwiP8"
            },
            "Export": {
              "Name": "sls-millas-backend-dev-GetCategoriesLambdaFunctionQualifiedArn"
            }
          },
          "GetItemsLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetItemsLambdaVersionfYjYkcJLP4Pk9FpStypNgsTo69fVkVSY7IhbX8Mc"
            },
            "Export": {
              "Name": "sls-millas-backend-dev-GetItemsLambdaFunctionQualifiedArn"
            }
          },
          "UploadMenuImageLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "UploadMenuImageLambdaVersionEewWJa4Aif27h1pInPa6wilbieIhHuATWuaXabb2FlU"
            },
            "Export": {
              "Name": "sls-millas-backend-dev-UploadMenuImageLambdaFunctionQualifiedArn"
            }
          },
          "ConfirmOrderLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "ConfirmOrderLambdaVersionIaVUZ1aWWcf83x9eK67oYI9cX5MuuRBvjWWKrcUOH8"
            },
            "Export": {
              "Name": "sls-millas-backend-dev-ConfirmOrderLambdaFunctionQualifiedArn"
            }
          },
          "AssignCookLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "AssignCookLambdaVersionotdZlix7ZPMpnCvnPVL9nQOOOopfqfkcuZrrTlJiiRc"
            },
            "Export": {
              "Name": "sls-millas-backend-dev-AssignCookLambdaFunctionQualifiedArn"
            }
          },
          "CompleteCookingLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "CompleteCookingLambdaVersionhYj0gAxmKtwRKTOCPIayUure0MfTX42aI2EIyejlWc"
            },
            "Export": {
              "Name": "sls-millas-backend-dev-CompleteCookingLambdaFunctionQualifiedArn"
            }
          },
          "AssignDriverLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "AssignDriverLambdaVersionBrqsPyY9rztOt28PJHOMFLWzdDUECrnzdkgIXmDH4"
            },
            "Export": {
              "Name": "sls-millas-backend-dev-AssignDriverLambdaFunctionQualifiedArn"
            }
          },
          "CompleteDeliveryLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "CompleteDeliveryLambdaVersionqBFkmHtUTpGYhySC6MHfGU3s7UPia3cm0GSTHdubc"
            },
            "Export": {
              "Name": "sls-millas-backend-dev-CompleteDeliveryLambdaFunctionQualifiedArn"
            }
          },
          "HandleOrderFailureLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "HandleOrderFailureLambdaVersionF5AelsDCEKAAVXARMiVgifIF0ZuwTgZx3QBsxszHY"
            },
            "Export": {
              "Name": "sls-millas-backend-dev-HandleOrderFailureLambdaFunctionQualifiedArn"
            }
          },
          "ServiceEndpoint": {
            "Description": "URL of the service endpoint",
            "Value": {
              "Fn::Join": [
                "",
                [
                  "https://",
                  {
                    "Ref": "ApiGatewayRestApi"
                  },
                  ".execute-api.",
                  {
                    "Ref": "AWS::Region"
                  },
                  ".",
                  {
                    "Ref": "AWS::URLSuffix"
                  },
                  "/dev"
                ]
              ]
            },
            "Export": {
              "Name": "sls-millas-backend-dev-ServiceEndpoint"
            }
          }
        }
      },
      "vpc": {}
    },
    "dashboard": {
      "isEnabledForService": false,
      "requiredAuthentication": false,
      "orgFeaturesInUse": null,
      "orgObservabilityIntegrations": null,
      "serviceAppId": null,
      "serviceProvider": null,
      "instanceParameters": null
    },
    "serviceRawFile": "org: m4rant\nservice: millas-backend\n\nprovider:\n  name: aws\n  runtime: python3.12\n  memorySize: 1024\n  timeout: 29\n  iam:\n    role: arn:aws:iam::722204368591:role/LabRole\n  environment:\n    ORDERS_TABLE: ${sls:stage}-Orders\n    WORKFLOW_TABLE: ${sls:stage}-Workflow\n    MENU_TABLE: ${sls:stage}-Menu\n    USERS_TABLE: ${sls:stage}-Users\n    TENANT_ID: 200millas\n    MENU_IMAGES_BUCKET: ${self:service}-${sls:stage}-menu-images\n    EVENTBRIDGE_BUS: ${self:service}-${sls:stage}-event-bus\n    SERVERLESS_SERVICE: ${self:service}\n    SERVERLESS_STAGE: ${sls:stage}\n    AWS_ACCOUNT_ID: 722204368591\n\ncustom:\n  pythonRequirements:\n    dockerizePip: true\n    layer: false\n\nfunctions:\n  # ============================================================================\n  # AUTH ENDPOINTS\n  # ============================================================================\n  login:\n    handler: services/auth/handler.login\n    events:\n      - http:\n          path: /auth/login\n          method: post\n          cors: true\n          integration: lambda\n\n  register:\n    handler: services/auth/handler.register\n    events:\n      - http:\n          path: /auth/register\n          method: post\n          cors: true\n          integration: lambda\n\n  authorize:\n    handler: services/auth/handler.authorize\n\n  logout:\n    handler: services/auth/handler.logout\n    events:\n      - http:\n          path: /auth/logout\n          method: post\n          cors: true\n          integration: lambda\n          authorizer:\n            name: authorize\n            resultTtlInSeconds: 300\n            identitySource: method.request.header.Authorization\n            type: token\n\n  # ============================================================================\n  # DRIVER ENDPOINTS - READ ONLY (Step Functions maneja las transiciones)\n  # ============================================================================\n  getAvailableOrders:\n    handler: services/driver/handler.get_available_orders\n    events:\n      - http:\n          path: /driver/available\n          method: get\n          cors: true\n          integration: lambda\n          authorizer:\n            name: authorize\n            resultTtlInSeconds: 300\n            identitySource: method.request.header.Authorization\n            type: token\n\n  getAssignedOrders:\n    handler: services/driver/handler.get_assigned_orders\n    events:\n      - http:\n          path: /driver/assigned\n          method: get\n          cors: true\n          integration: lambda\n          authorizer:\n            name: authorize\n            resultTtlInSeconds: 300\n            identitySource: method.request.header.Authorization\n            type: token\n\n  getOrderDetail:\n    handler: services/driver/handler.get_order_detail\n    events:\n      - http:\n          path: /driver/orders/{order_id}\n          method: get\n          cors: true\n          integration: lambda\n          authorizer:\n            name: authorize\n            resultTtlInSeconds: 300\n            identitySource: method.request.header.Authorization\n            type: token\n\n  getDriverStats:\n    handler: services/driver/handler.get_driver_stats\n    events:\n      - http:\n          path: /driver/stats\n          method: get\n          cors: true\n          integration: lambda\n          authorizer:\n            name: authorize\n            resultTtlInSeconds: 300\n            identitySource: method.request.header.Authorization\n            type: token\n\n  getDeliveryTimeline:\n    handler: services/driver/handler.get_delivery_timeline\n    events:\n      - http:\n          path: /driver/timeline/{order_id}\n          method: get\n          cors: true\n          integration: lambda\n          authorizer:\n            name: authorize\n            resultTtlInSeconds: 300\n            identitySource: method.request.header.Authorization\n            type: token\n\n  # ============================================================================\n  # ORDER ENDPOINTS - PARA CLIENTES\n  # ============================================================================\n  createOrder:\n    handler: services/orders/handler.create_order\n    events:\n      - http:\n          path: /orders\n          method: post\n          cors:\n            origin: '*'\n            headers:\n              - Content-Type\n              - Authorization\n              - X-Amz-Date\n              - X-Api-Key\n              - X-Amz-Security-Token\n            allowCredentials: false\n          integration: lambda\n          authorizer:\n            name: authorize\n            resultTtlInSeconds: 300\n            identitySource: method.request.header.Authorization\n            type: token\n\n  getOrders:\n    handler: services/orders/handler.get_orders\n    events:\n      - http:\n          path: /orders\n          method: get\n          cors: true\n          integration: lambda\n          authorizer:\n            name: authorize\n            resultTtlInSeconds: 300\n            identitySource: method.request.header.Authorization\n            type: token\n\n  getOrder:\n    handler: services/orders/handler.get_order\n    events:\n      - http:\n          path: /orders/{order_id}\n          method: get\n          cors: true\n          integration: lambda\n          authorizer:\n            name: authorize\n            resultTtlInSeconds: 300\n            identitySource: method.request.header.Authorization\n            type: token\n\n  # ============================================================================\n  # DASHBOARD ENDPOINTS - MONITOREO\n  # ============================================================================\n  getDashboard:\n    handler: services/dashboard/handler.get_dashboard\n    events:\n      - http:\n          path: /dashboard\n          method: get\n          cors: true\n          integration: lambda\n          authorizer:\n            name: authorize\n            resultTtlInSeconds: 300\n            identitySource: method.request.header.Authorization\n            type: token\n\n  getOrderTimeline:\n    handler: services/dashboard/handler.get_order_timeline\n    events:\n      - http:\n          path: /dashboard/timeline/{order_id}\n          method: get\n          cors: true\n          integration: lambda\n          authorizer:\n            name: authorize\n            resultTtlInSeconds: 300\n            identitySource: method.request.header.Authorization\n            type: token\n\n  getStaffPerformance:\n    handler: services/dashboard/handler.get_staff_performance\n    events:\n      - http:\n          path: /dashboard/staff-performance\n          method: get\n          cors: true\n          integration: lambda\n          authorizer:\n            name: authorize\n            resultTtlInSeconds: 300\n            identitySource: method.request.header.Authorization\n            type: token\n\n  # ============================================================================\n  # MENU ENDPOINTS\n  # ============================================================================\n  getCategories:\n    handler: services/menu/handler.get_categories\n    events:\n      - http:\n          path: /menu/categories\n          method: get\n          cors: true\n          integration: lambda\n\n  getItems:\n    handler: services/menu/handler.get_items\n    events:\n      - http:\n          path: /menu/items\n          method: get\n          cors: true\n          integration: lambda\n\n  uploadMenuImage:\n    handler: services/menu/upload_image.upload_image\n    events:\n      - http:\n          path: /menu/upload-image\n          method: post\n          cors: true\n          integration: lambda\n          authorizer:\n            name: authorize\n            resultTtlInSeconds: 300\n            identitySource: method.request.header.Authorization\n            type: token\n\n  # ============================================================================\n  # STEP FUNCTIONS HANDLERS - WORKFLOW AUTOMTICO\n  # ============================================================================\n  confirmOrder:\n    handler: services/workflow/step_functions_handlers.confirm_order\n    timeout: 30\n\n  assignCook:\n    handler: services/workflow/step_functions_handlers.assign_cook\n    timeout: 30\n\n  completeCooking:\n    handler: services/workflow/step_functions_handlers.complete_cooking\n    timeout: 30\n\n  assignDriver:\n    handler: services/workflow/step_functions_handlers.assign_driver\n    timeout: 30\n\n  completeDelivery:\n    handler: services/workflow/step_functions_handlers.complete_delivery\n    timeout: 30\n\n  handleOrderFailure:\n    handler: services/workflow/step_functions_handlers.handle_order_failure\n    timeout: 30\n\nresources:\n  Resources:\n    OrdersTable:\n      Type: AWS::DynamoDB::Table\n      Properties:\n        TableName: ${self:provider.environment.ORDERS_TABLE}\n        AttributeDefinitions:\n          - AttributeName: order_id\n            AttributeType: S\n          - AttributeName: tenant_id\n            AttributeType: S\n          - AttributeName: created_at\n            AttributeType: N\n          - AttributeName: customer_id\n            AttributeType: S\n          - AttributeName: status\n            AttributeType: S\n        KeySchema:\n          - AttributeName: order_id\n            KeyType: HASH\n        GlobalSecondaryIndexes:\n          - IndexName: tenant-created-index\n            KeySchema:\n              - AttributeName: tenant_id\n                KeyType: HASH\n              - AttributeName: created_at\n                KeyType: RANGE\n            Projection:\n              ProjectionType: ALL\n          - IndexName: customer-orders-index\n            KeySchema:\n              - AttributeName: customer_id\n                KeyType: HASH\n              - AttributeName: created_at\n                KeyType: RANGE\n            Projection:\n              ProjectionType: ALL\n          - IndexName: tenant-status-index\n            KeySchema:\n              - AttributeName: tenant_id\n                KeyType: HASH\n              - AttributeName: status\n                KeyType: RANGE\n            Projection:\n              ProjectionType: ALL\n        BillingMode: PAY_PER_REQUEST\n\n    WorkflowTable:\n      Type: AWS::DynamoDB::Table\n      Properties:\n        TableName: ${self:provider.environment.WORKFLOW_TABLE}\n        AttributeDefinitions:\n          - AttributeName: order_id\n            AttributeType: S\n        KeySchema:\n          - AttributeName: order_id\n            KeyType: HASH\n        BillingMode: PAY_PER_REQUEST\n\n    MenuTable:\n      Type: AWS::DynamoDB::Table\n      Properties:\n        TableName: ${self:provider.environment.MENU_TABLE}\n        AttributeDefinitions:\n          - AttributeName: item_id\n            AttributeType: S\n          - AttributeName: category\n            AttributeType: S\n        KeySchema:\n          - AttributeName: item_id\n            KeyType: HASH\n        GlobalSecondaryIndexes:\n          - IndexName: category-index\n            KeySchema:\n              - AttributeName: category\n                KeyType: HASH\n            Projection:\n              ProjectionType: ALL\n        BillingMode: PAY_PER_REQUEST\n\n    UsersTable:\n      Type: AWS::DynamoDB::Table\n      Properties:\n        TableName: ${self:provider.environment.USERS_TABLE}\n        AttributeDefinitions:\n          - AttributeName: email\n            AttributeType: S\n        KeySchema:\n          - AttributeName: email\n            KeyType: HASH\n        BillingMode: PAY_PER_REQUEST\n\n    MenuImagesBucket:\n      Type: AWS::S3::Bucket\n      Properties:\n        BucketName: ${self:provider.environment.MENU_IMAGES_BUCKET}\n        PublicAccessBlockConfiguration:\n          BlockPublicAcls: false\n          BlockPublicPolicy: false\n          IgnorePublicAcls: false\n          RestrictPublicBuckets: false\n        CorsConfiguration:\n          CorsRules:\n            - AllowedHeaders:\n                - \"*\"\n              AllowedMethods:\n                - GET\n                - PUT\n                - POST\n                - HEAD\n              AllowedOrigins:\n                - \"*\"\n              MaxAge: 3000\n\n    MenuImagesBucketPolicy:\n      Type: AWS::S3::BucketPolicy\n      Properties:\n        Bucket: !Ref MenuImagesBucket\n        PolicyDocument:\n          Statement:\n            - Sid: PublicReadGetObject\n              Effect: Allow\n              Principal: \"*\"\n              Action:\n                - s3:GetObject\n              Resource: !Sub \n                - \"arn:aws:s3:::${BucketName}/*\"\n                - BucketName: !Ref MenuImagesBucket\n\n    CustomEventBus:\n      Type: AWS::Events::EventBus\n      Properties:\n        Name: ${self:service}-${sls:stage}-event-bus\n\n    OrderEventsRule:\n      Type: AWS::Events::Rule\n      Properties:\n        EventBusName: !Ref CustomEventBus\n        EventPattern:\n          source:\n            - orders.service\n            - workflow.service\n          detail-type:\n            - OrderCreated\n            - OrderUpdated\n            - OrderConfirmed\n            - OrderCooking\n            - OrderPacking\n            - OrderInDelivery\n            - OrderDelivered\n            - OrderFailed\n        State: ENABLED\n        Description: Captura todos los eventos relacionados con pedidos y workflow\n\n    # ============================================================================\n    # STEP FUNCTIONS STATE MACHINE - WORKFLOW AUTOMATIZADO\n    # ============================================================================\n    OrderWorkflowStateMachine:\n      Type: AWS::StepFunctions::StateMachine\n      Properties:\n        StateMachineName: ${self:service}-${sls:stage}-order-workflow\n        RoleArn: arn:aws:iam::722204368591:role/LabRole\n        DefinitionString: !Sub |\n          {\n            \"Comment\": \"Workflow automatizado para procesamiento de pedidos\",\n            \"StartAt\": \"ConfirmOrder\",\n            \"States\": {\n              \"ConfirmOrder\": {\n                \"Type\": \"Task\",\n                \"Resource\": \"${ConfirmOrderLambdaFunction.Arn}\",\n                \"ResultPath\": \"$.confirmResult\",\n                \"TimeoutSeconds\": 30,\n                \"Retry\": [\n                  {\n                    \"ErrorEquals\": [\"States.TaskFailed\", \"States.Timeout\"],\n                    \"IntervalSeconds\": 2,\n                    \"MaxAttempts\": 3,\n                    \"BackoffRate\": 2.0\n                  }\n                ],\n                \"Catch\": [\n                  {\n                    \"ErrorEquals\": [\"States.ALL\"],\n                    \"ResultPath\": \"$.error\",\n                    \"Next\": \"OrderFailed\"\n                  }\n                ],\n                \"Next\": \"AssignCook\"\n              },\n              \"AssignCook\": {\n                \"Type\": \"Task\",\n                \"Resource\": \"${AssignCookLambdaFunction.Arn}\",\n                \"ResultPath\": \"$.cookResult\",\n                \"TimeoutSeconds\": 30,\n                \"Retry\": [\n                  {\n                    \"ErrorEquals\": [\"States.TaskFailed\", \"States.Timeout\"],\n                    \"IntervalSeconds\": 2,\n                    \"MaxAttempts\": 3,\n                    \"BackoffRate\": 2.0\n                  }\n                ],\n                \"Catch\": [\n                  {\n                    \"ErrorEquals\": [\"States.ALL\"],\n                    \"ResultPath\": \"$.error\",\n                    \"Next\": \"OrderFailed\"\n                  }\n                ],\n                \"Next\": \"WaitForCooking\"\n              },\n              \"WaitForCooking\": {\n                \"Type\": \"Wait\",\n                \"Seconds\": 300,\n                \"Comment\": \"Espera simulada de coccin (5 min)\",\n                \"Next\": \"CompleteCooking\"\n              },\n              \"CompleteCooking\": {\n                \"Type\": \"Task\",\n                \"Resource\": \"${CompleteCookingLambdaFunction.Arn}\",\n                \"ResultPath\": \"$.cookingResult\",\n                \"TimeoutSeconds\": 30,\n                \"Retry\": [\n                  {\n                    \"ErrorEquals\": [\"States.TaskFailed\", \"States.Timeout\"],\n                    \"IntervalSeconds\": 2,\n                    \"MaxAttempts\": 3,\n                    \"BackoffRate\": 2.0\n                  }\n                ],\n                \"Catch\": [\n                  {\n                    \"ErrorEquals\": [\"States.ALL\"],\n                    \"ResultPath\": \"$.error\",\n                    \"Next\": \"OrderFailed\"\n                  }\n                ],\n                \"Next\": \"AssignDriver\"\n              },\n              \"AssignDriver\": {\n                \"Type\": \"Task\",\n                \"Resource\": \"${AssignDriverLambdaFunction.Arn}\",\n                \"ResultPath\": \"$.driverResult\",\n                \"TimeoutSeconds\": 30,\n                \"Retry\": [\n                  {\n                    \"ErrorEquals\": [\"States.TaskFailed\", \"States.Timeout\"],\n                    \"IntervalSeconds\": 2,\n                    \"MaxAttempts\": 3,\n                    \"BackoffRate\": 2.0\n                  }\n                ],\n                \"Catch\": [\n                  {\n                    \"ErrorEquals\": [\"States.ALL\"],\n                    \"ResultPath\": \"$.error\",\n                    \"Next\": \"OrderFailed\"\n                  }\n                ],\n                \"Next\": \"WaitForDelivery\"\n              },\n              \"WaitForDelivery\": {\n                \"Type\": \"Wait\",\n                \"Seconds\": 600,\n                \"Comment\": \"Espera simulada de entrega (10 min)\",\n                \"Next\": \"CompleteDelivery\"\n              },\n              \"CompleteDelivery\": {\n                \"Type\": \"Task\",\n                \"Resource\": \"${CompleteDeliveryLambdaFunction.Arn}\",\n                \"ResultPath\": \"$.deliveryResult\",\n                \"TimeoutSeconds\": 30,\n                \"Retry\": [\n                  {\n                    \"ErrorEquals\": [\"States.TaskFailed\", \"States.Timeout\"],\n                    \"IntervalSeconds\": 2,\n                    \"MaxAttempts\": 3,\n                    \"BackoffRate\": 2.0\n                  }\n                ],\n                \"Catch\": [\n                  {\n                    \"ErrorEquals\": [\"States.ALL\"],\n                    \"ResultPath\": \"$.error\",\n                    \"Next\": \"OrderFailed\"\n                  }\n                ],\n                \"End\": true\n              },\n              \"OrderFailed\": {\n                \"Type\": \"Task\",\n                \"Resource\": \"${HandleOrderFailureLambdaFunction.Arn}\",\n                \"ResultPath\": \"$.failureResult\",\n                \"End\": true\n              }\n            }\n          }\n\noutputs:\n  ApiGatewayRestApiId:\n    Description: API Gateway REST API ID\n    Value:\n      Ref: ApiGatewayRestApi\n    Export:\n      Name: ${self:service}-${sls:stage}-ApiGatewayId\n\n  ApiGatewayRestApiUrl:\n    Description: URL base de la API Gateway\n    Value: !Sub \"https://${ApiGatewayRestApi}.execute-api.${AWS::Region}.amazonaws.com/${sls:stage}\"\n    Export:\n      Name: ${self:service}-${sls:stage}-ApiGatewayUrl\n\n  OrderWorkflowStateMachineArn:\n    Description: ARN de la Step Function para workflow de pedidos\n    Value: !Ref OrderWorkflowStateMachine\n    Export:\n      Name: ${self:service}-${sls:stage}-OrderWorkflowArn\n\n  CustomEventBusName:\n    Description: Nombre del Event Bus personalizado\n    Value: !Ref CustomEventBus\n    Export:\n      Name: ${self:service}-${sls:stage}-EventBusName\n",
    "command": [
      "deploy"
    ],
    "options": {},
    "orgId": "8ca2c37b-97a0-4a04-871f-8f9e01cd15f8",
    "orgName": "m4rant",
    "userId": "w5qGkGLT3qvjzcm1ff",
    "userName": "m4rant",
    "serviceProviderAwsAccountId": "722204368591",
    "serviceProviderAwsCfStackName": "millas-backend-dev",
    "serviceProviderAwsCfStackId": "arn:aws:cloudformation:us-east-1:722204368591:stack/millas-backend-dev/3a71cc60-ccc7-11f0-9c0e-0e9e2ddb4515",
    "serviceProviderAwsCfStackCreated": "2025-11-29T02:00:50.248Z",
    "serviceProviderAwsCfStackUpdated": "2025-11-30T23:04:46.793Z",
    "serviceProviderAwsCfStackStatus": "UPDATE_COMPLETE",
    "serviceProviderAwsCfStackOutputs": [
      {
        "OutputKey": "LogoutLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:722204368591:function:millas-backend-dev-logout:53",
        "Description": "Current Lambda function version",
        "ExportName": "sls-millas-backend-dev-LogoutLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "RegisterLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:722204368591:function:millas-backend-dev-register:40",
        "Description": "Current Lambda function version",
        "ExportName": "sls-millas-backend-dev-RegisterLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "GetOrdersLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:722204368591:function:millas-backend-dev-getOrders:53",
        "Description": "Current Lambda function version",
        "ExportName": "sls-millas-backend-dev-GetOrdersLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "AssignDriverLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:722204368591:function:millas-backend-dev-assignDriver:38",
        "Description": "Current Lambda function version",
        "ExportName": "sls-millas-backend-dev-AssignDriverLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "AssignCookLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:722204368591:function:millas-backend-dev-assignCook:38",
        "Description": "Current Lambda function version",
        "ExportName": "sls-millas-backend-dev-AssignCookLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "ServerlessDeploymentBucketName",
        "OutputValue": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
        "ExportName": "sls-millas-backend-dev-ServerlessDeploymentBucketName"
      },
      {
        "OutputKey": "GetDeliveryTimelineLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:722204368591:function:millas-backend-dev-getDeliveryTimeline:1",
        "Description": "Current Lambda function version",
        "ExportName": "sls-millas-backend-dev-GetDeliveryTimelineLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "GetDashboardLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:722204368591:function:millas-backend-dev-getDashboard:53",
        "Description": "Current Lambda function version",
        "ExportName": "sls-millas-backend-dev-GetDashboardLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "UploadMenuImageLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:722204368591:function:millas-backend-dev-uploadMenuImage:38",
        "Description": "Current Lambda function version",
        "ExportName": "sls-millas-backend-dev-UploadMenuImageLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "ConfirmOrderLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:722204368591:function:millas-backend-dev-confirmOrder:38",
        "Description": "Current Lambda function version",
        "ExportName": "sls-millas-backend-dev-ConfirmOrderLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "GetOrderDetailLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:722204368591:function:millas-backend-dev-getOrderDetail:1",
        "Description": "Current Lambda function version",
        "ExportName": "sls-millas-backend-dev-GetOrderDetailLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "GetStaffPerformanceLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:722204368591:function:millas-backend-dev-getStaffPerformance:53",
        "Description": "Current Lambda function version",
        "ExportName": "sls-millas-backend-dev-GetStaffPerformanceLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "CreateOrderLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:722204368591:function:millas-backend-dev-createOrder:53",
        "Description": "Current Lambda function version",
        "ExportName": "sls-millas-backend-dev-CreateOrderLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "GetDriverStatsLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:722204368591:function:millas-backend-dev-getDriverStats:1",
        "Description": "Current Lambda function version",
        "ExportName": "sls-millas-backend-dev-GetDriverStatsLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "HandleOrderFailureLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:722204368591:function:millas-backend-dev-handleOrderFailure:20",
        "Description": "Current Lambda function version",
        "ExportName": "sls-millas-backend-dev-HandleOrderFailureLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "GetAssignedOrdersLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:722204368591:function:millas-backend-dev-getAssignedOrders:1",
        "Description": "Current Lambda function version",
        "ExportName": "sls-millas-backend-dev-GetAssignedOrdersLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "CompleteCookingLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:722204368591:function:millas-backend-dev-completeCooking:38",
        "Description": "Current Lambda function version",
        "ExportName": "sls-millas-backend-dev-CompleteCookingLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "AuthorizeLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:722204368591:function:millas-backend-dev-authorize:53",
        "Description": "Current Lambda function version",
        "ExportName": "sls-millas-backend-dev-AuthorizeLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "GetOrderLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:722204368591:function:millas-backend-dev-getOrder:53",
        "Description": "Current Lambda function version",
        "ExportName": "sls-millas-backend-dev-GetOrderLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "CompleteDeliveryLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:722204368591:function:millas-backend-dev-completeDelivery:38",
        "Description": "Current Lambda function version",
        "ExportName": "sls-millas-backend-dev-CompleteDeliveryLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "GetOrderTimelineLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:722204368591:function:millas-backend-dev-getOrderTimeline:53",
        "Description": "Current Lambda function version",
        "ExportName": "sls-millas-backend-dev-GetOrderTimelineLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "GetCategoriesLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:722204368591:function:millas-backend-dev-getCategories:53",
        "Description": "Current Lambda function version",
        "ExportName": "sls-millas-backend-dev-GetCategoriesLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "GetItemsLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:722204368591:function:millas-backend-dev-getItems:53",
        "Description": "Current Lambda function version",
        "ExportName": "sls-millas-backend-dev-GetItemsLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "GetAvailableOrdersLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:722204368591:function:millas-backend-dev-getAvailableOrders:1",
        "Description": "Current Lambda function version",
        "ExportName": "sls-millas-backend-dev-GetAvailableOrdersLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "LoginLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:us-east-1:722204368591:function:millas-backend-dev-login:53",
        "Description": "Current Lambda function version",
        "ExportName": "sls-millas-backend-dev-LoginLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "ServiceEndpoint",
        "OutputValue": "https://kubheov51k.execute-api.us-east-1.amazonaws.com/dev",
        "Description": "URL of the service endpoint",
        "ExportName": "sls-millas-backend-dev-ServiceEndpoint"
      }
    ],
    "compiledCloudFormationTemplate": {
      "AWSTemplateFormatVersion": "2010-09-09",
      "Description": "The AWS CloudFormation template for this Serverless application",
      "Resources": {
        "LoginLogGroup": {
          "Type": "AWS::Logs::LogGroup",
          "Properties": {
            "LogGroupName": "/aws/lambda/millas-backend-dev-login"
          }
        },
        "RegisterLogGroup": {
          "Type": "AWS::Logs::LogGroup",
          "Properties": {
            "LogGroupName": "/aws/lambda/millas-backend-dev-register"
          }
        },
        "AuthorizeLogGroup": {
          "Type": "AWS::Logs::LogGroup",
          "Properties": {
            "LogGroupName": "/aws/lambda/millas-backend-dev-authorize"
          }
        },
        "LogoutLogGroup": {
          "Type": "AWS::Logs::LogGroup",
          "Properties": {
            "LogGroupName": "/aws/lambda/millas-backend-dev-logout"
          }
        },
        "GetAvailableOrdersLogGroup": {
          "Type": "AWS::Logs::LogGroup",
          "Properties": {
            "LogGroupName": "/aws/lambda/millas-backend-dev-getAvailableOrders"
          }
        },
        "GetAssignedOrdersLogGroup": {
          "Type": "AWS::Logs::LogGroup",
          "Properties": {
            "LogGroupName": "/aws/lambda/millas-backend-dev-getAssignedOrders"
          }
        },
        "GetOrderDetailLogGroup": {
          "Type": "AWS::Logs::LogGroup",
          "Properties": {
            "LogGroupName": "/aws/lambda/millas-backend-dev-getOrderDetail"
          }
        },
        "GetDriverStatsLogGroup": {
          "Type": "AWS::Logs::LogGroup",
          "Properties": {
            "LogGroupName": "/aws/lambda/millas-backend-dev-getDriverStats"
          }
        },
        "GetDeliveryTimelineLogGroup": {
          "Type": "AWS::Logs::LogGroup",
          "Properties": {
            "LogGroupName": "/aws/lambda/millas-backend-dev-getDeliveryTimeline"
          }
        },
        "CreateOrderLogGroup": {
          "Type": "AWS::Logs::LogGroup",
          "Properties": {
            "LogGroupName": "/aws/lambda/millas-backend-dev-createOrder"
          }
        },
        "GetOrdersLogGroup": {
          "Type": "AWS::Logs::LogGroup",
          "Properties": {
            "LogGroupName": "/aws/lambda/millas-backend-dev-getOrders"
          }
        },
        "GetOrderLogGroup": {
          "Type": "AWS::Logs::LogGroup",
          "Properties": {
            "LogGroupName": "/aws/lambda/millas-backend-dev-getOrder"
          }
        },
        "GetDashboardLogGroup": {
          "Type": "AWS::Logs::LogGroup",
          "Properties": {
            "LogGroupName": "/aws/lambda/millas-backend-dev-getDashboard"
          }
        },
        "GetOrderTimelineLogGroup": {
          "Type": "AWS::Logs::LogGroup",
          "Properties": {
            "LogGroupName": "/aws/lambda/millas-backend-dev-getOrderTimeline"
          }
        },
        "GetStaffPerformanceLogGroup": {
          "Type": "AWS::Logs::LogGroup",
          "Properties": {
            "LogGroupName": "/aws/lambda/millas-backend-dev-getStaffPerformance"
          }
        },
        "GetCategoriesLogGroup": {
          "Type": "AWS::Logs::LogGroup",
          "Properties": {
            "LogGroupName": "/aws/lambda/millas-backend-dev-getCategories"
          }
        },
        "GetItemsLogGroup": {
          "Type": "AWS::Logs::LogGroup",
          "Properties": {
            "LogGroupName": "/aws/lambda/millas-backend-dev-getItems"
          }
        },
        "UploadMenuImageLogGroup": {
          "Type": "AWS::Logs::LogGroup",
          "Properties": {
            "LogGroupName": "/aws/lambda/millas-backend-dev-uploadMenuImage"
          }
        },
        "ConfirmOrderLogGroup": {
          "Type": "AWS::Logs::LogGroup",
          "Properties": {
            "LogGroupName": "/aws/lambda/millas-backend-dev-confirmOrder"
          }
        },
        "AssignCookLogGroup": {
          "Type": "AWS::Logs::LogGroup",
          "Properties": {
            "LogGroupName": "/aws/lambda/millas-backend-dev-assignCook"
          }
        },
        "CompleteCookingLogGroup": {
          "Type": "AWS::Logs::LogGroup",
          "Properties": {
            "LogGroupName": "/aws/lambda/millas-backend-dev-completeCooking"
          }
        },
        "AssignDriverLogGroup": {
          "Type": "AWS::Logs::LogGroup",
          "Properties": {
            "LogGroupName": "/aws/lambda/millas-backend-dev-assignDriver"
          }
        },
        "CompleteDeliveryLogGroup": {
          "Type": "AWS::Logs::LogGroup",
          "Properties": {
            "LogGroupName": "/aws/lambda/millas-backend-dev-completeDelivery"
          }
        },
        "HandleOrderFailureLogGroup": {
          "Type": "AWS::Logs::LogGroup",
          "Properties": {
            "LogGroupName": "/aws/lambda/millas-backend-dev-handleOrderFailure"
          }
        },
        "LoginLambdaFunction": {
          "Type": "AWS::Lambda::Function",
          "Properties": {
            "Code": {
              "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
              "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
            },
            "Handler": "services/auth/handler.login",
            "Runtime": "python3.12",
            "FunctionName": "millas-backend-dev-login",
            "MemorySize": 1024,
            "Timeout": 29,
            "Environment": {
              "Variables": {
                "ORDERS_TABLE": "dev-Orders",
                "WORKFLOW_TABLE": "dev-Workflow",
                "MENU_TABLE": "dev-Menu",
                "USERS_TABLE": "dev-Users",
                "TENANT_ID": "200millas",
                "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                "SERVERLESS_SERVICE": "millas-backend",
                "SERVERLESS_STAGE": "dev",
                "AWS_ACCOUNT_ID": "722204368591"
              }
            },
            "Role": "arn:aws:iam::722204368591:role/LabRole"
          },
          "DependsOn": [
            "LoginLogGroup"
          ]
        },
        "RegisterLambdaFunction": {
          "Type": "AWS::Lambda::Function",
          "Properties": {
            "Code": {
              "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
              "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
            },
            "Handler": "services/auth/handler.register",
            "Runtime": "python3.12",
            "FunctionName": "millas-backend-dev-register",
            "MemorySize": 1024,
            "Timeout": 29,
            "Environment": {
              "Variables": {
                "ORDERS_TABLE": "dev-Orders",
                "WORKFLOW_TABLE": "dev-Workflow",
                "MENU_TABLE": "dev-Menu",
                "USERS_TABLE": "dev-Users",
                "TENANT_ID": "200millas",
                "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                "SERVERLESS_SERVICE": "millas-backend",
                "SERVERLESS_STAGE": "dev",
                "AWS_ACCOUNT_ID": "722204368591"
              }
            },
            "Role": "arn:aws:iam::722204368591:role/LabRole"
          },
          "DependsOn": [
            "RegisterLogGroup"
          ]
        },
        "AuthorizeLambdaFunction": {
          "Type": "AWS::Lambda::Function",
          "Properties": {
            "Code": {
              "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
              "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
            },
            "Handler": "services/auth/handler.authorize",
            "Runtime": "python3.12",
            "FunctionName": "millas-backend-dev-authorize",
            "MemorySize": 1024,
            "Timeout": 29,
            "Environment": {
              "Variables": {
                "ORDERS_TABLE": "dev-Orders",
                "WORKFLOW_TABLE": "dev-Workflow",
                "MENU_TABLE": "dev-Menu",
                "USERS_TABLE": "dev-Users",
                "TENANT_ID": "200millas",
                "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                "SERVERLESS_SERVICE": "millas-backend",
                "SERVERLESS_STAGE": "dev",
                "AWS_ACCOUNT_ID": "722204368591"
              }
            },
            "Role": "arn:aws:iam::722204368591:role/LabRole"
          },
          "DependsOn": [
            "AuthorizeLogGroup"
          ]
        },
        "LogoutLambdaFunction": {
          "Type": "AWS::Lambda::Function",
          "Properties": {
            "Code": {
              "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
              "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
            },
            "Handler": "services/auth/handler.logout",
            "Runtime": "python3.12",
            "FunctionName": "millas-backend-dev-logout",
            "MemorySize": 1024,
            "Timeout": 29,
            "Environment": {
              "Variables": {
                "ORDERS_TABLE": "dev-Orders",
                "WORKFLOW_TABLE": "dev-Workflow",
                "MENU_TABLE": "dev-Menu",
                "USERS_TABLE": "dev-Users",
                "TENANT_ID": "200millas",
                "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                "SERVERLESS_SERVICE": "millas-backend",
                "SERVERLESS_STAGE": "dev",
                "AWS_ACCOUNT_ID": "722204368591"
              }
            },
            "Role": "arn:aws:iam::722204368591:role/LabRole"
          },
          "DependsOn": [
            "LogoutLogGroup"
          ]
        },
        "GetAvailableOrdersLambdaFunction": {
          "Type": "AWS::Lambda::Function",
          "Properties": {
            "Code": {
              "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
              "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
            },
            "Handler": "services/driver/handler.get_available_orders",
            "Runtime": "python3.12",
            "FunctionName": "millas-backend-dev-getAvailableOrders",
            "MemorySize": 1024,
            "Timeout": 29,
            "Environment": {
              "Variables": {
                "ORDERS_TABLE": "dev-Orders",
                "WORKFLOW_TABLE": "dev-Workflow",
                "MENU_TABLE": "dev-Menu",
                "USERS_TABLE": "dev-Users",
                "TENANT_ID": "200millas",
                "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                "SERVERLESS_SERVICE": "millas-backend",
                "SERVERLESS_STAGE": "dev",
                "AWS_ACCOUNT_ID": "722204368591"
              }
            },
            "Role": "arn:aws:iam::722204368591:role/LabRole"
          },
          "DependsOn": [
            "GetAvailableOrdersLogGroup"
          ]
        },
        "GetAssignedOrdersLambdaFunction": {
          "Type": "AWS::Lambda::Function",
          "Properties": {
            "Code": {
              "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
              "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
            },
            "Handler": "services/driver/handler.get_assigned_orders",
            "Runtime": "python3.12",
            "FunctionName": "millas-backend-dev-getAssignedOrders",
            "MemorySize": 1024,
            "Timeout": 29,
            "Environment": {
              "Variables": {
                "ORDERS_TABLE": "dev-Orders",
                "WORKFLOW_TABLE": "dev-Workflow",
                "MENU_TABLE": "dev-Menu",
                "USERS_TABLE": "dev-Users",
                "TENANT_ID": "200millas",
                "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                "SERVERLESS_SERVICE": "millas-backend",
                "SERVERLESS_STAGE": "dev",
                "AWS_ACCOUNT_ID": "722204368591"
              }
            },
            "Role": "arn:aws:iam::722204368591:role/LabRole"
          },
          "DependsOn": [
            "GetAssignedOrdersLogGroup"
          ]
        },
        "GetOrderDetailLambdaFunction": {
          "Type": "AWS::Lambda::Function",
          "Properties": {
            "Code": {
              "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
              "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
            },
            "Handler": "services/driver/handler.get_order_detail",
            "Runtime": "python3.12",
            "FunctionName": "millas-backend-dev-getOrderDetail",
            "MemorySize": 1024,
            "Timeout": 29,
            "Environment": {
              "Variables": {
                "ORDERS_TABLE": "dev-Orders",
                "WORKFLOW_TABLE": "dev-Workflow",
                "MENU_TABLE": "dev-Menu",
                "USERS_TABLE": "dev-Users",
                "TENANT_ID": "200millas",
                "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                "SERVERLESS_SERVICE": "millas-backend",
                "SERVERLESS_STAGE": "dev",
                "AWS_ACCOUNT_ID": "722204368591"
              }
            },
            "Role": "arn:aws:iam::722204368591:role/LabRole"
          },
          "DependsOn": [
            "GetOrderDetailLogGroup"
          ]
        },
        "GetDriverStatsLambdaFunction": {
          "Type": "AWS::Lambda::Function",
          "Properties": {
            "Code": {
              "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
              "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
            },
            "Handler": "services/driver/handler.get_driver_stats",
            "Runtime": "python3.12",
            "FunctionName": "millas-backend-dev-getDriverStats",
            "MemorySize": 1024,
            "Timeout": 29,
            "Environment": {
              "Variables": {
                "ORDERS_TABLE": "dev-Orders",
                "WORKFLOW_TABLE": "dev-Workflow",
                "MENU_TABLE": "dev-Menu",
                "USERS_TABLE": "dev-Users",
                "TENANT_ID": "200millas",
                "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                "SERVERLESS_SERVICE": "millas-backend",
                "SERVERLESS_STAGE": "dev",
                "AWS_ACCOUNT_ID": "722204368591"
              }
            },
            "Role": "arn:aws:iam::722204368591:role/LabRole"
          },
          "DependsOn": [
            "GetDriverStatsLogGroup"
          ]
        },
        "GetDeliveryTimelineLambdaFunction": {
          "Type": "AWS::Lambda::Function",
          "Properties": {
            "Code": {
              "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
              "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
            },
            "Handler": "services/driver/handler.get_delivery_timeline",
            "Runtime": "python3.12",
            "FunctionName": "millas-backend-dev-getDeliveryTimeline",
            "MemorySize": 1024,
            "Timeout": 29,
            "Environment": {
              "Variables": {
                "ORDERS_TABLE": "dev-Orders",
                "WORKFLOW_TABLE": "dev-Workflow",
                "MENU_TABLE": "dev-Menu",
                "USERS_TABLE": "dev-Users",
                "TENANT_ID": "200millas",
                "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                "SERVERLESS_SERVICE": "millas-backend",
                "SERVERLESS_STAGE": "dev",
                "AWS_ACCOUNT_ID": "722204368591"
              }
            },
            "Role": "arn:aws:iam::722204368591:role/LabRole"
          },
          "DependsOn": [
            "GetDeliveryTimelineLogGroup"
          ]
        },
        "CreateOrderLambdaFunction": {
          "Type": "AWS::Lambda::Function",
          "Properties": {
            "Code": {
              "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
              "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
            },
            "Handler": "services/orders/handler.create_order",
            "Runtime": "python3.12",
            "FunctionName": "millas-backend-dev-createOrder",
            "MemorySize": 1024,
            "Timeout": 29,
            "Environment": {
              "Variables": {
                "ORDERS_TABLE": "dev-Orders",
                "WORKFLOW_TABLE": "dev-Workflow",
                "MENU_TABLE": "dev-Menu",
                "USERS_TABLE": "dev-Users",
                "TENANT_ID": "200millas",
                "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                "SERVERLESS_SERVICE": "millas-backend",
                "SERVERLESS_STAGE": "dev",
                "AWS_ACCOUNT_ID": "722204368591"
              }
            },
            "Role": "arn:aws:iam::722204368591:role/LabRole"
          },
          "DependsOn": [
            "CreateOrderLogGroup"
          ]
        },
        "GetOrdersLambdaFunction": {
          "Type": "AWS::Lambda::Function",
          "Properties": {
            "Code": {
              "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
              "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
            },
            "Handler": "services/orders/handler.get_orders",
            "Runtime": "python3.12",
            "FunctionName": "millas-backend-dev-getOrders",
            "MemorySize": 1024,
            "Timeout": 29,
            "Environment": {
              "Variables": {
                "ORDERS_TABLE": "dev-Orders",
                "WORKFLOW_TABLE": "dev-Workflow",
                "MENU_TABLE": "dev-Menu",
                "USERS_TABLE": "dev-Users",
                "TENANT_ID": "200millas",
                "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                "SERVERLESS_SERVICE": "millas-backend",
                "SERVERLESS_STAGE": "dev",
                "AWS_ACCOUNT_ID": "722204368591"
              }
            },
            "Role": "arn:aws:iam::722204368591:role/LabRole"
          },
          "DependsOn": [
            "GetOrdersLogGroup"
          ]
        },
        "GetOrderLambdaFunction": {
          "Type": "AWS::Lambda::Function",
          "Properties": {
            "Code": {
              "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
              "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
            },
            "Handler": "services/orders/handler.get_order",
            "Runtime": "python3.12",
            "FunctionName": "millas-backend-dev-getOrder",
            "MemorySize": 1024,
            "Timeout": 29,
            "Environment": {
              "Variables": {
                "ORDERS_TABLE": "dev-Orders",
                "WORKFLOW_TABLE": "dev-Workflow",
                "MENU_TABLE": "dev-Menu",
                "USERS_TABLE": "dev-Users",
                "TENANT_ID": "200millas",
                "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                "SERVERLESS_SERVICE": "millas-backend",
                "SERVERLESS_STAGE": "dev",
                "AWS_ACCOUNT_ID": "722204368591"
              }
            },
            "Role": "arn:aws:iam::722204368591:role/LabRole"
          },
          "DependsOn": [
            "GetOrderLogGroup"
          ]
        },
        "GetDashboardLambdaFunction": {
          "Type": "AWS::Lambda::Function",
          "Properties": {
            "Code": {
              "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
              "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
            },
            "Handler": "services/dashboard/handler.get_dashboard",
            "Runtime": "python3.12",
            "FunctionName": "millas-backend-dev-getDashboard",
            "MemorySize": 1024,
            "Timeout": 29,
            "Environment": {
              "Variables": {
                "ORDERS_TABLE": "dev-Orders",
                "WORKFLOW_TABLE": "dev-Workflow",
                "MENU_TABLE": "dev-Menu",
                "USERS_TABLE": "dev-Users",
                "TENANT_ID": "200millas",
                "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                "SERVERLESS_SERVICE": "millas-backend",
                "SERVERLESS_STAGE": "dev",
                "AWS_ACCOUNT_ID": "722204368591"
              }
            },
            "Role": "arn:aws:iam::722204368591:role/LabRole"
          },
          "DependsOn": [
            "GetDashboardLogGroup"
          ]
        },
        "GetOrderTimelineLambdaFunction": {
          "Type": "AWS::Lambda::Function",
          "Properties": {
            "Code": {
              "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
              "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
            },
            "Handler": "services/dashboard/handler.get_order_timeline",
            "Runtime": "python3.12",
            "FunctionName": "millas-backend-dev-getOrderTimeline",
            "MemorySize": 1024,
            "Timeout": 29,
            "Environment": {
              "Variables": {
                "ORDERS_TABLE": "dev-Orders",
                "WORKFLOW_TABLE": "dev-Workflow",
                "MENU_TABLE": "dev-Menu",
                "USERS_TABLE": "dev-Users",
                "TENANT_ID": "200millas",
                "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                "SERVERLESS_SERVICE": "millas-backend",
                "SERVERLESS_STAGE": "dev",
                "AWS_ACCOUNT_ID": "722204368591"
              }
            },
            "Role": "arn:aws:iam::722204368591:role/LabRole"
          },
          "DependsOn": [
            "GetOrderTimelineLogGroup"
          ]
        },
        "GetStaffPerformanceLambdaFunction": {
          "Type": "AWS::Lambda::Function",
          "Properties": {
            "Code": {
              "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
              "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
            },
            "Handler": "services/dashboard/handler.get_staff_performance",
            "Runtime": "python3.12",
            "FunctionName": "millas-backend-dev-getStaffPerformance",
            "MemorySize": 1024,
            "Timeout": 29,
            "Environment": {
              "Variables": {
                "ORDERS_TABLE": "dev-Orders",
                "WORKFLOW_TABLE": "dev-Workflow",
                "MENU_TABLE": "dev-Menu",
                "USERS_TABLE": "dev-Users",
                "TENANT_ID": "200millas",
                "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                "SERVERLESS_SERVICE": "millas-backend",
                "SERVERLESS_STAGE": "dev",
                "AWS_ACCOUNT_ID": "722204368591"
              }
            },
            "Role": "arn:aws:iam::722204368591:role/LabRole"
          },
          "DependsOn": [
            "GetStaffPerformanceLogGroup"
          ]
        },
        "GetCategoriesLambdaFunction": {
          "Type": "AWS::Lambda::Function",
          "Properties": {
            "Code": {
              "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
              "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
            },
            "Handler": "services/menu/handler.get_categories",
            "Runtime": "python3.12",
            "FunctionName": "millas-backend-dev-getCategories",
            "MemorySize": 1024,
            "Timeout": 29,
            "Environment": {
              "Variables": {
                "ORDERS_TABLE": "dev-Orders",
                "WORKFLOW_TABLE": "dev-Workflow",
                "MENU_TABLE": "dev-Menu",
                "USERS_TABLE": "dev-Users",
                "TENANT_ID": "200millas",
                "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                "SERVERLESS_SERVICE": "millas-backend",
                "SERVERLESS_STAGE": "dev",
                "AWS_ACCOUNT_ID": "722204368591"
              }
            },
            "Role": "arn:aws:iam::722204368591:role/LabRole"
          },
          "DependsOn": [
            "GetCategoriesLogGroup"
          ]
        },
        "GetItemsLambdaFunction": {
          "Type": "AWS::Lambda::Function",
          "Properties": {
            "Code": {
              "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
              "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
            },
            "Handler": "services/menu/handler.get_items",
            "Runtime": "python3.12",
            "FunctionName": "millas-backend-dev-getItems",
            "MemorySize": 1024,
            "Timeout": 29,
            "Environment": {
              "Variables": {
                "ORDERS_TABLE": "dev-Orders",
                "WORKFLOW_TABLE": "dev-Workflow",
                "MENU_TABLE": "dev-Menu",
                "USERS_TABLE": "dev-Users",
                "TENANT_ID": "200millas",
                "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                "SERVERLESS_SERVICE": "millas-backend",
                "SERVERLESS_STAGE": "dev",
                "AWS_ACCOUNT_ID": "722204368591"
              }
            },
            "Role": "arn:aws:iam::722204368591:role/LabRole"
          },
          "DependsOn": [
            "GetItemsLogGroup"
          ]
        },
        "UploadMenuImageLambdaFunction": {
          "Type": "AWS::Lambda::Function",
          "Properties": {
            "Code": {
              "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
              "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
            },
            "Handler": "services/menu/upload_image.upload_image",
            "Runtime": "python3.12",
            "FunctionName": "millas-backend-dev-uploadMenuImage",
            "MemorySize": 1024,
            "Timeout": 29,
            "Environment": {
              "Variables": {
                "ORDERS_TABLE": "dev-Orders",
                "WORKFLOW_TABLE": "dev-Workflow",
                "MENU_TABLE": "dev-Menu",
                "USERS_TABLE": "dev-Users",
                "TENANT_ID": "200millas",
                "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                "SERVERLESS_SERVICE": "millas-backend",
                "SERVERLESS_STAGE": "dev",
                "AWS_ACCOUNT_ID": "722204368591"
              }
            },
            "Role": "arn:aws:iam::722204368591:role/LabRole"
          },
          "DependsOn": [
            "UploadMenuImageLogGroup"
          ]
        },
        "ConfirmOrderLambdaFunction": {
          "Type": "AWS::Lambda::Function",
          "Properties": {
            "Code": {
              "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
              "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
            },
            "Handler": "services/workflow/step_functions_handlers.confirm_order",
            "Runtime": "python3.12",
            "FunctionName": "millas-backend-dev-confirmOrder",
            "MemorySize": 1024,
            "Timeout": 30,
            "Environment": {
              "Variables": {
                "ORDERS_TABLE": "dev-Orders",
                "WORKFLOW_TABLE": "dev-Workflow",
                "MENU_TABLE": "dev-Menu",
                "USERS_TABLE": "dev-Users",
                "TENANT_ID": "200millas",
                "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                "SERVERLESS_SERVICE": "millas-backend",
                "SERVERLESS_STAGE": "dev",
                "AWS_ACCOUNT_ID": "722204368591"
              }
            },
            "Role": "arn:aws:iam::722204368591:role/LabRole"
          },
          "DependsOn": [
            "ConfirmOrderLogGroup"
          ]
        },
        "AssignCookLambdaFunction": {
          "Type": "AWS::Lambda::Function",
          "Properties": {
            "Code": {
              "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
              "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
            },
            "Handler": "services/workflow/step_functions_handlers.assign_cook",
            "Runtime": "python3.12",
            "FunctionName": "millas-backend-dev-assignCook",
            "MemorySize": 1024,
            "Timeout": 30,
            "Environment": {
              "Variables": {
                "ORDERS_TABLE": "dev-Orders",
                "WORKFLOW_TABLE": "dev-Workflow",
                "MENU_TABLE": "dev-Menu",
                "USERS_TABLE": "dev-Users",
                "TENANT_ID": "200millas",
                "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                "SERVERLESS_SERVICE": "millas-backend",
                "SERVERLESS_STAGE": "dev",
                "AWS_ACCOUNT_ID": "722204368591"
              }
            },
            "Role": "arn:aws:iam::722204368591:role/LabRole"
          },
          "DependsOn": [
            "AssignCookLogGroup"
          ]
        },
        "CompleteCookingLambdaFunction": {
          "Type": "AWS::Lambda::Function",
          "Properties": {
            "Code": {
              "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
              "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
            },
            "Handler": "services/workflow/step_functions_handlers.complete_cooking",
            "Runtime": "python3.12",
            "FunctionName": "millas-backend-dev-completeCooking",
            "MemorySize": 1024,
            "Timeout": 30,
            "Environment": {
              "Variables": {
                "ORDERS_TABLE": "dev-Orders",
                "WORKFLOW_TABLE": "dev-Workflow",
                "MENU_TABLE": "dev-Menu",
                "USERS_TABLE": "dev-Users",
                "TENANT_ID": "200millas",
                "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                "SERVERLESS_SERVICE": "millas-backend",
                "SERVERLESS_STAGE": "dev",
                "AWS_ACCOUNT_ID": "722204368591"
              }
            },
            "Role": "arn:aws:iam::722204368591:role/LabRole"
          },
          "DependsOn": [
            "CompleteCookingLogGroup"
          ]
        },
        "AssignDriverLambdaFunction": {
          "Type": "AWS::Lambda::Function",
          "Properties": {
            "Code": {
              "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
              "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
            },
            "Handler": "services/workflow/step_functions_handlers.assign_driver",
            "Runtime": "python3.12",
            "FunctionName": "millas-backend-dev-assignDriver",
            "MemorySize": 1024,
            "Timeout": 30,
            "Environment": {
              "Variables": {
                "ORDERS_TABLE": "dev-Orders",
                "WORKFLOW_TABLE": "dev-Workflow",
                "MENU_TABLE": "dev-Menu",
                "USERS_TABLE": "dev-Users",
                "TENANT_ID": "200millas",
                "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                "SERVERLESS_SERVICE": "millas-backend",
                "SERVERLESS_STAGE": "dev",
                "AWS_ACCOUNT_ID": "722204368591"
              }
            },
            "Role": "arn:aws:iam::722204368591:role/LabRole"
          },
          "DependsOn": [
            "AssignDriverLogGroup"
          ]
        },
        "CompleteDeliveryLambdaFunction": {
          "Type": "AWS::Lambda::Function",
          "Properties": {
            "Code": {
              "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
              "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
            },
            "Handler": "services/workflow/step_functions_handlers.complete_delivery",
            "Runtime": "python3.12",
            "FunctionName": "millas-backend-dev-completeDelivery",
            "MemorySize": 1024,
            "Timeout": 30,
            "Environment": {
              "Variables": {
                "ORDERS_TABLE": "dev-Orders",
                "WORKFLOW_TABLE": "dev-Workflow",
                "MENU_TABLE": "dev-Menu",
                "USERS_TABLE": "dev-Users",
                "TENANT_ID": "200millas",
                "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                "SERVERLESS_SERVICE": "millas-backend",
                "SERVERLESS_STAGE": "dev",
                "AWS_ACCOUNT_ID": "722204368591"
              }
            },
            "Role": "arn:aws:iam::722204368591:role/LabRole"
          },
          "DependsOn": [
            "CompleteDeliveryLogGroup"
          ]
        },
        "HandleOrderFailureLambdaFunction": {
          "Type": "AWS::Lambda::Function",
          "Properties": {
            "Code": {
              "S3Bucket": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
              "S3Key": "serverless/millas-backend/dev/1764544522151-2025-11-30T23:15:22.151Z/millas-backend.zip"
            },
            "Handler": "services/workflow/step_functions_handlers.handle_order_failure",
            "Runtime": "python3.12",
            "FunctionName": "millas-backend-dev-handleOrderFailure",
            "MemorySize": 1024,
            "Timeout": 30,
            "Environment": {
              "Variables": {
                "ORDERS_TABLE": "dev-Orders",
                "WORKFLOW_TABLE": "dev-Workflow",
                "MENU_TABLE": "dev-Menu",
                "USERS_TABLE": "dev-Users",
                "TENANT_ID": "200millas",
                "MENU_IMAGES_BUCKET": "millas-backend-dev-menu-images",
                "EVENTBRIDGE_BUS": "millas-backend-dev-event-bus",
                "SERVERLESS_SERVICE": "millas-backend",
                "SERVERLESS_STAGE": "dev",
                "AWS_ACCOUNT_ID": "722204368591"
              }
            },
            "Role": "arn:aws:iam::722204368591:role/LabRole"
          },
          "DependsOn": [
            "HandleOrderFailureLogGroup"
          ]
        },
        "LoginLambdaVersionaphQJ9PIkJS7ZrmJk8c1lolToKTbzDO5VrhwjTgFG8": {
          "Type": "AWS::Lambda::Version",
          "DeletionPolicy": "Retain",
          "Properties": {
            "FunctionName": {
              "Ref": "LoginLambdaFunction"
            },
            "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
          }
        },
        "RegisterLambdaVersionbtpT0jyBSYjE0RJkHQR2GTwy5gkCU2wvvahYXzsvY": {
          "Type": "AWS::Lambda::Version",
          "DeletionPolicy": "Retain",
          "Properties": {
            "FunctionName": {
              "Ref": "RegisterLambdaFunction"
            },
            "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
          }
        },
        "AuthorizeLambdaVersion9kIZfxNyrtkhxR4ezdFExK1MgsGEp6VaaxaWHLFQw": {
          "Type": "AWS::Lambda::Version",
          "DeletionPolicy": "Retain",
          "Properties": {
            "FunctionName": {
              "Ref": "AuthorizeLambdaFunction"
            },
            "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
          }
        },
        "LogoutLambdaVersionxfx87mUNWSc4ZtDqjCFh7zgxZwIujel6tvnvY1aQ": {
          "Type": "AWS::Lambda::Version",
          "DeletionPolicy": "Retain",
          "Properties": {
            "FunctionName": {
              "Ref": "LogoutLambdaFunction"
            },
            "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
          }
        },
        "GetAvailableOrdersLambdaVersionwg2XpITl6o0z069gQccKnP8URDtfDsgqf7toansZ0": {
          "Type": "AWS::Lambda::Version",
          "DeletionPolicy": "Retain",
          "Properties": {
            "FunctionName": {
              "Ref": "GetAvailableOrdersLambdaFunction"
            },
            "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
          }
        },
        "GetAssignedOrdersLambdaVersionEz9of5EIujgXIYroQwX2pz1BQNOPrhNeLYsWTGl8WY": {
          "Type": "AWS::Lambda::Version",
          "DeletionPolicy": "Retain",
          "Properties": {
            "FunctionName": {
              "Ref": "GetAssignedOrdersLambdaFunction"
            },
            "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
          }
        },
        "GetOrderDetailLambdaVersionhTIbZeAmcDQIQTzwdEdCrPpG5lI5RS6EzG7dFo5v1A": {
          "Type": "AWS::Lambda::Version",
          "DeletionPolicy": "Retain",
          "Properties": {
            "FunctionName": {
              "Ref": "GetOrderDetailLambdaFunction"
            },
            "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
          }
        },
        "GetDriverStatsLambdaVersionZKyMwIuGbR3DYnL3g6cKTifmZJ0BKvZvrOVls4b1k": {
          "Type": "AWS::Lambda::Version",
          "DeletionPolicy": "Retain",
          "Properties": {
            "FunctionName": {
              "Ref": "GetDriverStatsLambdaFunction"
            },
            "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
          }
        },
        "GetDeliveryTimelineLambdaVersionogV7zN8ja8e90bjj8bCSixHEhSWfSpP99tgwCCe2I": {
          "Type": "AWS::Lambda::Version",
          "DeletionPolicy": "Retain",
          "Properties": {
            "FunctionName": {
              "Ref": "GetDeliveryTimelineLambdaFunction"
            },
            "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
          }
        },
        "CreateOrderLambdaVersion708X0aLFN6zSlouROuJM1wkaIrxbSFLSuL6gGARXqk": {
          "Type": "AWS::Lambda::Version",
          "DeletionPolicy": "Retain",
          "Properties": {
            "FunctionName": {
              "Ref": "CreateOrderLambdaFunction"
            },
            "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
          }
        },
        "GetOrdersLambdaVersionvMUX4oNCcSgdrmMPEut0gU4Kb1uPpYLfIGKAmcPwA": {
          "Type": "AWS::Lambda::Version",
          "DeletionPolicy": "Retain",
          "Properties": {
            "FunctionName": {
              "Ref": "GetOrdersLambdaFunction"
            },
            "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
          }
        },
        "GetOrderLambdaVersionXyr1z2lOrPcAD4YYEBnoaYOvwvRjRUfhKNZotWkLA8": {
          "Type": "AWS::Lambda::Version",
          "DeletionPolicy": "Retain",
          "Properties": {
            "FunctionName": {
              "Ref": "GetOrderLambdaFunction"
            },
            "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
          }
        },
        "GetDashboardLambdaVersionjyQzwC4lCgTQ4QoYkWVBkPBr4mLdAkVRnhgCKkCrs": {
          "Type": "AWS::Lambda::Version",
          "DeletionPolicy": "Retain",
          "Properties": {
            "FunctionName": {
              "Ref": "GetDashboardLambdaFunction"
            },
            "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
          }
        },
        "GetOrderTimelineLambdaVersionJCxZFUAw8r5zhbaVdN56fEMdqRptL4mU6zWlAu1oFw": {
          "Type": "AWS::Lambda::Version",
          "DeletionPolicy": "Retain",
          "Properties": {
            "FunctionName": {
              "Ref": "GetOrderTimelineLambdaFunction"
            },
            "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
          }
        },
        "GetStaffPerformanceLambdaVersionDLO6SjVc987YLfeCsru4QglAFcgYeXBiGqtCvdNp9sg": {
          "Type": "AWS::Lambda::Version",
          "DeletionPolicy": "Retain",
          "Properties": {
            "FunctionName": {
              "Ref": "GetStaffPerformanceLambdaFunction"
            },
            "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
          }
        },
        "GetCategoriesLambdaVersionz4Z4TaF72WGiMTQSpQ34wzLYSoEpIO2xDoTqgxJwiP8": {
          "Type": "AWS::Lambda::Version",
          "DeletionPolicy": "Retain",
          "Properties": {
            "FunctionName": {
              "Ref": "GetCategoriesLambdaFunction"
            },
            "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
          }
        },
        "GetItemsLambdaVersionfYjYkcJLP4Pk9FpStypNgsTo69fVkVSY7IhbX8Mc": {
          "Type": "AWS::Lambda::Version",
          "DeletionPolicy": "Retain",
          "Properties": {
            "FunctionName": {
              "Ref": "GetItemsLambdaFunction"
            },
            "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
          }
        },
        "UploadMenuImageLambdaVersionEewWJa4Aif27h1pInPa6wilbieIhHuATWuaXabb2FlU": {
          "Type": "AWS::Lambda::Version",
          "DeletionPolicy": "Retain",
          "Properties": {
            "FunctionName": {
              "Ref": "UploadMenuImageLambdaFunction"
            },
            "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
          }
        },
        "ConfirmOrderLambdaVersionIaVUZ1aWWcf83x9eK67oYI9cX5MuuRBvjWWKrcUOH8": {
          "Type": "AWS::Lambda::Version",
          "DeletionPolicy": "Retain",
          "Properties": {
            "FunctionName": {
              "Ref": "ConfirmOrderLambdaFunction"
            },
            "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
          }
        },
        "AssignCookLambdaVersionotdZlix7ZPMpnCvnPVL9nQOOOopfqfkcuZrrTlJiiRc": {
          "Type": "AWS::Lambda::Version",
          "DeletionPolicy": "Retain",
          "Properties": {
            "FunctionName": {
              "Ref": "AssignCookLambdaFunction"
            },
            "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
          }
        },
        "CompleteCookingLambdaVersionhYj0gAxmKtwRKTOCPIayUure0MfTX42aI2EIyejlWc": {
          "Type": "AWS::Lambda::Version",
          "DeletionPolicy": "Retain",
          "Properties": {
            "FunctionName": {
              "Ref": "CompleteCookingLambdaFunction"
            },
            "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
          }
        },
        "AssignDriverLambdaVersionBrqsPyY9rztOt28PJHOMFLWzdDUECrnzdkgIXmDH4": {
          "Type": "AWS::Lambda::Version",
          "DeletionPolicy": "Retain",
          "Properties": {
            "FunctionName": {
              "Ref": "AssignDriverLambdaFunction"
            },
            "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
          }
        },
        "CompleteDeliveryLambdaVersionqBFkmHtUTpGYhySC6MHfGU3s7UPia3cm0GSTHdubc": {
          "Type": "AWS::Lambda::Version",
          "DeletionPolicy": "Retain",
          "Properties": {
            "FunctionName": {
              "Ref": "CompleteDeliveryLambdaFunction"
            },
            "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
          }
        },
        "HandleOrderFailureLambdaVersionF5AelsDCEKAAVXARMiVgifIF0ZuwTgZx3QBsxszHY": {
          "Type": "AWS::Lambda::Version",
          "DeletionPolicy": "Retain",
          "Properties": {
            "FunctionName": {
              "Ref": "HandleOrderFailureLambdaFunction"
            },
            "CodeSha256": "jgnLsvSSv4yXUZ5uHhIyPnJCT9A5BBMXXGqiIScg+hE="
          }
        },
        "ApiGatewayRestApi": {
          "Type": "AWS::ApiGateway::RestApi",
          "Properties": {
            "Name": "dev-millas-backend",
            "EndpointConfiguration": {
              "Types": [
                "EDGE"
              ]
            },
            "Policy": ""
          }
        },
        "ApiGatewayResourceAuth": {
          "Type": "AWS::ApiGateway::Resource",
          "Properties": {
            "ParentId": {
              "Fn::GetAtt": [
                "ApiGatewayRestApi",
                "RootResourceId"
              ]
            },
            "PathPart": "auth",
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayResourceAuthLogin": {
          "Type": "AWS::ApiGateway::Resource",
          "Properties": {
            "ParentId": {
              "Ref": "ApiGatewayResourceAuth"
            },
            "PathPart": "login",
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayResourceAuthRegister": {
          "Type": "AWS::ApiGateway::Resource",
          "Properties": {
            "ParentId": {
              "Ref": "ApiGatewayResourceAuth"
            },
            "PathPart": "register",
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayResourceAuthLogout": {
          "Type": "AWS::ApiGateway::Resource",
          "Properties": {
            "ParentId": {
              "Ref": "ApiGatewayResourceAuth"
            },
            "PathPart": "logout",
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayResourceDriver": {
          "Type": "AWS::ApiGateway::Resource",
          "Properties": {
            "ParentId": {
              "Fn::GetAtt": [
                "ApiGatewayRestApi",
                "RootResourceId"
              ]
            },
            "PathPart": "driver",
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayResourceDriverAvailable": {
          "Type": "AWS::ApiGateway::Resource",
          "Properties": {
            "ParentId": {
              "Ref": "ApiGatewayResourceDriver"
            },
            "PathPart": "available",
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayResourceDriverAssigned": {
          "Type": "AWS::ApiGateway::Resource",
          "Properties": {
            "ParentId": {
              "Ref": "ApiGatewayResourceDriver"
            },
            "PathPart": "assigned",
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayResourceDriverOrders": {
          "Type": "AWS::ApiGateway::Resource",
          "Properties": {
            "ParentId": {
              "Ref": "ApiGatewayResourceDriver"
            },
            "PathPart": "orders",
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayResourceDriverOrdersOrderidVar": {
          "Type": "AWS::ApiGateway::Resource",
          "Properties": {
            "ParentId": {
              "Ref": "ApiGatewayResourceDriverOrders"
            },
            "PathPart": "{order_id}",
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayResourceDriverStats": {
          "Type": "AWS::ApiGateway::Resource",
          "Properties": {
            "ParentId": {
              "Ref": "ApiGatewayResourceDriver"
            },
            "PathPart": "stats",
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayResourceDriverTimeline": {
          "Type": "AWS::ApiGateway::Resource",
          "Properties": {
            "ParentId": {
              "Ref": "ApiGatewayResourceDriver"
            },
            "PathPart": "timeline",
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayResourceDriverTimelineOrderidVar": {
          "Type": "AWS::ApiGateway::Resource",
          "Properties": {
            "ParentId": {
              "Ref": "ApiGatewayResourceDriverTimeline"
            },
            "PathPart": "{order_id}",
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayResourceOrders": {
          "Type": "AWS::ApiGateway::Resource",
          "Properties": {
            "ParentId": {
              "Fn::GetAtt": [
                "ApiGatewayRestApi",
                "RootResourceId"
              ]
            },
            "PathPart": "orders",
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayResourceOrdersOrderidVar": {
          "Type": "AWS::ApiGateway::Resource",
          "Properties": {
            "ParentId": {
              "Ref": "ApiGatewayResourceOrders"
            },
            "PathPart": "{order_id}",
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayResourceDashboard": {
          "Type": "AWS::ApiGateway::Resource",
          "Properties": {
            "ParentId": {
              "Fn::GetAtt": [
                "ApiGatewayRestApi",
                "RootResourceId"
              ]
            },
            "PathPart": "dashboard",
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayResourceDashboardTimeline": {
          "Type": "AWS::ApiGateway::Resource",
          "Properties": {
            "ParentId": {
              "Ref": "ApiGatewayResourceDashboard"
            },
            "PathPart": "timeline",
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayResourceDashboardTimelineOrderidVar": {
          "Type": "AWS::ApiGateway::Resource",
          "Properties": {
            "ParentId": {
              "Ref": "ApiGatewayResourceDashboardTimeline"
            },
            "PathPart": "{order_id}",
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayResourceDashboardStaffDashperformance": {
          "Type": "AWS::ApiGateway::Resource",
          "Properties": {
            "ParentId": {
              "Ref": "ApiGatewayResourceDashboard"
            },
            "PathPart": "staff-performance",
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayResourceMenu": {
          "Type": "AWS::ApiGateway::Resource",
          "Properties": {
            "ParentId": {
              "Fn::GetAtt": [
                "ApiGatewayRestApi",
                "RootResourceId"
              ]
            },
            "PathPart": "menu",
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayResourceMenuCategories": {
          "Type": "AWS::ApiGateway::Resource",
          "Properties": {
            "ParentId": {
              "Ref": "ApiGatewayResourceMenu"
            },
            "PathPart": "categories",
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayResourceMenuItems": {
          "Type": "AWS::ApiGateway::Resource",
          "Properties": {
            "ParentId": {
              "Ref": "ApiGatewayResourceMenu"
            },
            "PathPart": "items",
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayResourceMenuUploadDashimage": {
          "Type": "AWS::ApiGateway::Resource",
          "Properties": {
            "ParentId": {
              "Ref": "ApiGatewayResourceMenu"
            },
            "PathPart": "upload-image",
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayMethodAuthLoginOptions": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "AuthorizationType": "NONE",
            "HttpMethod": "OPTIONS",
            "MethodResponses": [
              {
                "StatusCode": "200",
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true,
                  "method.response.header.Access-Control-Allow-Headers": true,
                  "method.response.header.Access-Control-Allow-Methods": true
                },
                "ResponseModels": {}
              }
            ],
            "RequestParameters": {},
            "Integration": {
              "Type": "MOCK",
              "RequestTemplates": {
                "application/json": "{statusCode:200}"
              },
              "ContentHandling": "CONVERT_TO_TEXT",
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'",
                    "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                    "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,POST'"
                  },
                  "ResponseTemplates": {
                    "application/json": ""
                  }
                }
              ]
            },
            "ResourceId": {
              "Ref": "ApiGatewayResourceAuthLogin"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayMethodAuthRegisterOptions": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "AuthorizationType": "NONE",
            "HttpMethod": "OPTIONS",
            "MethodResponses": [
              {
                "StatusCode": "200",
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true,
                  "method.response.header.Access-Control-Allow-Headers": true,
                  "method.response.header.Access-Control-Allow-Methods": true
                },
                "ResponseModels": {}
              }
            ],
            "RequestParameters": {},
            "Integration": {
              "Type": "MOCK",
              "RequestTemplates": {
                "application/json": "{statusCode:200}"
              },
              "ContentHandling": "CONVERT_TO_TEXT",
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'",
                    "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                    "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,POST'"
                  },
                  "ResponseTemplates": {
                    "application/json": ""
                  }
                }
              ]
            },
            "ResourceId": {
              "Ref": "ApiGatewayResourceAuthRegister"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayMethodAuthLogoutOptions": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "AuthorizationType": "NONE",
            "HttpMethod": "OPTIONS",
            "MethodResponses": [
              {
                "StatusCode": "200",
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true,
                  "method.response.header.Access-Control-Allow-Headers": true,
                  "method.response.header.Access-Control-Allow-Methods": true
                },
                "ResponseModels": {}
              }
            ],
            "RequestParameters": {},
            "Integration": {
              "Type": "MOCK",
              "RequestTemplates": {
                "application/json": "{statusCode:200}"
              },
              "ContentHandling": "CONVERT_TO_TEXT",
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'",
                    "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                    "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,POST'"
                  },
                  "ResponseTemplates": {
                    "application/json": ""
                  }
                }
              ]
            },
            "ResourceId": {
              "Ref": "ApiGatewayResourceAuthLogout"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayMethodDriverAvailableOptions": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "AuthorizationType": "NONE",
            "HttpMethod": "OPTIONS",
            "MethodResponses": [
              {
                "StatusCode": "200",
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true,
                  "method.response.header.Access-Control-Allow-Headers": true,
                  "method.response.header.Access-Control-Allow-Methods": true
                },
                "ResponseModels": {}
              }
            ],
            "RequestParameters": {},
            "Integration": {
              "Type": "MOCK",
              "RequestTemplates": {
                "application/json": "{statusCode:200}"
              },
              "ContentHandling": "CONVERT_TO_TEXT",
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'",
                    "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                    "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                  },
                  "ResponseTemplates": {
                    "application/json": ""
                  }
                }
              ]
            },
            "ResourceId": {
              "Ref": "ApiGatewayResourceDriverAvailable"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayMethodDriverAssignedOptions": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "AuthorizationType": "NONE",
            "HttpMethod": "OPTIONS",
            "MethodResponses": [
              {
                "StatusCode": "200",
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true,
                  "method.response.header.Access-Control-Allow-Headers": true,
                  "method.response.header.Access-Control-Allow-Methods": true
                },
                "ResponseModels": {}
              }
            ],
            "RequestParameters": {},
            "Integration": {
              "Type": "MOCK",
              "RequestTemplates": {
                "application/json": "{statusCode:200}"
              },
              "ContentHandling": "CONVERT_TO_TEXT",
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'",
                    "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                    "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                  },
                  "ResponseTemplates": {
                    "application/json": ""
                  }
                }
              ]
            },
            "ResourceId": {
              "Ref": "ApiGatewayResourceDriverAssigned"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayMethodDriverOrdersOrderidVarOptions": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "AuthorizationType": "NONE",
            "HttpMethod": "OPTIONS",
            "MethodResponses": [
              {
                "StatusCode": "200",
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true,
                  "method.response.header.Access-Control-Allow-Headers": true,
                  "method.response.header.Access-Control-Allow-Methods": true
                },
                "ResponseModels": {}
              }
            ],
            "RequestParameters": {},
            "Integration": {
              "Type": "MOCK",
              "RequestTemplates": {
                "application/json": "{statusCode:200}"
              },
              "ContentHandling": "CONVERT_TO_TEXT",
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'",
                    "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                    "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                  },
                  "ResponseTemplates": {
                    "application/json": ""
                  }
                }
              ]
            },
            "ResourceId": {
              "Ref": "ApiGatewayResourceDriverOrdersOrderidVar"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayMethodDriverStatsOptions": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "AuthorizationType": "NONE",
            "HttpMethod": "OPTIONS",
            "MethodResponses": [
              {
                "StatusCode": "200",
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true,
                  "method.response.header.Access-Control-Allow-Headers": true,
                  "method.response.header.Access-Control-Allow-Methods": true
                },
                "ResponseModels": {}
              }
            ],
            "RequestParameters": {},
            "Integration": {
              "Type": "MOCK",
              "RequestTemplates": {
                "application/json": "{statusCode:200}"
              },
              "ContentHandling": "CONVERT_TO_TEXT",
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'",
                    "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                    "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                  },
                  "ResponseTemplates": {
                    "application/json": ""
                  }
                }
              ]
            },
            "ResourceId": {
              "Ref": "ApiGatewayResourceDriverStats"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayMethodDriverTimelineOrderidVarOptions": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "AuthorizationType": "NONE",
            "HttpMethod": "OPTIONS",
            "MethodResponses": [
              {
                "StatusCode": "200",
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true,
                  "method.response.header.Access-Control-Allow-Headers": true,
                  "method.response.header.Access-Control-Allow-Methods": true
                },
                "ResponseModels": {}
              }
            ],
            "RequestParameters": {},
            "Integration": {
              "Type": "MOCK",
              "RequestTemplates": {
                "application/json": "{statusCode:200}"
              },
              "ContentHandling": "CONVERT_TO_TEXT",
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'",
                    "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                    "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                  },
                  "ResponseTemplates": {
                    "application/json": ""
                  }
                }
              ]
            },
            "ResourceId": {
              "Ref": "ApiGatewayResourceDriverTimelineOrderidVar"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayMethodOrdersOptions": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "AuthorizationType": "NONE",
            "HttpMethod": "OPTIONS",
            "MethodResponses": [
              {
                "StatusCode": "200",
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true,
                  "method.response.header.Access-Control-Allow-Headers": true,
                  "method.response.header.Access-Control-Allow-Methods": true
                },
                "ResponseModels": {}
              }
            ],
            "RequestParameters": {},
            "Integration": {
              "Type": "MOCK",
              "RequestTemplates": {
                "application/json": "{statusCode:200}"
              },
              "ContentHandling": "CONVERT_TO_TEXT",
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'",
                    "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                    "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,POST'"
                  },
                  "ResponseTemplates": {
                    "application/json": ""
                  }
                }
              ]
            },
            "ResourceId": {
              "Ref": "ApiGatewayResourceOrders"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayMethodOrdersOrderidVarOptions": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "AuthorizationType": "NONE",
            "HttpMethod": "OPTIONS",
            "MethodResponses": [
              {
                "StatusCode": "200",
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true,
                  "method.response.header.Access-Control-Allow-Headers": true,
                  "method.response.header.Access-Control-Allow-Methods": true
                },
                "ResponseModels": {}
              }
            ],
            "RequestParameters": {},
            "Integration": {
              "Type": "MOCK",
              "RequestTemplates": {
                "application/json": "{statusCode:200}"
              },
              "ContentHandling": "CONVERT_TO_TEXT",
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'",
                    "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                    "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                  },
                  "ResponseTemplates": {
                    "application/json": ""
                  }
                }
              ]
            },
            "ResourceId": {
              "Ref": "ApiGatewayResourceOrdersOrderidVar"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayMethodDashboardOptions": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "AuthorizationType": "NONE",
            "HttpMethod": "OPTIONS",
            "MethodResponses": [
              {
                "StatusCode": "200",
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true,
                  "method.response.header.Access-Control-Allow-Headers": true,
                  "method.response.header.Access-Control-Allow-Methods": true
                },
                "ResponseModels": {}
              }
            ],
            "RequestParameters": {},
            "Integration": {
              "Type": "MOCK",
              "RequestTemplates": {
                "application/json": "{statusCode:200}"
              },
              "ContentHandling": "CONVERT_TO_TEXT",
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'",
                    "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                    "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                  },
                  "ResponseTemplates": {
                    "application/json": ""
                  }
                }
              ]
            },
            "ResourceId": {
              "Ref": "ApiGatewayResourceDashboard"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayMethodDashboardTimelineOrderidVarOptions": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "AuthorizationType": "NONE",
            "HttpMethod": "OPTIONS",
            "MethodResponses": [
              {
                "StatusCode": "200",
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true,
                  "method.response.header.Access-Control-Allow-Headers": true,
                  "method.response.header.Access-Control-Allow-Methods": true
                },
                "ResponseModels": {}
              }
            ],
            "RequestParameters": {},
            "Integration": {
              "Type": "MOCK",
              "RequestTemplates": {
                "application/json": "{statusCode:200}"
              },
              "ContentHandling": "CONVERT_TO_TEXT",
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'",
                    "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                    "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                  },
                  "ResponseTemplates": {
                    "application/json": ""
                  }
                }
              ]
            },
            "ResourceId": {
              "Ref": "ApiGatewayResourceDashboardTimelineOrderidVar"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayMethodDashboardStaffDashperformanceOptions": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "AuthorizationType": "NONE",
            "HttpMethod": "OPTIONS",
            "MethodResponses": [
              {
                "StatusCode": "200",
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true,
                  "method.response.header.Access-Control-Allow-Headers": true,
                  "method.response.header.Access-Control-Allow-Methods": true
                },
                "ResponseModels": {}
              }
            ],
            "RequestParameters": {},
            "Integration": {
              "Type": "MOCK",
              "RequestTemplates": {
                "application/json": "{statusCode:200}"
              },
              "ContentHandling": "CONVERT_TO_TEXT",
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'",
                    "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                    "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                  },
                  "ResponseTemplates": {
                    "application/json": ""
                  }
                }
              ]
            },
            "ResourceId": {
              "Ref": "ApiGatewayResourceDashboardStaffDashperformance"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayMethodMenuCategoriesOptions": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "AuthorizationType": "NONE",
            "HttpMethod": "OPTIONS",
            "MethodResponses": [
              {
                "StatusCode": "200",
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true,
                  "method.response.header.Access-Control-Allow-Headers": true,
                  "method.response.header.Access-Control-Allow-Methods": true
                },
                "ResponseModels": {}
              }
            ],
            "RequestParameters": {},
            "Integration": {
              "Type": "MOCK",
              "RequestTemplates": {
                "application/json": "{statusCode:200}"
              },
              "ContentHandling": "CONVERT_TO_TEXT",
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'",
                    "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                    "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                  },
                  "ResponseTemplates": {
                    "application/json": ""
                  }
                }
              ]
            },
            "ResourceId": {
              "Ref": "ApiGatewayResourceMenuCategories"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayMethodMenuItemsOptions": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "AuthorizationType": "NONE",
            "HttpMethod": "OPTIONS",
            "MethodResponses": [
              {
                "StatusCode": "200",
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true,
                  "method.response.header.Access-Control-Allow-Headers": true,
                  "method.response.header.Access-Control-Allow-Methods": true
                },
                "ResponseModels": {}
              }
            ],
            "RequestParameters": {},
            "Integration": {
              "Type": "MOCK",
              "RequestTemplates": {
                "application/json": "{statusCode:200}"
              },
              "ContentHandling": "CONVERT_TO_TEXT",
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'",
                    "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                    "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                  },
                  "ResponseTemplates": {
                    "application/json": ""
                  }
                }
              ]
            },
            "ResourceId": {
              "Ref": "ApiGatewayResourceMenuItems"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayMethodMenuUploadDashimageOptions": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "AuthorizationType": "NONE",
            "HttpMethod": "OPTIONS",
            "MethodResponses": [
              {
                "StatusCode": "200",
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true,
                  "method.response.header.Access-Control-Allow-Headers": true,
                  "method.response.header.Access-Control-Allow-Methods": true
                },
                "ResponseModels": {}
              }
            ],
            "RequestParameters": {},
            "Integration": {
              "Type": "MOCK",
              "RequestTemplates": {
                "application/json": "{statusCode:200}"
              },
              "ContentHandling": "CONVERT_TO_TEXT",
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'",
                    "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Amzn-Trace-Id'",
                    "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,POST'"
                  },
                  "ResponseTemplates": {
                    "application/json": ""
                  }
                }
              ]
            },
            "ResourceId": {
              "Ref": "ApiGatewayResourceMenuUploadDashimage"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            }
          }
        },
        "ApiGatewayMethodAuthLoginPost": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "HttpMethod": "POST",
            "RequestParameters": {},
            "ResourceId": {
              "Ref": "ApiGatewayResourceAuthLogin"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            },
            "ApiKeyRequired": "<REDACTED>",
            "AuthorizationType": "NONE",
            "Integration": {
              "IntegrationHttpMethod": "POST",
              "Type": "AWS",
              "Uri": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":apigateway:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":lambda:path/2015-03-31/functions/",
                    {
                      "Fn::GetAtt": [
                        "LoginLambdaFunction",
                        "Arn"
                      ]
                    },
                    "/invocations"
                  ]
                ]
              },
              "PassthroughBehavior": "NEVER",
              "RequestTemplates": {
                "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
              },
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "SelectionPattern": "",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "400",
                  "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "401",
                  "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "403",
                  "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "404",
                  "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "422",
                  "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "500",
                  "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "502",
                  "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "504",
                  "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                }
              ]
            },
            "MethodResponses": [
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "200"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "400"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "401"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "403"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "404"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "422"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "500"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "502"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "504"
              }
            ]
          },
          "DependsOn": [
            "LoginLambdaPermissionApiGateway"
          ]
        },
        "ApiGatewayMethodAuthRegisterPost": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "HttpMethod": "POST",
            "RequestParameters": {},
            "ResourceId": {
              "Ref": "ApiGatewayResourceAuthRegister"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            },
            "ApiKeyRequired": "<REDACTED>",
            "AuthorizationType": "NONE",
            "Integration": {
              "IntegrationHttpMethod": "POST",
              "Type": "AWS",
              "Uri": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":apigateway:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":lambda:path/2015-03-31/functions/",
                    {
                      "Fn::GetAtt": [
                        "RegisterLambdaFunction",
                        "Arn"
                      ]
                    },
                    "/invocations"
                  ]
                ]
              },
              "PassthroughBehavior": "NEVER",
              "RequestTemplates": {
                "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
              },
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "SelectionPattern": "",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "400",
                  "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "401",
                  "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "403",
                  "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "404",
                  "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "422",
                  "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "500",
                  "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "502",
                  "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "504",
                  "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                }
              ]
            },
            "MethodResponses": [
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "200"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "400"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "401"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "403"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "404"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "422"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "500"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "502"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "504"
              }
            ]
          },
          "DependsOn": [
            "RegisterLambdaPermissionApiGateway"
          ]
        },
        "ApiGatewayMethodAuthLogoutPost": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "HttpMethod": "POST",
            "RequestParameters": {},
            "ResourceId": {
              "Ref": "ApiGatewayResourceAuthLogout"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            },
            "ApiKeyRequired": "<REDACTED>",
            "AuthorizationType": "CUSTOM",
            "AuthorizerId": {
              "Ref": "AuthorizeApiGatewayAuthorizer"
            },
            "Integration": {
              "IntegrationHttpMethod": "POST",
              "Type": "AWS",
              "Uri": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":apigateway:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":lambda:path/2015-03-31/functions/",
                    {
                      "Fn::GetAtt": [
                        "LogoutLambdaFunction",
                        "Arn"
                      ]
                    },
                    "/invocations"
                  ]
                ]
              },
              "PassthroughBehavior": "NEVER",
              "RequestTemplates": {
                "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
              },
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "SelectionPattern": "",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "400",
                  "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "401",
                  "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "403",
                  "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "404",
                  "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "422",
                  "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "500",
                  "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "502",
                  "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "504",
                  "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                }
              ]
            },
            "MethodResponses": [
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "200"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "400"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "401"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "403"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "404"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "422"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "500"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "502"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "504"
              }
            ]
          },
          "DependsOn": [
            "AuthorizeApiGatewayAuthorizer"
          ]
        },
        "ApiGatewayMethodDriverAvailableGet": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "HttpMethod": "GET",
            "RequestParameters": {},
            "ResourceId": {
              "Ref": "ApiGatewayResourceDriverAvailable"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            },
            "ApiKeyRequired": "<REDACTED>",
            "AuthorizationType": "CUSTOM",
            "AuthorizerId": {
              "Ref": "AuthorizeApiGatewayAuthorizer"
            },
            "Integration": {
              "IntegrationHttpMethod": "POST",
              "Type": "AWS",
              "Uri": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":apigateway:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":lambda:path/2015-03-31/functions/",
                    {
                      "Fn::GetAtt": [
                        "GetAvailableOrdersLambdaFunction",
                        "Arn"
                      ]
                    },
                    "/invocations"
                  ]
                ]
              },
              "PassthroughBehavior": "NEVER",
              "RequestTemplates": {
                "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
              },
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "SelectionPattern": "",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "400",
                  "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "401",
                  "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "403",
                  "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "404",
                  "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "422",
                  "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "500",
                  "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "502",
                  "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "504",
                  "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                }
              ]
            },
            "MethodResponses": [
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "200"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "400"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "401"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "403"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "404"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "422"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "500"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "502"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "504"
              }
            ]
          },
          "DependsOn": [
            "AuthorizeApiGatewayAuthorizer"
          ]
        },
        "ApiGatewayMethodDriverAssignedGet": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "HttpMethod": "GET",
            "RequestParameters": {},
            "ResourceId": {
              "Ref": "ApiGatewayResourceDriverAssigned"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            },
            "ApiKeyRequired": "<REDACTED>",
            "AuthorizationType": "CUSTOM",
            "AuthorizerId": {
              "Ref": "AuthorizeApiGatewayAuthorizer"
            },
            "Integration": {
              "IntegrationHttpMethod": "POST",
              "Type": "AWS",
              "Uri": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":apigateway:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":lambda:path/2015-03-31/functions/",
                    {
                      "Fn::GetAtt": [
                        "GetAssignedOrdersLambdaFunction",
                        "Arn"
                      ]
                    },
                    "/invocations"
                  ]
                ]
              },
              "PassthroughBehavior": "NEVER",
              "RequestTemplates": {
                "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
              },
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "SelectionPattern": "",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "400",
                  "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "401",
                  "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "403",
                  "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "404",
                  "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "422",
                  "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "500",
                  "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "502",
                  "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "504",
                  "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                }
              ]
            },
            "MethodResponses": [
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "200"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "400"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "401"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "403"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "404"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "422"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "500"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "502"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "504"
              }
            ]
          },
          "DependsOn": [
            "AuthorizeApiGatewayAuthorizer"
          ]
        },
        "ApiGatewayMethodDriverOrdersOrderidVarGet": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "HttpMethod": "GET",
            "RequestParameters": {},
            "ResourceId": {
              "Ref": "ApiGatewayResourceDriverOrdersOrderidVar"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            },
            "ApiKeyRequired": "<REDACTED>",
            "AuthorizationType": "CUSTOM",
            "AuthorizerId": {
              "Ref": "AuthorizeApiGatewayAuthorizer"
            },
            "Integration": {
              "IntegrationHttpMethod": "POST",
              "Type": "AWS",
              "Uri": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":apigateway:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":lambda:path/2015-03-31/functions/",
                    {
                      "Fn::GetAtt": [
                        "GetOrderDetailLambdaFunction",
                        "Arn"
                      ]
                    },
                    "/invocations"
                  ]
                ]
              },
              "PassthroughBehavior": "NEVER",
              "RequestTemplates": {
                "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
              },
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "SelectionPattern": "",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "400",
                  "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "401",
                  "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "403",
                  "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "404",
                  "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "422",
                  "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "500",
                  "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "502",
                  "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "504",
                  "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                }
              ]
            },
            "MethodResponses": [
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "200"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "400"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "401"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "403"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "404"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "422"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "500"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "502"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "504"
              }
            ]
          },
          "DependsOn": [
            "AuthorizeApiGatewayAuthorizer"
          ]
        },
        "ApiGatewayMethodDriverStatsGet": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "HttpMethod": "GET",
            "RequestParameters": {},
            "ResourceId": {
              "Ref": "ApiGatewayResourceDriverStats"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            },
            "ApiKeyRequired": "<REDACTED>",
            "AuthorizationType": "CUSTOM",
            "AuthorizerId": {
              "Ref": "AuthorizeApiGatewayAuthorizer"
            },
            "Integration": {
              "IntegrationHttpMethod": "POST",
              "Type": "AWS",
              "Uri": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":apigateway:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":lambda:path/2015-03-31/functions/",
                    {
                      "Fn::GetAtt": [
                        "GetDriverStatsLambdaFunction",
                        "Arn"
                      ]
                    },
                    "/invocations"
                  ]
                ]
              },
              "PassthroughBehavior": "NEVER",
              "RequestTemplates": {
                "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
              },
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "SelectionPattern": "",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "400",
                  "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "401",
                  "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "403",
                  "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "404",
                  "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "422",
                  "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "500",
                  "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "502",
                  "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "504",
                  "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                }
              ]
            },
            "MethodResponses": [
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "200"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "400"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "401"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "403"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "404"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "422"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "500"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "502"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "504"
              }
            ]
          },
          "DependsOn": [
            "AuthorizeApiGatewayAuthorizer"
          ]
        },
        "ApiGatewayMethodDriverTimelineOrderidVarGet": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "HttpMethod": "GET",
            "RequestParameters": {},
            "ResourceId": {
              "Ref": "ApiGatewayResourceDriverTimelineOrderidVar"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            },
            "ApiKeyRequired": "<REDACTED>",
            "AuthorizationType": "CUSTOM",
            "AuthorizerId": {
              "Ref": "AuthorizeApiGatewayAuthorizer"
            },
            "Integration": {
              "IntegrationHttpMethod": "POST",
              "Type": "AWS",
              "Uri": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":apigateway:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":lambda:path/2015-03-31/functions/",
                    {
                      "Fn::GetAtt": [
                        "GetDeliveryTimelineLambdaFunction",
                        "Arn"
                      ]
                    },
                    "/invocations"
                  ]
                ]
              },
              "PassthroughBehavior": "NEVER",
              "RequestTemplates": {
                "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
              },
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "SelectionPattern": "",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "400",
                  "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "401",
                  "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "403",
                  "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "404",
                  "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "422",
                  "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "500",
                  "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "502",
                  "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "504",
                  "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                }
              ]
            },
            "MethodResponses": [
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "200"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "400"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "401"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "403"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "404"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "422"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "500"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "502"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "504"
              }
            ]
          },
          "DependsOn": [
            "AuthorizeApiGatewayAuthorizer"
          ]
        },
        "ApiGatewayMethodOrdersPost": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "HttpMethod": "POST",
            "RequestParameters": {},
            "ResourceId": {
              "Ref": "ApiGatewayResourceOrders"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            },
            "ApiKeyRequired": "<REDACTED>",
            "AuthorizationType": "CUSTOM",
            "AuthorizerId": {
              "Ref": "AuthorizeApiGatewayAuthorizer"
            },
            "Integration": {
              "IntegrationHttpMethod": "POST",
              "Type": "AWS",
              "Uri": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":apigateway:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":lambda:path/2015-03-31/functions/",
                    {
                      "Fn::GetAtt": [
                        "CreateOrderLambdaFunction",
                        "Arn"
                      ]
                    },
                    "/invocations"
                  ]
                ]
              },
              "PassthroughBehavior": "NEVER",
              "RequestTemplates": {
                "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
              },
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "SelectionPattern": "",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "400",
                  "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "401",
                  "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "403",
                  "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "404",
                  "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "422",
                  "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "500",
                  "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "502",
                  "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "504",
                  "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                }
              ]
            },
            "MethodResponses": [
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "200"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "400"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "401"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "403"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "404"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "422"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "500"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "502"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "504"
              }
            ]
          },
          "DependsOn": [
            "AuthorizeApiGatewayAuthorizer"
          ]
        },
        "ApiGatewayMethodOrdersGet": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "HttpMethod": "GET",
            "RequestParameters": {},
            "ResourceId": {
              "Ref": "ApiGatewayResourceOrders"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            },
            "ApiKeyRequired": "<REDACTED>",
            "AuthorizationType": "CUSTOM",
            "AuthorizerId": {
              "Ref": "AuthorizeApiGatewayAuthorizer"
            },
            "Integration": {
              "IntegrationHttpMethod": "POST",
              "Type": "AWS",
              "Uri": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":apigateway:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":lambda:path/2015-03-31/functions/",
                    {
                      "Fn::GetAtt": [
                        "GetOrdersLambdaFunction",
                        "Arn"
                      ]
                    },
                    "/invocations"
                  ]
                ]
              },
              "PassthroughBehavior": "NEVER",
              "RequestTemplates": {
                "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
              },
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "SelectionPattern": "",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "400",
                  "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "401",
                  "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "403",
                  "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "404",
                  "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "422",
                  "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "500",
                  "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "502",
                  "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "504",
                  "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                }
              ]
            },
            "MethodResponses": [
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "200"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "400"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "401"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "403"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "404"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "422"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "500"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "502"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "504"
              }
            ]
          },
          "DependsOn": [
            "AuthorizeApiGatewayAuthorizer"
          ]
        },
        "ApiGatewayMethodOrdersOrderidVarGet": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "HttpMethod": "GET",
            "RequestParameters": {},
            "ResourceId": {
              "Ref": "ApiGatewayResourceOrdersOrderidVar"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            },
            "ApiKeyRequired": "<REDACTED>",
            "AuthorizationType": "CUSTOM",
            "AuthorizerId": {
              "Ref": "AuthorizeApiGatewayAuthorizer"
            },
            "Integration": {
              "IntegrationHttpMethod": "POST",
              "Type": "AWS",
              "Uri": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":apigateway:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":lambda:path/2015-03-31/functions/",
                    {
                      "Fn::GetAtt": [
                        "GetOrderLambdaFunction",
                        "Arn"
                      ]
                    },
                    "/invocations"
                  ]
                ]
              },
              "PassthroughBehavior": "NEVER",
              "RequestTemplates": {
                "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
              },
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "SelectionPattern": "",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "400",
                  "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "401",
                  "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "403",
                  "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "404",
                  "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "422",
                  "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "500",
                  "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "502",
                  "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "504",
                  "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                }
              ]
            },
            "MethodResponses": [
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "200"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "400"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "401"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "403"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "404"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "422"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "500"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "502"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "504"
              }
            ]
          },
          "DependsOn": [
            "AuthorizeApiGatewayAuthorizer"
          ]
        },
        "ApiGatewayMethodDashboardGet": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "HttpMethod": "GET",
            "RequestParameters": {},
            "ResourceId": {
              "Ref": "ApiGatewayResourceDashboard"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            },
            "ApiKeyRequired": "<REDACTED>",
            "AuthorizationType": "CUSTOM",
            "AuthorizerId": {
              "Ref": "AuthorizeApiGatewayAuthorizer"
            },
            "Integration": {
              "IntegrationHttpMethod": "POST",
              "Type": "AWS",
              "Uri": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":apigateway:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":lambda:path/2015-03-31/functions/",
                    {
                      "Fn::GetAtt": [
                        "GetDashboardLambdaFunction",
                        "Arn"
                      ]
                    },
                    "/invocations"
                  ]
                ]
              },
              "PassthroughBehavior": "NEVER",
              "RequestTemplates": {
                "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
              },
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "SelectionPattern": "",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "400",
                  "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "401",
                  "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "403",
                  "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "404",
                  "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "422",
                  "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "500",
                  "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "502",
                  "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "504",
                  "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                }
              ]
            },
            "MethodResponses": [
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "200"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "400"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "401"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "403"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "404"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "422"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "500"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "502"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "504"
              }
            ]
          },
          "DependsOn": [
            "AuthorizeApiGatewayAuthorizer"
          ]
        },
        "ApiGatewayMethodDashboardTimelineOrderidVarGet": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "HttpMethod": "GET",
            "RequestParameters": {},
            "ResourceId": {
              "Ref": "ApiGatewayResourceDashboardTimelineOrderidVar"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            },
            "ApiKeyRequired": "<REDACTED>",
            "AuthorizationType": "CUSTOM",
            "AuthorizerId": {
              "Ref": "AuthorizeApiGatewayAuthorizer"
            },
            "Integration": {
              "IntegrationHttpMethod": "POST",
              "Type": "AWS",
              "Uri": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":apigateway:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":lambda:path/2015-03-31/functions/",
                    {
                      "Fn::GetAtt": [
                        "GetOrderTimelineLambdaFunction",
                        "Arn"
                      ]
                    },
                    "/invocations"
                  ]
                ]
              },
              "PassthroughBehavior": "NEVER",
              "RequestTemplates": {
                "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
              },
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "SelectionPattern": "",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "400",
                  "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "401",
                  "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "403",
                  "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "404",
                  "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "422",
                  "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "500",
                  "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "502",
                  "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "504",
                  "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                }
              ]
            },
            "MethodResponses": [
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "200"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "400"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "401"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "403"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "404"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "422"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "500"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "502"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "504"
              }
            ]
          },
          "DependsOn": [
            "AuthorizeApiGatewayAuthorizer"
          ]
        },
        "ApiGatewayMethodDashboardStaffDashperformanceGet": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "HttpMethod": "GET",
            "RequestParameters": {},
            "ResourceId": {
              "Ref": "ApiGatewayResourceDashboardStaffDashperformance"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            },
            "ApiKeyRequired": "<REDACTED>",
            "AuthorizationType": "CUSTOM",
            "AuthorizerId": {
              "Ref": "AuthorizeApiGatewayAuthorizer"
            },
            "Integration": {
              "IntegrationHttpMethod": "POST",
              "Type": "AWS",
              "Uri": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":apigateway:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":lambda:path/2015-03-31/functions/",
                    {
                      "Fn::GetAtt": [
                        "GetStaffPerformanceLambdaFunction",
                        "Arn"
                      ]
                    },
                    "/invocations"
                  ]
                ]
              },
              "PassthroughBehavior": "NEVER",
              "RequestTemplates": {
                "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
              },
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "SelectionPattern": "",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "400",
                  "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "401",
                  "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "403",
                  "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "404",
                  "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "422",
                  "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "500",
                  "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "502",
                  "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "504",
                  "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                }
              ]
            },
            "MethodResponses": [
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "200"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "400"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "401"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "403"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "404"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "422"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "500"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "502"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "504"
              }
            ]
          },
          "DependsOn": [
            "AuthorizeApiGatewayAuthorizer"
          ]
        },
        "ApiGatewayMethodMenuCategoriesGet": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "HttpMethod": "GET",
            "RequestParameters": {},
            "ResourceId": {
              "Ref": "ApiGatewayResourceMenuCategories"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            },
            "ApiKeyRequired": "<REDACTED>",
            "AuthorizationType": "NONE",
            "Integration": {
              "IntegrationHttpMethod": "POST",
              "Type": "AWS",
              "Uri": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":apigateway:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":lambda:path/2015-03-31/functions/",
                    {
                      "Fn::GetAtt": [
                        "GetCategoriesLambdaFunction",
                        "Arn"
                      ]
                    },
                    "/invocations"
                  ]
                ]
              },
              "PassthroughBehavior": "NEVER",
              "RequestTemplates": {
                "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
              },
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "SelectionPattern": "",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "400",
                  "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "401",
                  "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "403",
                  "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "404",
                  "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "422",
                  "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "500",
                  "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "502",
                  "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "504",
                  "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                }
              ]
            },
            "MethodResponses": [
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "200"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "400"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "401"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "403"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "404"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "422"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "500"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "502"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "504"
              }
            ]
          },
          "DependsOn": [
            "GetCategoriesLambdaPermissionApiGateway"
          ]
        },
        "ApiGatewayMethodMenuItemsGet": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "HttpMethod": "GET",
            "RequestParameters": {},
            "ResourceId": {
              "Ref": "ApiGatewayResourceMenuItems"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            },
            "ApiKeyRequired": "<REDACTED>",
            "AuthorizationType": "NONE",
            "Integration": {
              "IntegrationHttpMethod": "POST",
              "Type": "AWS",
              "Uri": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":apigateway:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":lambda:path/2015-03-31/functions/",
                    {
                      "Fn::GetAtt": [
                        "GetItemsLambdaFunction",
                        "Arn"
                      ]
                    },
                    "/invocations"
                  ]
                ]
              },
              "PassthroughBehavior": "NEVER",
              "RequestTemplates": {
                "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
              },
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "SelectionPattern": "",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "400",
                  "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "401",
                  "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "403",
                  "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "404",
                  "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "422",
                  "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "500",
                  "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "502",
                  "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "504",
                  "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                }
              ]
            },
            "MethodResponses": [
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "200"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "400"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "401"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "403"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "404"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "422"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "500"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "502"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "504"
              }
            ]
          },
          "DependsOn": [
            "GetItemsLambdaPermissionApiGateway"
          ]
        },
        "ApiGatewayMethodMenuUploadDashimagePost": {
          "Type": "AWS::ApiGateway::Method",
          "Properties": {
            "HttpMethod": "POST",
            "RequestParameters": {},
            "ResourceId": {
              "Ref": "ApiGatewayResourceMenuUploadDashimage"
            },
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            },
            "ApiKeyRequired": "<REDACTED>",
            "AuthorizationType": "CUSTOM",
            "AuthorizerId": {
              "Ref": "AuthorizeApiGatewayAuthorizer"
            },
            "Integration": {
              "IntegrationHttpMethod": "POST",
              "Type": "AWS",
              "Uri": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":apigateway:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":lambda:path/2015-03-31/functions/",
                    {
                      "Fn::GetAtt": [
                        "UploadMenuImageLambdaFunction",
                        "Arn"
                      ]
                    },
                    "/invocations"
                  ]
                ]
              },
              "PassthroughBehavior": "NEVER",
              "RequestTemplates": {
                "application/json": "\n    #set( $body = $input.json(\"$\") )\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  ",
                "application/x-www-form-urlencoded": "\n    #define( $body )\n      {\n      #foreach( $token in $input.path('$').split('&') )\n        #set( $keyVal = $token.split('=') )\n        #set( $keyValSize = $keyVal.size() )\n        #if( $keyValSize >= 1 )\n          #set( $key = $util.escapeJavaScript($util.urlDecode($keyVal[0])) )\n          #if( $keyValSize >= 2 )\n            #set($val = $util.escapeJavaScript($util.urlDecode($keyVal[1])).replaceAll(\"\\\\'\",\"'\"))\n          #else\n            #set( $val = '' )\n          #end\n          \"$key\": \"$val\"#if($foreach.hasNext),#end\n        #end\n      #end\n      }\n    #end\n\n    \n  #define( $loop )\n    {\n    #foreach($key in $map.keySet())\n        #set( $k = $util.escapeJavaScript($key) )\n        #set( $v = $util.escapeJavaScript($map.get($key)).replaceAll(\"\\\\'\", \"'\") )\n        \"$k\":\n          \"$v\"\n          #if( $foreach.hasNext ) , #end\n    #end\n    }\n  #end\n\n  {\n    \"body\": $body,\n    \"method\": \"$context.httpMethod\",\n    \"principalId\": \"$context.authorizer.principalId\",\n    \"stage\": \"$context.stage\",\n\n    \"cognitoPoolClaims\" : {\n       \n       \"sub\": \"$context.authorizer.claims.sub\"\n    },\n\n    #set( $map = $context.authorizer )\n    \"enhancedAuthContext\": $loop,\n\n    #set( $map = $input.params().header )\n    \"headers\": $loop,\n\n    #set( $map = $input.params().querystring )\n    \"query\": $loop,\n\n    #set( $map = $input.params().path )\n    \"path\": $loop,\n\n    #set( $map = $context.identity )\n    \"identity\": $loop,\n\n    #set( $map = $stageVariables )\n    \"stageVariables\": $loop,\n\n    \"requestPath\": \"$context.resourcePath\"\n  }\n\n  "
              },
              "IntegrationResponses": [
                {
                  "StatusCode": "200",
                  "SelectionPattern": "",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "400",
                  "SelectionPattern": "[\\s\\S]*\\[400\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "401",
                  "SelectionPattern": "[\\s\\S]*\\[401\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "403",
                  "SelectionPattern": "[\\s\\S]*\\[403\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "404",
                  "SelectionPattern": "[\\s\\S]*\\[404\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "422",
                  "SelectionPattern": "[\\s\\S]*\\[422\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "500",
                  "SelectionPattern": "[\\s\\S]*(Process\\s?exited\\s?before\\s?completing\\s?request|\\[500\\])[\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "502",
                  "SelectionPattern": "[\\s\\S]*\\[502\\][\\s\\S]*",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                },
                {
                  "StatusCode": "504",
                  "SelectionPattern": "([\\s\\S]*\\[504\\][\\s\\S]*)|(.*Task timed out after \\d+\\.\\d+ seconds$)",
                  "ResponseParameters": {
                    "method.response.header.Access-Control-Allow-Origin": "'*'"
                  },
                  "ResponseTemplates": {}
                }
              ]
            },
            "MethodResponses": [
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "200"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "400"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "401"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "403"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "404"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "422"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "500"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "502"
              },
              {
                "ResponseParameters": {
                  "method.response.header.Access-Control-Allow-Origin": true
                },
                "ResponseModels": {},
                "StatusCode": "504"
              }
            ]
          },
          "DependsOn": [
            "AuthorizeApiGatewayAuthorizer"
          ]
        },
        "AuthorizeApiGatewayAuthorizer": {
          "Type": "AWS::ApiGateway::Authorizer",
          "Properties": {
            "AuthorizerResultTtlInSeconds": 300,
            "IdentitySource": "method.request.header.Authorization",
            "Name": "authorize",
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            },
            "AuthorizerUri": {
              "Fn::Join": [
                "",
                [
                  "arn:",
                  {
                    "Ref": "AWS::Partition"
                  },
                  ":apigateway:",
                  {
                    "Ref": "AWS::Region"
                  },
                  ":lambda:path/2015-03-31/functions/",
                  {
                    "Fn::GetAtt": [
                      "AuthorizeLambdaFunction",
                      "Arn"
                    ]
                  },
                  "/invocations"
                ]
              ]
            },
            "Type": "TOKEN"
          }
        },
        "ApiGatewayDeployment1764544497269": {
          "Type": "AWS::ApiGateway::Deployment",
          "Properties": {
            "RestApiId": {
              "Ref": "ApiGatewayRestApi"
            },
            "StageName": "dev"
          },
          "DependsOn": [
            "ApiGatewayMethodAuthLoginOptions",
            "ApiGatewayMethodAuthRegisterOptions",
            "ApiGatewayMethodAuthLogoutOptions",
            "ApiGatewayMethodDriverAvailableOptions",
            "ApiGatewayMethodDriverAssignedOptions",
            "ApiGatewayMethodDriverOrdersOrderidVarOptions",
            "ApiGatewayMethodDriverStatsOptions",
            "ApiGatewayMethodDriverTimelineOrderidVarOptions",
            "ApiGatewayMethodOrdersOptions",
            "ApiGatewayMethodOrdersOrderidVarOptions",
            "ApiGatewayMethodDashboardOptions",
            "ApiGatewayMethodDashboardTimelineOrderidVarOptions",
            "ApiGatewayMethodDashboardStaffDashperformanceOptions",
            "ApiGatewayMethodMenuCategoriesOptions",
            "ApiGatewayMethodMenuItemsOptions",
            "ApiGatewayMethodMenuUploadDashimageOptions",
            "ApiGatewayMethodAuthLoginPost",
            "ApiGatewayMethodAuthRegisterPost",
            "ApiGatewayMethodAuthLogoutPost",
            "ApiGatewayMethodDriverAvailableGet",
            "ApiGatewayMethodDriverAssignedGet",
            "ApiGatewayMethodDriverOrdersOrderidVarGet",
            "ApiGatewayMethodDriverStatsGet",
            "ApiGatewayMethodDriverTimelineOrderidVarGet",
            "ApiGatewayMethodOrdersPost",
            "ApiGatewayMethodOrdersGet",
            "ApiGatewayMethodOrdersOrderidVarGet",
            "ApiGatewayMethodDashboardGet",
            "ApiGatewayMethodDashboardTimelineOrderidVarGet",
            "ApiGatewayMethodDashboardStaffDashperformanceGet",
            "ApiGatewayMethodMenuCategoriesGet",
            "ApiGatewayMethodMenuItemsGet",
            "ApiGatewayMethodMenuUploadDashimagePost"
          ]
        },
        "LoginLambdaPermissionApiGateway": {
          "Type": "AWS::Lambda::Permission",
          "Properties": {
            "FunctionName": {
              "Fn::GetAtt": [
                "LoginLambdaFunction",
                "Arn"
              ]
            },
            "Action": "lambda:InvokeFunction",
            "Principal": "apigateway.amazonaws.com",
            "SourceArn": {
              "Fn::Join": [
                "",
                [
                  "arn:",
                  {
                    "Ref": "AWS::Partition"
                  },
                  ":execute-api:",
                  {
                    "Ref": "AWS::Region"
                  },
                  ":",
                  {
                    "Ref": "AWS::AccountId"
                  },
                  ":",
                  {
                    "Ref": "ApiGatewayRestApi"
                  },
                  "/*/*"
                ]
              ]
            }
          }
        },
        "RegisterLambdaPermissionApiGateway": {
          "Type": "AWS::Lambda::Permission",
          "Properties": {
            "FunctionName": {
              "Fn::GetAtt": [
                "RegisterLambdaFunction",
                "Arn"
              ]
            },
            "Action": "lambda:InvokeFunction",
            "Principal": "apigateway.amazonaws.com",
            "SourceArn": {
              "Fn::Join": [
                "",
                [
                  "arn:",
                  {
                    "Ref": "AWS::Partition"
                  },
                  ":execute-api:",
                  {
                    "Ref": "AWS::Region"
                  },
                  ":",
                  {
                    "Ref": "AWS::AccountId"
                  },
                  ":",
                  {
                    "Ref": "ApiGatewayRestApi"
                  },
                  "/*/*"
                ]
              ]
            }
          }
        },
        "LogoutLambdaPermissionApiGateway": {
          "Type": "AWS::Lambda::Permission",
          "Properties": {
            "FunctionName": {
              "Fn::GetAtt": [
                "LogoutLambdaFunction",
                "Arn"
              ]
            },
            "Action": "lambda:InvokeFunction",
            "Principal": "apigateway.amazonaws.com",
            "SourceArn": {
              "Fn::Join": [
                "",
                [
                  "arn:",
                  {
                    "Ref": "AWS::Partition"
                  },
                  ":execute-api:",
                  {
                    "Ref": "AWS::Region"
                  },
                  ":",
                  {
                    "Ref": "AWS::AccountId"
                  },
                  ":",
                  {
                    "Ref": "ApiGatewayRestApi"
                  },
                  "/*/*"
                ]
              ]
            }
          }
        },
        "AuthorizeLambdaPermissionApiGateway": {
          "Type": "AWS::Lambda::Permission",
          "Properties": {
            "FunctionName": {
              "Fn::GetAtt": [
                "AuthorizeLambdaFunction",
                "Arn"
              ]
            },
            "Action": "lambda:InvokeFunction",
            "Principal": "apigateway.amazonaws.com",
            "SourceArn": {
              "Fn::Join": [
                "",
                [
                  "arn:",
                  {
                    "Ref": "AWS::Partition"
                  },
                  ":execute-api:",
                  {
                    "Ref": "AWS::Region"
                  },
                  ":",
                  {
                    "Ref": "AWS::AccountId"
                  },
                  ":",
                  {
                    "Ref": "ApiGatewayRestApi"
                  },
                  "/*/*"
                ]
              ]
            }
          }
        },
        "GetAvailableOrdersLambdaPermissionApiGateway": {
          "Type": "AWS::Lambda::Permission",
          "Properties": {
            "FunctionName": {
              "Fn::GetAtt": [
                "GetAvailableOrdersLambdaFunction",
                "Arn"
              ]
            },
            "Action": "lambda:InvokeFunction",
            "Principal": "apigateway.amazonaws.com",
            "SourceArn": {
              "Fn::Join": [
                "",
                [
                  "arn:",
                  {
                    "Ref": "AWS::Partition"
                  },
                  ":execute-api:",
                  {
                    "Ref": "AWS::Region"
                  },
                  ":",
                  {
                    "Ref": "AWS::AccountId"
                  },
                  ":",
                  {
                    "Ref": "ApiGatewayRestApi"
                  },
                  "/*/*"
                ]
              ]
            }
          }
        },
        "GetAssignedOrdersLambdaPermissionApiGateway": {
          "Type": "AWS::Lambda::Permission",
          "Properties": {
            "FunctionName": {
              "Fn::GetAtt": [
                "GetAssignedOrdersLambdaFunction",
                "Arn"
              ]
            },
            "Action": "lambda:InvokeFunction",
            "Principal": "apigateway.amazonaws.com",
            "SourceArn": {
              "Fn::Join": [
                "",
                [
                  "arn:",
                  {
                    "Ref": "AWS::Partition"
                  },
                  ":execute-api:",
                  {
                    "Ref": "AWS::Region"
                  },
                  ":",
                  {
                    "Ref": "AWS::AccountId"
                  },
                  ":",
                  {
                    "Ref": "ApiGatewayRestApi"
                  },
                  "/*/*"
                ]
              ]
            }
          }
        },
        "GetOrderDetailLambdaPermissionApiGateway": {
          "Type": "AWS::Lambda::Permission",
          "Properties": {
            "FunctionName": {
              "Fn::GetAtt": [
                "GetOrderDetailLambdaFunction",
                "Arn"
              ]
            },
            "Action": "lambda:InvokeFunction",
            "Principal": "apigateway.amazonaws.com",
            "SourceArn": {
              "Fn::Join": [
                "",
                [
                  "arn:",
                  {
                    "Ref": "AWS::Partition"
                  },
                  ":execute-api:",
                  {
                    "Ref": "AWS::Region"
                  },
                  ":",
                  {
                    "Ref": "AWS::AccountId"
                  },
                  ":",
                  {
                    "Ref": "ApiGatewayRestApi"
                  },
                  "/*/*"
                ]
              ]
            }
          }
        },
        "GetDriverStatsLambdaPermissionApiGateway": {
          "Type": "AWS::Lambda::Permission",
          "Properties": {
            "FunctionName": {
              "Fn::GetAtt": [
                "GetDriverStatsLambdaFunction",
                "Arn"
              ]
            },
            "Action": "lambda:InvokeFunction",
            "Principal": "apigateway.amazonaws.com",
            "SourceArn": {
              "Fn::Join": [
                "",
                [
                  "arn:",
                  {
                    "Ref": "AWS::Partition"
                  },
                  ":execute-api:",
                  {
                    "Ref": "AWS::Region"
                  },
                  ":",
                  {
                    "Ref": "AWS::AccountId"
                  },
                  ":",
                  {
                    "Ref": "ApiGatewayRestApi"
                  },
                  "/*/*"
                ]
              ]
            }
          }
        },
        "GetDeliveryTimelineLambdaPermissionApiGateway": {
          "Type": "AWS::Lambda::Permission",
          "Properties": {
            "FunctionName": {
              "Fn::GetAtt": [
                "GetDeliveryTimelineLambdaFunction",
                "Arn"
              ]
            },
            "Action": "lambda:InvokeFunction",
            "Principal": "apigateway.amazonaws.com",
            "SourceArn": {
              "Fn::Join": [
                "",
                [
                  "arn:",
                  {
                    "Ref": "AWS::Partition"
                  },
                  ":execute-api:",
                  {
                    "Ref": "AWS::Region"
                  },
                  ":",
                  {
                    "Ref": "AWS::AccountId"
                  },
                  ":",
                  {
                    "Ref": "ApiGatewayRestApi"
                  },
                  "/*/*"
                ]
              ]
            }
          }
        },
        "CreateOrderLambdaPermissionApiGateway": {
          "Type": "AWS::Lambda::Permission",
          "Properties": {
            "FunctionName": {
              "Fn::GetAtt": [
                "CreateOrderLambdaFunction",
                "Arn"
              ]
            },
            "Action": "lambda:InvokeFunction",
            "Principal": "apigateway.amazonaws.com",
            "SourceArn": {
              "Fn::Join": [
                "",
                [
                  "arn:",
                  {
                    "Ref": "AWS::Partition"
                  },
                  ":execute-api:",
                  {
                    "Ref": "AWS::Region"
                  },
                  ":",
                  {
                    "Ref": "AWS::AccountId"
                  },
                  ":",
                  {
                    "Ref": "ApiGatewayRestApi"
                  },
                  "/*/*"
                ]
              ]
            }
          }
        },
        "GetOrdersLambdaPermissionApiGateway": {
          "Type": "AWS::Lambda::Permission",
          "Properties": {
            "FunctionName": {
              "Fn::GetAtt": [
                "GetOrdersLambdaFunction",
                "Arn"
              ]
            },
            "Action": "lambda:InvokeFunction",
            "Principal": "apigateway.amazonaws.com",
            "SourceArn": {
              "Fn::Join": [
                "",
                [
                  "arn:",
                  {
                    "Ref": "AWS::Partition"
                  },
                  ":execute-api:",
                  {
                    "Ref": "AWS::Region"
                  },
                  ":",
                  {
                    "Ref": "AWS::AccountId"
                  },
                  ":",
                  {
                    "Ref": "ApiGatewayRestApi"
                  },
                  "/*/*"
                ]
              ]
            }
          }
        },
        "GetOrderLambdaPermissionApiGateway": {
          "Type": "AWS::Lambda::Permission",
          "Properties": {
            "FunctionName": {
              "Fn::GetAtt": [
                "GetOrderLambdaFunction",
                "Arn"
              ]
            },
            "Action": "lambda:InvokeFunction",
            "Principal": "apigateway.amazonaws.com",
            "SourceArn": {
              "Fn::Join": [
                "",
                [
                  "arn:",
                  {
                    "Ref": "AWS::Partition"
                  },
                  ":execute-api:",
                  {
                    "Ref": "AWS::Region"
                  },
                  ":",
                  {
                    "Ref": "AWS::AccountId"
                  },
                  ":",
                  {
                    "Ref": "ApiGatewayRestApi"
                  },
                  "/*/*"
                ]
              ]
            }
          }
        },
        "GetDashboardLambdaPermissionApiGateway": {
          "Type": "AWS::Lambda::Permission",
          "Properties": {
            "FunctionName": {
              "Fn::GetAtt": [
                "GetDashboardLambdaFunction",
                "Arn"
              ]
            },
            "Action": "lambda:InvokeFunction",
            "Principal": "apigateway.amazonaws.com",
            "SourceArn": {
              "Fn::Join": [
                "",
                [
                  "arn:",
                  {
                    "Ref": "AWS::Partition"
                  },
                  ":execute-api:",
                  {
                    "Ref": "AWS::Region"
                  },
                  ":",
                  {
                    "Ref": "AWS::AccountId"
                  },
                  ":",
                  {
                    "Ref": "ApiGatewayRestApi"
                  },
                  "/*/*"
                ]
              ]
            }
          }
        },
        "GetOrderTimelineLambdaPermissionApiGateway": {
          "Type": "AWS::Lambda::Permission",
          "Properties": {
            "FunctionName": {
              "Fn::GetAtt": [
                "GetOrderTimelineLambdaFunction",
                "Arn"
              ]
            },
            "Action": "lambda:InvokeFunction",
            "Principal": "apigateway.amazonaws.com",
            "SourceArn": {
              "Fn::Join": [
                "",
                [
                  "arn:",
                  {
                    "Ref": "AWS::Partition"
                  },
                  ":execute-api:",
                  {
                    "Ref": "AWS::Region"
                  },
                  ":",
                  {
                    "Ref": "AWS::AccountId"
                  },
                  ":",
                  {
                    "Ref": "ApiGatewayRestApi"
                  },
                  "/*/*"
                ]
              ]
            }
          }
        },
        "GetStaffPerformanceLambdaPermissionApiGateway": {
          "Type": "AWS::Lambda::Permission",
          "Properties": {
            "FunctionName": {
              "Fn::GetAtt": [
                "GetStaffPerformanceLambdaFunction",
                "Arn"
              ]
            },
            "Action": "lambda:InvokeFunction",
            "Principal": "apigateway.amazonaws.com",
            "SourceArn": {
              "Fn::Join": [
                "",
                [
                  "arn:",
                  {
                    "Ref": "AWS::Partition"
                  },
                  ":execute-api:",
                  {
                    "Ref": "AWS::Region"
                  },
                  ":",
                  {
                    "Ref": "AWS::AccountId"
                  },
                  ":",
                  {
                    "Ref": "ApiGatewayRestApi"
                  },
                  "/*/*"
                ]
              ]
            }
          }
        },
        "GetCategoriesLambdaPermissionApiGateway": {
          "Type": "AWS::Lambda::Permission",
          "Properties": {
            "FunctionName": {
              "Fn::GetAtt": [
                "GetCategoriesLambdaFunction",
                "Arn"
              ]
            },
            "Action": "lambda:InvokeFunction",
            "Principal": "apigateway.amazonaws.com",
            "SourceArn": {
              "Fn::Join": [
                "",
                [
                  "arn:",
                  {
                    "Ref": "AWS::Partition"
                  },
                  ":execute-api:",
                  {
                    "Ref": "AWS::Region"
                  },
                  ":",
                  {
                    "Ref": "AWS::AccountId"
                  },
                  ":",
                  {
                    "Ref": "ApiGatewayRestApi"
                  },
                  "/*/*"
                ]
              ]
            }
          }
        },
        "GetItemsLambdaPermissionApiGateway": {
          "Type": "AWS::Lambda::Permission",
          "Properties": {
            "FunctionName": {
              "Fn::GetAtt": [
                "GetItemsLambdaFunction",
                "Arn"
              ]
            },
            "Action": "lambda:InvokeFunction",
            "Principal": "apigateway.amazonaws.com",
            "SourceArn": {
              "Fn::Join": [
                "",
                [
                  "arn:",
                  {
                    "Ref": "AWS::Partition"
                  },
                  ":execute-api:",
                  {
                    "Ref": "AWS::Region"
                  },
                  ":",
                  {
                    "Ref": "AWS::AccountId"
                  },
                  ":",
                  {
                    "Ref": "ApiGatewayRestApi"
                  },
                  "/*/*"
                ]
              ]
            }
          }
        },
        "UploadMenuImageLambdaPermissionApiGateway": {
          "Type": "AWS::Lambda::Permission",
          "Properties": {
            "FunctionName": {
              "Fn::GetAtt": [
                "UploadMenuImageLambdaFunction",
                "Arn"
              ]
            },
            "Action": "lambda:InvokeFunction",
            "Principal": "apigateway.amazonaws.com",
            "SourceArn": {
              "Fn::Join": [
                "",
                [
                  "arn:",
                  {
                    "Ref": "AWS::Partition"
                  },
                  ":execute-api:",
                  {
                    "Ref": "AWS::Region"
                  },
                  ":",
                  {
                    "Ref": "AWS::AccountId"
                  },
                  ":",
                  {
                    "Ref": "ApiGatewayRestApi"
                  },
                  "/*/*"
                ]
              ]
            }
          }
        },
        "OrdersTable": {
          "Type": "AWS::DynamoDB::Table",
          "Properties": {
            "TableName": "dev-Orders",
            "AttributeDefinitions": [
              {
                "AttributeName": "order_id",
                "AttributeType": "S"
              },
              {
                "AttributeName": "tenant_id",
                "AttributeType": "S"
              },
              {
                "AttributeName": "created_at",
                "AttributeType": "N"
              },
              {
                "AttributeName": "customer_id",
                "AttributeType": "S"
              },
              {
                "AttributeName": "status",
                "AttributeType": "S"
              }
            ],
            "KeySchema": [
              {
                "AttributeName": "order_id",
                "KeyType": "HASH"
              }
            ],
            "GlobalSecondaryIndexes": [
              {
                "IndexName": "tenant-created-index",
                "KeySchema": [
                  {
                    "AttributeName": "tenant_id",
                    "KeyType": "HASH"
                  },
                  {
                    "AttributeName": "created_at",
                    "KeyType": "RANGE"
                  }
                ],
                "Projection": {
                  "ProjectionType": "ALL"
                }
              },
              {
                "IndexName": "customer-orders-index",
                "KeySchema": [
                  {
                    "AttributeName": "customer_id",
                    "KeyType": "HASH"
                  },
                  {
                    "AttributeName": "created_at",
                    "KeyType": "RANGE"
                  }
                ],
                "Projection": {
                  "ProjectionType": "ALL"
                }
              },
              {
                "IndexName": "tenant-status-index",
                "KeySchema": [
                  {
                    "AttributeName": "tenant_id",
                    "KeyType": "HASH"
                  },
                  {
                    "AttributeName": "status",
                    "KeyType": "RANGE"
                  }
                ],
                "Projection": {
                  "ProjectionType": "ALL"
                }
              }
            ],
            "BillingMode": "PAY_PER_REQUEST"
          }
        },
        "WorkflowTable": {
          "Type": "AWS::DynamoDB::Table",
          "Properties": {
            "TableName": "dev-Workflow",
            "AttributeDefinitions": [
              {
                "AttributeName": "order_id",
                "AttributeType": "S"
              }
            ],
            "KeySchema": [
              {
                "AttributeName": "order_id",
                "KeyType": "HASH"
              }
            ],
            "BillingMode": "PAY_PER_REQUEST"
          }
        },
        "MenuTable": {
          "Type": "AWS::DynamoDB::Table",
          "Properties": {
            "TableName": "dev-Menu",
            "AttributeDefinitions": [
              {
                "AttributeName": "item_id",
                "AttributeType": "S"
              },
              {
                "AttributeName": "category",
                "AttributeType": "S"
              }
            ],
            "KeySchema": [
              {
                "AttributeName": "item_id",
                "KeyType": "HASH"
              }
            ],
            "GlobalSecondaryIndexes": [
              {
                "IndexName": "category-index",
                "KeySchema": [
                  {
                    "AttributeName": "category",
                    "KeyType": "HASH"
                  }
                ],
                "Projection": {
                  "ProjectionType": "ALL"
                }
              }
            ],
            "BillingMode": "PAY_PER_REQUEST"
          }
        },
        "UsersTable": {
          "Type": "AWS::DynamoDB::Table",
          "Properties": {
            "TableName": "dev-Users",
            "AttributeDefinitions": [
              {
                "AttributeName": "email",
                "AttributeType": "S"
              }
            ],
            "KeySchema": [
              {
                "AttributeName": "email",
                "KeyType": "HASH"
              }
            ],
            "BillingMode": "PAY_PER_REQUEST"
          }
        },
        "MenuImagesBucket": {
          "Type": "AWS::S3::Bucket",
          "Properties": {
            "BucketName": "millas-backend-dev-menu-images",
            "PublicAccessBlockConfiguration": {
              "BlockPublicAcls": false,
              "BlockPublicPolicy": false,
              "IgnorePublicAcls": false,
              "RestrictPublicBuckets": false
            },
            "CorsConfiguration": {
              "CorsRules": [
                {
                  "AllowedHeaders": [
                    "*"
                  ],
                  "AllowedMethods": [
                    "GET",
                    "PUT",
                    "POST",
                    "HEAD"
                  ],
                  "AllowedOrigins": [
                    "*"
                  ],
                  "MaxAge": 3000
                }
              ]
            }
          }
        },
        "MenuImagesBucketPolicy": {
          "Type": "AWS::S3::BucketPolicy",
          "Properties": {
            "Bucket": {
              "Ref": "MenuImagesBucket"
            },
            "PolicyDocument": {
              "Statement": [
                {
                  "Sid": "PublicReadGetObject",
                  "Effect": "Allow",
                  "Principal": "*",
                  "Action": [
                    "s3:GetObject"
                  ],
                  "Resource": {
                    "Fn::Sub": [
                      "arn:aws:s3:::${BucketName}/*",
                      {
                        "BucketName": {
                          "Ref": "MenuImagesBucket"
                        }
                      }
                    ]
                  }
                }
              ]
            }
          }
        },
        "CustomEventBus": {
          "Type": "AWS::Events::EventBus",
          "Properties": {
            "Name": "millas-backend-dev-event-bus"
          }
        },
        "OrderEventsRule": {
          "Type": "AWS::Events::Rule",
          "Properties": {
            "EventBusName": {
              "Ref": "CustomEventBus"
            },
            "EventPattern": {
              "source": [
                "orders.service",
                "workflow.service"
              ],
              "detail-type": [
                "OrderCreated",
                "OrderUpdated",
                "OrderConfirmed",
                "OrderCooking",
                "OrderPacking",
                "OrderInDelivery",
                "OrderDelivered",
                "OrderFailed"
              ]
            },
            "State": "ENABLED",
            "Description": "Captura todos los eventos relacionados con pedidos y workflow"
          }
        },
        "OrderWorkflowStateMachine": {
          "Type": "AWS::StepFunctions::StateMachine",
          "Properties": {
            "StateMachineName": "millas-backend-dev-order-workflow",
            "RoleArn": "arn:aws:iam::722204368591:role/LabRole",
            "DefinitionString": {
              "Fn::Sub": "{\n  \"Comment\": \"Workflow automatizado para procesamiento de pedidos\",\n  \"StartAt\": \"ConfirmOrder\",\n  \"States\": {\n    \"ConfirmOrder\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"${ConfirmOrderLambdaFunction.Arn}\",\n      \"ResultPath\": \"$.confirmResult\",\n      \"TimeoutSeconds\": 30,\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\"States.TaskFailed\", \"States.Timeout\"],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 3,\n          \"BackoffRate\": 2.0\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\"States.ALL\"],\n          \"ResultPath\": \"$.error\",\n          \"Next\": \"OrderFailed\"\n        }\n      ],\n      \"Next\": \"AssignCook\"\n    },\n    \"AssignCook\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"${AssignCookLambdaFunction.Arn}\",\n      \"ResultPath\": \"$.cookResult\",\n      \"TimeoutSeconds\": 30,\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\"States.TaskFailed\", \"States.Timeout\"],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 3,\n          \"BackoffRate\": 2.0\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\"States.ALL\"],\n          \"ResultPath\": \"$.error\",\n          \"Next\": \"OrderFailed\"\n        }\n      ],\n      \"Next\": \"WaitForCooking\"\n    },\n    \"WaitForCooking\": {\n      \"Type\": \"Wait\",\n      \"Seconds\": 300,\n      \"Comment\": \"Espera simulada de coccin (5 min)\",\n      \"Next\": \"CompleteCooking\"\n    },\n    \"CompleteCooking\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"${CompleteCookingLambdaFunction.Arn}\",\n      \"ResultPath\": \"$.cookingResult\",\n      \"TimeoutSeconds\": 30,\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\"States.TaskFailed\", \"States.Timeout\"],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 3,\n          \"BackoffRate\": 2.0\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\"States.ALL\"],\n          \"ResultPath\": \"$.error\",\n          \"Next\": \"OrderFailed\"\n        }\n      ],\n      \"Next\": \"AssignDriver\"\n    },\n    \"AssignDriver\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"${AssignDriverLambdaFunction.Arn}\",\n      \"ResultPath\": \"$.driverResult\",\n      \"TimeoutSeconds\": 30,\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\"States.TaskFailed\", \"States.Timeout\"],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 3,\n          \"BackoffRate\": 2.0\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\"States.ALL\"],\n          \"ResultPath\": \"$.error\",\n          \"Next\": \"OrderFailed\"\n        }\n      ],\n      \"Next\": \"WaitForDelivery\"\n    },\n    \"WaitForDelivery\": {\n      \"Type\": \"Wait\",\n      \"Seconds\": 600,\n      \"Comment\": \"Espera simulada de entrega (10 min)\",\n      \"Next\": \"CompleteDelivery\"\n    },\n    \"CompleteDelivery\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"${CompleteDeliveryLambdaFunction.Arn}\",\n      \"ResultPath\": \"$.deliveryResult\",\n      \"TimeoutSeconds\": 30,\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\"States.TaskFailed\", \"States.Timeout\"],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 3,\n          \"BackoffRate\": 2.0\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\"States.ALL\"],\n          \"ResultPath\": \"$.error\",\n          \"Next\": \"OrderFailed\"\n        }\n      ],\n      \"End\": true\n    },\n    \"OrderFailed\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"${HandleOrderFailureLambdaFunction.Arn}\",\n      \"ResultPath\": \"$.failureResult\",\n      \"End\": true\n    }\n  }\n}\n"
            }
          }
        }
      },
      "Outputs": {
        "ServerlessDeploymentBucketName": {
          "Value": "serverless-framework-deployments-us-east-1-ed03750a-96c8",
          "Export": {
            "Name": "sls-millas-backend-dev-ServerlessDeploymentBucketName"
          }
        },
        "LoginLambdaFunctionQualifiedArn": {
          "Description": "Current Lambda function version",
          "Value": {
            "Ref": "LoginLambdaVersionaphQJ9PIkJS7ZrmJk8c1lolToKTbzDO5VrhwjTgFG8"
          },
          "Export": {
            "Name": "sls-millas-backend-dev-LoginLambdaFunctionQualifiedArn"
          }
        },
        "RegisterLambdaFunctionQualifiedArn": {
          "Description": "Current Lambda function version",
          "Value": {
            "Ref": "RegisterLambdaVersionbtpT0jyBSYjE0RJkHQR2GTwy5gkCU2wvvahYXzsvY"
          },
          "Export": {
            "Name": "sls-millas-backend-dev-RegisterLambdaFunctionQualifiedArn"
          }
        },
        "AuthorizeLambdaFunctionQualifiedArn": {
          "Description": "Current Lambda function version",
          "Value": {
            "Ref": "AuthorizeLambdaVersion9kIZfxNyrtkhxR4ezdFExK1MgsGEp6VaaxaWHLFQw"
          },
          "Export": {
            "Name": "sls-millas-backend-dev-AuthorizeLambdaFunctionQualifiedArn"
          }
        },
        "LogoutLambdaFunctionQualifiedArn": {
          "Description": "Current Lambda function version",
          "Value": {
            "Ref": "LogoutLambdaVersionxfx87mUNWSc4ZtDqjCFh7zgxZwIujel6tvnvY1aQ"
          },
          "Export": {
            "Name": "sls-millas-backend-dev-LogoutLambdaFunctionQualifiedArn"
          }
        },
        "GetAvailableOrdersLambdaFunctionQualifiedArn": {
          "Description": "Current Lambda function version",
          "Value": {
            "Ref": "GetAvailableOrdersLambdaVersionwg2XpITl6o0z069gQccKnP8URDtfDsgqf7toansZ0"
          },
          "Export": {
            "Name": "sls-millas-backend-dev-GetAvailableOrdersLambdaFunctionQualifiedArn"
          }
        },
        "GetAssignedOrdersLambdaFunctionQualifiedArn": {
          "Description": "Current Lambda function version",
          "Value": {
            "Ref": "GetAssignedOrdersLambdaVersionEz9of5EIujgXIYroQwX2pz1BQNOPrhNeLYsWTGl8WY"
          },
          "Export": {
            "Name": "sls-millas-backend-dev-GetAssignedOrdersLambdaFunctionQualifiedArn"
          }
        },
        "GetOrderDetailLambdaFunctionQualifiedArn": {
          "Description": "Current Lambda function version",
          "Value": {
            "Ref": "GetOrderDetailLambdaVersionhTIbZeAmcDQIQTzwdEdCrPpG5lI5RS6EzG7dFo5v1A"
          },
          "Export": {
            "Name": "sls-millas-backend-dev-GetOrderDetailLambdaFunctionQualifiedArn"
          }
        },
        "GetDriverStatsLambdaFunctionQualifiedArn": {
          "Description": "Current Lambda function version",
          "Value": {
            "Ref": "GetDriverStatsLambdaVersionZKyMwIuGbR3DYnL3g6cKTifmZJ0BKvZvrOVls4b1k"
          },
          "Export": {
            "Name": "sls-millas-backend-dev-GetDriverStatsLambdaFunctionQualifiedArn"
          }
        },
        "GetDeliveryTimelineLambdaFunctionQualifiedArn": {
          "Description": "Current Lambda function version",
          "Value": {
            "Ref": "GetDeliveryTimelineLambdaVersionogV7zN8ja8e90bjj8bCSixHEhSWfSpP99tgwCCe2I"
          },
          "Export": {
            "Name": "sls-millas-backend-dev-GetDeliveryTimelineLambdaFunctionQualifiedArn"
          }
        },
        "CreateOrderLambdaFunctionQualifiedArn": {
          "Description": "Current Lambda function version",
          "Value": {
            "Ref": "CreateOrderLambdaVersion708X0aLFN6zSlouROuJM1wkaIrxbSFLSuL6gGARXqk"
          },
          "Export": {
            "Name": "sls-millas-backend-dev-CreateOrderLambdaFunctionQualifiedArn"
          }
        },
        "GetOrdersLambdaFunctionQualifiedArn": {
          "Description": "Current Lambda function version",
          "Value": {
            "Ref": "GetOrdersLambdaVersionvMUX4oNCcSgdrmMPEut0gU4Kb1uPpYLfIGKAmcPwA"
          },
          "Export": {
            "Name": "sls-millas-backend-dev-GetOrdersLambdaFunctionQualifiedArn"
          }
        },
        "GetOrderLambdaFunctionQualifiedArn": {
          "Description": "Current Lambda function version",
          "Value": {
            "Ref": "GetOrderLambdaVersionXyr1z2lOrPcAD4YYEBnoaYOvwvRjRUfhKNZotWkLA8"
          },
          "Export": {
            "Name": "sls-millas-backend-dev-GetOrderLambdaFunctionQualifiedArn"
          }
        },
        "GetDashboardLambdaFunctionQualifiedArn": {
          "Description": "Current Lambda function version",
          "Value": {
            "Ref": "GetDashboardLambdaVersionjyQzwC4lCgTQ4QoYkWVBkPBr4mLdAkVRnhgCKkCrs"
          },
          "Export": {
            "Name": "sls-millas-backend-dev-GetDashboardLambdaFunctionQualifiedArn"
          }
        },
        "GetOrderTimelineLambdaFunctionQualifiedArn": {
          "Description": "Current Lambda function version",
          "Value": {
            "Ref": "GetOrderTimelineLambdaVersionJCxZFUAw8r5zhbaVdN56fEMdqRptL4mU6zWlAu1oFw"
          },
          "Export": {
            "Name": "sls-millas-backend-dev-GetOrderTimelineLambdaFunctionQualifiedArn"
          }
        },
        "GetStaffPerformanceLambdaFunctionQualifiedArn": {
          "Description": "Current Lambda function version",
          "Value": {
            "Ref": "GetStaffPerformanceLambdaVersionDLO6SjVc987YLfeCsru4QglAFcgYeXBiGqtCvdNp9sg"
          },
          "Export": {
            "Name": "sls-millas-backend-dev-GetStaffPerformanceLambdaFunctionQualifiedArn"
          }
        },
        "GetCategoriesLambdaFunctionQualifiedArn": {
          "Description": "Current Lambda function version",
          "Value": {
            "Ref": "GetCategoriesLambdaVersionz4Z4TaF72WGiMTQSpQ34wzLYSoEpIO2xDoTqgxJwiP8"
          },
          "Export": {
            "Name": "sls-millas-backend-dev-GetCategoriesLambdaFunctionQualifiedArn"
          }
        },
        "GetItemsLambdaFunctionQualifiedArn": {
          "Description": "Current Lambda function version",
          "Value": {
            "Ref": "GetItemsLambdaVersionfYjYkcJLP4Pk9FpStypNgsTo69fVkVSY7IhbX8Mc"
          },
          "Export": {
            "Name": "sls-millas-backend-dev-GetItemsLambdaFunctionQualifiedArn"
          }
        },
        "UploadMenuImageLambdaFunctionQualifiedArn": {
          "Description": "Current Lambda function version",
          "Value": {
            "Ref": "UploadMenuImageLambdaVersionEewWJa4Aif27h1pInPa6wilbieIhHuATWuaXabb2FlU"
          },
          "Export": {
            "Name": "sls-millas-backend-dev-UploadMenuImageLambdaFunctionQualifiedArn"
          }
        },
        "ConfirmOrderLambdaFunctionQualifiedArn": {
          "Description": "Current Lambda function version",
          "Value": {
            "Ref": "ConfirmOrderLambdaVersionIaVUZ1aWWcf83x9eK67oYI9cX5MuuRBvjWWKrcUOH8"
          },
          "Export": {
            "Name": "sls-millas-backend-dev-ConfirmOrderLambdaFunctionQualifiedArn"
          }
        },
        "AssignCookLambdaFunctionQualifiedArn": {
          "Description": "Current Lambda function version",
          "Value": {
            "Ref": "AssignCookLambdaVersionotdZlix7ZPMpnCvnPVL9nQOOOopfqfkcuZrrTlJiiRc"
          },
          "Export": {
            "Name": "sls-millas-backend-dev-AssignCookLambdaFunctionQualifiedArn"
          }
        },
        "CompleteCookingLambdaFunctionQualifiedArn": {
          "Description": "Current Lambda function version",
          "Value": {
            "Ref": "CompleteCookingLambdaVersionhYj0gAxmKtwRKTOCPIayUure0MfTX42aI2EIyejlWc"
          },
          "Export": {
            "Name": "sls-millas-backend-dev-CompleteCookingLambdaFunctionQualifiedArn"
          }
        },
        "AssignDriverLambdaFunctionQualifiedArn": {
          "Description": "Current Lambda function version",
          "Value": {
            "Ref": "AssignDriverLambdaVersionBrqsPyY9rztOt28PJHOMFLWzdDUECrnzdkgIXmDH4"
          },
          "Export": {
            "Name": "sls-millas-backend-dev-AssignDriverLambdaFunctionQualifiedArn"
          }
        },
        "CompleteDeliveryLambdaFunctionQualifiedArn": {
          "Description": "Current Lambda function version",
          "Value": {
            "Ref": "CompleteDeliveryLambdaVersionqBFkmHtUTpGYhySC6MHfGU3s7UPia3cm0GSTHdubc"
          },
          "Export": {
            "Name": "sls-millas-backend-dev-CompleteDeliveryLambdaFunctionQualifiedArn"
          }
        },
        "HandleOrderFailureLambdaFunctionQualifiedArn": {
          "Description": "Current Lambda function version",
          "Value": {
            "Ref": "HandleOrderFailureLambdaVersionF5AelsDCEKAAVXARMiVgifIF0ZuwTgZx3QBsxszHY"
          },
          "Export": {
            "Name": "sls-millas-backend-dev-HandleOrderFailureLambdaFunctionQualifiedArn"
          }
        },
        "ServiceEndpoint": {
          "Description": "URL of the service endpoint",
          "Value": {
            "Fn::Join": [
              "",
              [
                "https://",
                {
                  "Ref": "ApiGatewayRestApi"
                },
                ".execute-api.",
                {
                  "Ref": "AWS::Region"
                },
                ".",
                {
                  "Ref": "AWS::URLSuffix"
                },
                "/dev"
              ]
            ]
          },
          "Export": {
            "Name": "sls-millas-backend-dev-ServiceEndpoint"
          }
        }
      }
    }
  }
}